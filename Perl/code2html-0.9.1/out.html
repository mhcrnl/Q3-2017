<html>
<head>
  <title>code2html</title>
</head>
<body bgcolor="#ffffff" text="#000000">
<pre>
<font color="#444444">#!/usr/bin/perl -w
</font><strong>my</strong> <font color="#2040a0">$vernr</font> = <font color="#008000">&quot;0.9.1&quot;</font>;
<strong>my</strong> <font color="#2040a0">$monthshort</font> = <font color="#008000">&quot;Jan&quot;</font>;
<strong>my</strong> <font color="#2040a0">$monthlong</font> = <font color="#008000">&quot;Jan&quot;</font>;
<strong>my</strong> <font color="#2040a0">$year</font> = <font color="#008000">&quot;2002&quot;</font>;
<font color="#444444">########################################################################
#                                                                      #
# Code2HTML                                                            #
# ---------                                                            #
#                                                                      #
# Code2Html, peter@palfrader.org                                       #
#                                                                      #
# $Date: 2002/01/12 21:17:02 $
# $Revision: 1.13 $
# $Id: code2html,v 1.13 2002/01/12 21:17:02 weaselp Exp $
#                                                                      #
# AUTHOR                                                               #
#        Peter  Palfrader. Written in 1999, 2000, 2001, 2002.          #
#        A lot of other people. See CREDITS file.                      #
#                                                                      #
# DESCRIPTION                                                          #
#        code2html is a  perlscript  which  converts  a  program       #
#        source  code  to syntax highlighted HTML by applying a set    #
#        of   regular   expressions   depending   on  the  language    #
#        the source code is written.                                   #
#                                                                      #
#        see the man-page for details,                                 #
#                                                                      #
########################################################################

</font><strong>use</strong> strict;
<strong>use</strong> Getopt::Long;

<strong>my</strong> <font color="#2040a0">$FILES_DISALLOWED_IN_CGI</font> = 1;
<font color="#444444"># you may set this to false to allow file reading from your hd in 
# cgi mode. This may be not good if your httpd runs as 'root' (yes, I've
# seen this!) and so any user could with some knowledge easily read
# your /etc/shadow for example!
</font><strong>my</strong> <font color="#2040a0">$FILES_REDIRECT_DISALLOWED</font> = 1;
<strong>my</strong> <font color="#2040a0">$LANG_TEST_LENGTH</font> = 1024;


<font color="#444444"># PP: I think Compress::Zlib could be nice for this. but it's not very widespread :(
# PP: A hash would be nicer but then it would not possible to get the keys in this very order (AFAIK)
# PP: If names contain meta characters, then those must be metaquoted (if you don't want the meta chars to be meta chars of course)
</font><strong>my</strong> <font color="#2040a0">@CGI_ENCODING</font> = <font color="4444FF"><strong>(</strong></font>
		    <font color="4444FF"><strong>[</strong></font><font color="#008000">'bzip2'</font>     , <font color="#008000">'/usr/bin/bzip2'</font>    , <font color="#008000">'--stdout'</font> <font color="4444FF"><strong>]</strong></font>,
		    <font color="4444FF"><strong>[</strong></font><font color="#008000">'gzip'</font>      , <font color="#008000">'/bin/gzip'</font>         , <font color="#008000">'--stdout'</font> <font color="4444FF"><strong>]</strong></font>,
		    <font color="4444FF"><strong>[</strong></font><font color="#008000">'compress'</font>  , <font color="#008000">'/usr/bin/compress'</font> , <font color="#008000">'-c'</font> <font color="4444FF"><strong>]</strong></font>
		   <font color="4444FF"><strong>)</strong></font>;



<font color="#444444"># undefine the input record separator so everything gets loaded in one turn
</font><font color="a52a2a"><strong>undef</strong></font> <font color="#2040a0">$</font>/;



<strong>my</strong> <font color="#2040a0">$pure_version_message</font> = <font color="#008000">&quot;Code2Html, version <font color="#2040a0">$vernr</font>, <font color="#2040a0">$monthshort</font> <font color="#2040a0">$year</font>, peter<font color="#77dd77">\@</font>palfrader.org&quot;</font>;
<strong>my</strong> <font color="#2040a0">$version_message</font> = <font color="#008000">&quot;<font color="#2040a0">$pure_version_message</font><font color="#77dd77">\n</font>&quot;</font>;

<strong>my</strong> <font color="#2040a0">$short_short_help</font> = <font color="#008000">&quot;Try `code2html --help' for more information.<font color="#77dd77">\n</font>&quot;</font>;
<strong>my</strong> <font color="#2040a0">$short_help</font> = 
<font color="#008000">&quot;<font color="#2040a0">$pure_version_message</font>
Usage: code2html [options] [input_file [output_file]]

Convert a program source to syntax highlighted HTML,
or any other  format for wich rules are defined.

-l, --language-mode   set language mode
    --fallback LANG   fallback language mode
-v, --verbose         prints progress information to STDER
-n, --linenumbers     print out the source code with line numbers
-P, --prefix          optional prefix to use for linenumber anchors
-N, --linknumbers     linenumbers will link to themselves
-t, --replace-tabs[=TABSTOP-WIDTH] 
                      replace &lt;tabs&gt; with spaces
-L, --language-file=LANGUAGE-FILE
                      specify an alternate file for definitions
-m, --modes           print all available modes
-h, --help            print this message
-V, --version         print version
-c, --content-type    prints a Content-Type header
-o, --output-format   selects the output-format
-H, --no-header       don't use the template
    --template=FILE   override template
-T, --title           set title

-w, --linewidth       max characters per line
-b, --linebreakprefix prefix of the new lines

see the man-page code2html for further help
&quot;</font>;





<strong>my</strong> <font color="#2040a0">$USE_CGI_FOR_ERRORS</font>      = 0; <font color="#444444"># is switched on in parse params if necessary
</font><font color="#2040a0">$SIG</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'__DIE__'</font><font color="4444FF"><strong>}</strong></font> = 
  sub <font color="4444FF"><strong>{</strong></font>
    <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$USE_CGI_FOR_ERRORS</font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font> <font color="a52a2a"><strong>print</strong></font> <font color="#008000">&quot;Content-Type: text/plain<font color="#77dd77">\n</font><font color="#77dd77">\n</font>&quot;</font>, <font color="#2040a0">$0</font>, <font color="#008000">': '</font>, <font color="#2040a0">$_</font><font color="4444FF"><strong>[</strong></font>0<font color="4444FF"><strong>]</strong></font>, <font color="#008000">&quot;<font color="#77dd77">\n</font>&quot;</font>; <font color="4444FF"><strong>}</strong></font>
    <strong>else</strong>                     <font color="4444FF"><strong>{</strong></font> <font color="a52a2a"><strong>print</strong></font> STDERR <font color="#2040a0">$0</font>, <font color="#008000">': '</font>, <font color="#2040a0">$_</font><font color="4444FF"><strong>[</strong></font>0<font color="4444FF"><strong>]</strong></font>;                                <font color="4444FF"><strong>}</strong></font>;
    <strong>exit</strong> 1;
  <font color="4444FF"><strong>}</strong></font>;

<font color="#2040a0">$SIG</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'__WARN__'</font><font color="4444FF"><strong>}</strong></font> = 
  sub <font color="4444FF"><strong>{</strong></font>
    <strong>unless</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$USE_CGI_FOR_ERRORS</font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font> <font color="a52a2a"><strong>print</strong></font> STDERR <font color="#2040a0">$0</font>.<font color="#008000">': '</font>.<font color="#2040a0">$_</font><font color="4444FF"><strong>[</strong></font>0<font color="4444FF"><strong>]</strong></font>; <font color="4444FF"><strong>}</strong></font>;
  <font color="4444FF"><strong>}</strong></font>;









<strong>my</strong> <font color="#2040a0">$DEFAULT_OUTPUTFORMAT</font>=<font color="#008000">'html'</font>;
<strong>my</strong> <font color="#2040a0">$DEFAULT_OUTPUTFORMAT_IN_CGI</font>=<font color="#008000">'html'</font>;
<strong>my</strong> <font color="#2040a0">$ENTITIES</font>;
<strong>my</strong> <font color="#2040a0">%ENTITIES</font>;


<strong>my</strong> <font color="#2040a0">%params</font> = &amp;parse_params;
<strong>if</strong>    <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'what_to_do'</font><font color="4444FF"><strong>}</strong></font> <strong>eq</strong> <font color="#008000">'patch_html'</font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font> &amp;patch_html<font color="4444FF"><strong>(</strong></font>\<font color="#2040a0">%params</font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>}</strong></font>
<strong>elsif</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'what_to_do'</font><font color="4444FF"><strong>}</strong></font> <strong>eq</strong> <font color="#008000">'normal'</font>    <font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font> &amp;main<font color="4444FF"><strong>(</strong></font>\<font color="#2040a0">%params</font><font color="4444FF"><strong>)</strong></font>       <font color="4444FF"><strong>}</strong></font>
<strong>else</strong>  <font color="4444FF"><strong>{</strong></font> <strong>die</strong><font color="4444FF"><strong>(</strong></font><font color="#008000">&quot;I don't know what to do :(<font color="#77dd77">\n</font>&quot;</font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>}</strong></font>;










<strong>sub<font color="ff0000"> main</font>
  {</strong>
      <strong>my</strong> <font color="#2040a0">%params</font> = <font color="#2040a0">%{shift()}</font>;


      <font color="a52a2a"><strong>print</strong></font> STDERR <font color="#008000">&quot;getting patterns...<font color="#77dd77">\n</font>&quot;</font>                      <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'verbose'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>;
      <font color="#444444"># building up the database
      # newer entries overwrite old ones
      </font><strong>my</strong> <font color="#2040a0">@CONFIG_FILES</font>;
      <font color="a52a2a"><strong>push</strong></font> <font color="#2040a0">@CONFIG_FILES</font>, <font color="#008000">&quot;/etc/code2html.config&quot;</font>;
      <font color="a52a2a"><strong>push</strong></font> <font color="#2040a0">@CONFIG_FILES</font>, <font color="#2040a0">$ENV</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'HOME'</font><font color="4444FF"><strong>}</strong></font>.<font color="#008000">&quot;/.code2html.config&quot;</font>   <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">$ENV</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'HOME'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font>;
      <font color="a52a2a"><strong>push</strong></font> <font color="#2040a0">@CONFIG_FILES</font>, <font color="a52a2a"><strong>split</strong></font><font color="4444FF"><strong>(</strong></font><font color="b000d0">/:/</font>,<font color="#2040a0">$ENV</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'CODE2HTML_CONFIG'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font> <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$ENV</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'CODE2HTML_CONFIG'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>;
      <font color="a52a2a"><strong>push</strong></font> <font color="#2040a0">@CONFIG_FILES</font>, <font color="a52a2a"><strong>split</strong></font><font color="4444FF"><strong>(</strong></font><font color="b000d0">/:/</font>,<font color="#2040a0">$params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'langfile'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>      <strong>if</strong> <font color="a52a2a"><strong>defined</strong></font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">$params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'langfile'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>;
     
      <strong>my</strong> <font color="#2040a0">%STYLESHEET</font> = <font color="#2040a0">%{ &amp;get_default_stylesheet }</font> ; 
      <strong>my</strong> <font color="#2040a0">%LANGUAGE</font>   = <font color="#2040a0">%{ &amp;get_default_database   }</font> ; 

      <strong>for</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">@CONFIG_FILES</font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
	  <strong>if</strong> <font color="4444FF"><strong>(</strong></font> -r <font color="#2040a0">$_</font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>{</strong></font>
	      <font color="#444444"># if I use `do $_` instead of scalar eval... %LANGUAGE is not exported and imported correctly (read: at all) (PP)
	      </font><strong>unless</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>scalar</strong></font> <strong>eval</strong> `cat <font color="#2040a0">$_</font>`<font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>     
		  <font color="a52a2a"><strong>warn</strong></font> <font color="#008000">&quot;couldn't parse <font color="#2040a0">$_</font>: <font color="#2040a0">$@</font>&quot;</font> <strong>if</strong> <font color="#2040a0">$@</font>;
	      <font color="4444FF"><strong>}</strong></font>;
	  <font color="4444FF"><strong>}</strong></font>;
      <font color="4444FF"><strong>}</strong></font>;




      <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">$params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'modes'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font> &amp;&amp; <font color="#2040a0">$params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'modes'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>
	<font color="4444FF"><strong>{</strong></font>
	    <font color="a52a2a"><strong>print</strong></font> <font color="#008000">&quot;Defined modes: &quot;</font>;
	    <font color="a52a2a"><strong>print</strong></font> <font color="a52a2a"><strong>join</strong></font><font color="4444FF"><strong>(</strong></font> <font color="#008000">', '</font>, <font color="a52a2a"><strong>sort</strong></font> <font color="a52a2a"><strong>keys</strong></font> <font color="#2040a0">%LANGUAGE</font> <font color="4444FF"><strong>)</strong></font>, <font color="#008000">&quot;.<font color="#77dd77">\n</font>&quot;</font> ;
	    <font color="a52a2a"><strong>print</strong></font> <font color="#008000">&quot;Defined outputformats: &quot;</font>;
	    <font color="a52a2a"><strong>print</strong></font> <font color="a52a2a"><strong>join</strong></font><font color="4444FF"><strong>(</strong></font> <font color="#008000">', '</font>, <font color="a52a2a"><strong>sort</strong></font> <font color="a52a2a"><strong>keys</strong></font> <font color="#2040a0">%STYLESHEET</font> <font color="4444FF"><strong>)</strong></font>, <font color="#008000">&quot;.<font color="#77dd77">\n</font>&quot;</font> ;
	    <strong>exit</strong>;
	<font color="4444FF"><strong>}</strong></font>;




      
      <font color="#444444"># set outputformat
      </font><strong>die</strong> <font color="#008000">&quot;Outputformat <font color="#2040a0">$params</font>{'outputformat'} not defined&quot;</font> <strong>unless</strong> <font color="a52a2a"><strong>defined</strong></font> <font color="#2040a0">$STYLESHEET</font><font color="4444FF"><strong>{</strong></font><font color="#2040a0">$params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'outputformat'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>}</strong></font>;
      <strong>my</strong> <font color="#2040a0">%STYLE</font> = <font color="#2040a0">% </font><font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$STYLESHEET</font><font color="4444FF"><strong>{</strong></font><font color="#2040a0">$params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'outputformat'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>}</strong></font>;
      
      <font color="#444444"># load alternate template if given
      </font><strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">$params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'template'</font><font color="4444FF"><strong>}</strong></font> <strong>ne</strong> <font color="#008000">&quot;&quot;</font><font color="4444FF"><strong>)</strong></font> &amp;&amp; <font color="4444FF"><strong>(</strong></font> ! <font color="#2040a0">$params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'noheader'</font><font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
	  <font color="a52a2a"><strong>open</strong></font> <font color="4444FF"><strong>(</strong></font>FILE, <font color="#2040a0">$params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'template'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font> || <strong>die</strong> <font color="4444FF"><strong>(</strong></font><font color="#008000">&quot;Could not open template file <font color="#2040a0">$params</font>{'template'}: <font color="#2040a0">$!</font>&quot;</font><font color="4444FF"><strong>)</strong></font>;
	  <font color="#2040a0">$STYLE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'template'</font><font color="4444FF"><strong>}</strong></font> = &lt;FILE&gt;;
	  <font color="a52a2a"><strong>close</strong></font> <font color="4444FF"><strong>(</strong></font>FILE<font color="4444FF"><strong>)</strong></font>;
      <font color="4444FF"><strong>}</strong></font>;

      <font color="#444444"># set up the global ENTITIES variables ( the scalar and the hash ) from the STYLE definition
      </font><font color="#2040a0">$ENTITIES</font> =     <font color="#2040a0">$ </font><font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$STYLE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'entities'</font><font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>{</strong></font><font color="#008000">'listofchars'</font><font color="4444FF"><strong>}</strong></font>;
      <font color="#2040a0">%ENTITIES</font> = <font color="#2040a0">% </font><font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$ </font><font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$STYLE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'entities'</font><font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>{</strong></font><font color="#008000">'replace_by'</font> <font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>}</strong></font>;

      <font color="#444444"># modify the header and footer so that the template variables are set correcly
      </font><strong>unless</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$STYLE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'template'</font><font color="4444FF"><strong>}</strong></font> =~<font color="b000d0"> /^(.*)%%code%%(.*)$/s</font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
	  <strong>die</strong> <font color="#008000">&quot;template does not contain a <font color="#2040a0">%%</font>code<font color="#2040a0">%%</font> variable&quot;</font>;
      <font color="4444FF"><strong>}</strong></font>;
      <font color="#2040a0">$STYLE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'header'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$1</font>;
      <font color="#2040a0">$STYLE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'footer'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$2</font>;
      <font color="#2040a0">$STYLE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'header'</font><font color="4444FF"><strong>}</strong></font> =~<font color="b000d0"> s/%%title%%/$params{'title'}/g</font>;
      <font color="#2040a0">$STYLE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'footer'</font><font color="4444FF"><strong>}</strong></font> =~<font color="b000d0"> s/%%title%%/$params{'title'}/g</font>;
      <font color="#2040a0">$STYLE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'header'</font><font color="4444FF"><strong>}</strong></font> =~<font color="b000d0"> s/%%version%%/$vernr/g</font>;
      <font color="#2040a0">$STYLE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'footer'</font><font color="4444FF"><strong>}</strong></font> =~<font color="b000d0"> s/%%version%%/$vernr/g</font>;



      <font color="#444444"># load the input file and set params{'langmode'} if it is not already. this is done by probing a
      # set of rules defined in %LANGUAGE
      </font><strong>my</strong> <font color="#2040a0">$code_ref</font>;
      <font color="a52a2a"><strong>print</strong></font> STDERR <font color="#008000">&quot;loading input file...<font color="#77dd77">\n</font>&quot;</font>                    <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'verbose'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>;
      <font color="#2040a0">$code_ref</font> = &amp;get_input_file<font color="4444FF"><strong>(</strong></font>\<font color="#2040a0">%params</font>, \<font color="#2040a0">%LANGUAGE</font>, <font color="#2040a0">$params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'langmode'</font><font color="4444FF"><strong>}</strong></font>, <font color="#2040a0">$params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'alt_langmode'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>;

      <font color="#444444"># select the rules for out language.
      </font><strong>my</strong> <font color="#2040a0">$language_rules_ref</font> = <font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font> <font color="a52a2a"><strong>lc</strong></font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">$params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'langmode'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>}</strong></font>-&gt;<font color="4444FF"><strong>{</strong></font><font color="#008000">'patterns'</font><font color="4444FF"><strong>}</strong></font>;

      <font color="a52a2a"><strong>print</strong></font> STDERR <font color="#008000">&quot;applying stylesheet...<font color="#77dd77">\n</font>&quot;</font>                   <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'verbose'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>;
      <font color="#444444"># Apply the Stylesheets
      # set 'starttag' and 'endtag' for every rule according to its 'style' value
      # the tags are defined in the stylesheet
      </font>&amp;apply_stylesheets_to_rules<font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$language_rules_ref</font>, \<font color="#2040a0">%STYLE</font> <font color="4444FF"><strong>)</strong></font>;

      <font color="a52a2a"><strong>print</strong></font> STDERR <font color="#008000">&quot;outputting headers...<font color="#77dd77">\n</font>&quot;</font>                    <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'verbose'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>;
      &amp;put_headers<font color="4444FF"><strong>(</strong></font>\<font color="#2040a0">%params</font>, \<font color="#2040a0">%STYLE</font><font color="4444FF"><strong>)</strong></font>;

      <strong>my</strong> <font color="#2040a0">$snippetlist_ref</font> = <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font> ;
      <font color="a52a2a"><strong>print</strong></font> STDERR <font color="#008000">&quot;creating snippet-list...<font color="#77dd77">\n</font>&quot;</font>                 <strong>if</strong> <font color="#2040a0">$params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'verbose'</font><font color="4444FF"><strong>}</strong></font>;
      &amp;create_snippetlist<font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$language_rules_ref</font>, <font color="#2040a0">$$code_ref</font>, <font color="#2040a0">$snippetlist_ref</font>, \<font color="#2040a0">%STYLE</font><font color="4444FF"><strong>)</strong></font>;

      <font color="a52a2a"><strong>print</strong></font> STDERR <font color="#008000">&quot;outputting file...<font color="#77dd77">\n</font>&quot;</font>                       <strong>if</strong> <font color="#2040a0">$params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'verbose'</font><font color="4444FF"><strong>}</strong></font>;
      <strong>return</strong> &amp;put_output<font color="4444FF"><strong>(</strong></font>\<font color="#2040a0">%params</font>, <font color="#2040a0">$snippetlist_ref</font>, \<font color="#2040a0">%STYLE</font><font color="4444FF"><strong>)</strong></font>;
<font color="4444FF"><strong>}</strong></font>





<strong>sub<font color="ff0000"> patch_html</font>
  {</strong>
      <strong>my</strong> <font color="#2040a0">%params</font> = <font color="#2040a0">%{shift()}</font>;
      <strong>my</strong> <font color="#2040a0">$code</font>;

      <font color="a52a2a"><strong>open</strong></font><font color="4444FF"><strong>(</strong></font>FILEHANDLE, <font color="#2040a0">$params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'infile'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font> || <strong>die</strong><font color="4444FF"><strong>(</strong></font><font color="#008000">&quot;While opening '<font color="#2040a0">$params</font>{'infile'}' for input: &quot;</font>.<font color="#2040a0">$!</font>.<font color="#008000">&quot;<font color="#77dd77">\n</font>&quot;</font><font color="4444FF"><strong>)</strong></font>;
      <font color="#2040a0">$code</font> = &lt;FILEHANDLE&gt;;
      <font color="a52a2a"><strong>close</strong></font><font color="4444FF"><strong>(</strong></font>FILEHANDLE<font color="4444FF"><strong>)</strong></font>;
      
      <font color="#2040a0">$code</font> =~<font color="b000d0"> s/&lt;!-- code2html delete start --&gt;.*?&lt;!-- code2html delete stop --&gt;//gs</font>;
      <strong>my</strong> <font color="#2040a0">$counter</font>=0;
      <strong>my</strong> <font color="#2040a0">@chunks</font> = <font color="a52a2a"><strong>split</strong></font> <font color="4444FF"><strong>(</strong></font><font color="b000d0"> /(&lt;!-- code2html add.*?--&gt;)/s</font> , <font color="#2040a0">$code</font><font color="4444FF"><strong>)</strong></font>;

      <font color="#2040a0">$code</font> = <font color="#008000">''</font>;
      <strong>for</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">@chunks</font><font color="4444FF"><strong>)</strong></font>
	<font color="4444FF"><strong>{</strong></font>
	    <font color="#2040a0">$code</font> .= <font color="#2040a0">$_</font>;
    	    <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$_</font> =~<font color="b000d0"> /&lt;!-- code2html add(.*?)(\n.*?)?--&gt;/s</font><font color="4444FF"><strong>)</strong></font>
	      <font color="4444FF"><strong>{</strong></font>
		  <strong>my</strong> <font color="#2040a0">$cmdline</font> = <font color="#2040a0">$1</font>; 
		  <strong>my</strong> <font color="#2040a0">$input</font>   = <font color="#2040a0">$2</font>;
		  <font color="#2040a0">$cmdline</font> =~<font color="b000d0"> s/^[ \t]*//g</font>;
		  <font color="#2040a0">$cmdline</font> =~<font color="b000d0"> s/[ \t]*$//g</font>;
		  <font color="#2040a0">@ARGV</font> = <font color="a52a2a"><strong>split</strong></font> <font color="4444FF"><strong>(</strong></font><font color="b000d0"> / /</font> , <font color="#2040a0">$cmdline</font><font color="4444FF"><strong>)</strong></font>;
		  <strong>my</strong> <font color="#2040a0">%new_params</font> = &amp;parse_params;


		  <font color="#2040a0">$new_params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'input'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$input</font>  <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$new_params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'infile'</font><font color="4444FF"><strong>}</strong></font> <strong>eq</strong> <font color="#008000">&quot;-&quot;</font><font color="4444FF"><strong>)</strong></font>;


		  <font color="a52a2a"><strong>undef</strong></font> <font color="#2040a0">$new_params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'outfile'</font><font color="4444FF"><strong>}</strong></font>;
		  ++<font color="#2040a0">$counter</font>;
		  <font color="#2040a0">$new_params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'line_number_prefix'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$counter</font> <strong>unless</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font> <font color="#2040a0">$new_params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'line_number_prefix'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>;

		  <font color="#2040a0">$new_params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'verbose'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'verbose'</font><font color="4444FF"><strong>}</strong></font>;

		  <strong>my</strong> <font color="#2040a0">$no_header</font> = <font color="#2040a0">$new_params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'noheader'</font><font color="4444FF"><strong>}</strong></font>;
		  <font color="#2040a0">$new_params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'noheader'</font><font color="4444FF"><strong>}</strong></font> = 1;
		  <font color="#2040a0">$new_params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'dont_print_output'</font><font color="4444FF"><strong>}</strong></font> = 1;

		  <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$no_header</font><font color="4444FF"><strong>)</strong></font>
		    <font color="4444FF"><strong>{</strong></font>
			<font color="#2040a0">$code</font> .= <font color="#008000">'&lt;!-- code2html delete start --&gt;'</font>..
			  &amp;main<font color="4444FF"><strong>(</strong></font>\<font color="#2040a0">%new_params</font><font color="4444FF"><strong>)</strong></font>.
			    <font color="#008000">'&lt;!-- code2html delete stop --&gt;'</font>;
		    <font color="4444FF"><strong>}</strong></font>
		  <strong>else</strong>
		    <font color="4444FF"><strong>{</strong></font>
			<font color="#2040a0">$code</font> .= <font color="#008000">'&lt;!-- code2html delete start --&gt;&lt;pre&gt;'</font>.
			  &amp;main<font color="4444FF"><strong>(</strong></font>\<font color="#2040a0">%new_params</font><font color="4444FF"><strong>)</strong></font>.
			    <font color="#008000">'&lt;/pre&gt;&lt;!-- code2html delete stop --&gt;'</font>;
		    <font color="4444FF"><strong>}</strong></font>;
	      <font color="4444FF"><strong>}</strong></font>;
	<font color="4444FF"><strong>}</strong></font>;


      <font color="a52a2a"><strong>open</strong></font><font color="4444FF"><strong>(</strong></font>FILEHANDLE, <font color="#008000">'&gt;'</font>.<font color="#2040a0">$params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'outfile'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font> || <strong>die</strong><font color="4444FF"><strong>(</strong></font><font color="#008000">&quot;While opening '<font color="#2040a0">$params</font>{'outfile'}' for output: &quot;</font>.<font color="#2040a0">$!</font>.<font color="#008000">&quot;<font color="#77dd77">\n</font>&quot;</font><font color="4444FF"><strong>)</strong></font>;
      <font color="a52a2a"><strong>print</strong></font> FILEHANDLE <font color="#2040a0">$code</font>;
      <font color="a52a2a"><strong>close</strong></font><font color="4444FF"><strong>(</strong></font>FILEHANDLE<font color="4444FF"><strong>)</strong></font>;
  <font color="4444FF"><strong>}</strong></font>;






<font color="#444444">#####################################################################
################### get_input_data ##################################
#####################################################################
# Reads the input data for the cgi script.
# in : nothing
# out: a hash with the input data
</font><strong>sub<font color="ff0000"> get_input_data</font>
  {</strong>
    <strong>my</strong> <font color="#2040a0">$input_data</font>;
    <strong>my</strong> <font color="#2040a0">%f</font>;
    <strong>if</strong><font color="4444FF"><strong>(</strong></font><font color="#2040a0">$ENV</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'REQUEST_METHOD'</font><font color="4444FF"><strong>}</strong></font> <strong>eq</strong> <font color="#008000">'GET'</font><font color="4444FF"><strong>)</strong></font>  <font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$input_data</font> = <font color="#2040a0">$ENV</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'QUERY_STRING'</font><font color="4444FF"><strong>}</strong></font>; <font color="4444FF"><strong>}</strong></font>
    <strong>else</strong> <font color="4444FF"><strong>{</strong></font>  <font color="a52a2a"><strong>read</strong></font><font color="4444FF"><strong>(</strong></font>STDIN, <font color="#2040a0">$input_data</font>, <font color="#2040a0">$ENV</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'CONTENT_LENGTH'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>; <font color="4444FF"><strong>}</strong></font>;
    
    
    <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$ENV</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'CONTENT_TYPE'</font><font color="4444FF"><strong>}</strong></font> =~<font color="b000d0"> m/^multipart\/form-data; boundary=(.*)$/i</font><font color="4444FF"><strong>)</strong></font>
      <font color="4444FF"><strong>{</strong></font>
        <strong>my</strong> <font color="#2040a0">$boundary</font> = <font color="a52a2a"><strong>quotemeta</strong></font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">$1</font><font color="4444FF"><strong>)</strong></font>;
        <strong>my</strong> <font color="#2040a0">@blocks</font> = <font color="a52a2a"><strong>split</strong></font><font color="4444FF"><strong>(</strong></font><font color="b000d0">/$boundary/</font>, <font color="#2040a0">$input_data</font><font color="4444FF"><strong>)</strong></font>;
        
        <strong>for</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">@blocks</font><font color="4444FF"><strong>)</strong></font>
          <font color="4444FF"><strong>{</strong></font>
            <strong>if</strong> <font color="4444FF"><strong>(</strong></font><strong>my</strong> <font color="#2040a0">$dummy</font> =<font color="b000d0"> m/name=&quot;(.*?)&quot;/i</font><font color="4444FF"><strong>)</strong></font> 
              <font color="4444FF"><strong>{</strong></font>
                <strong>my</strong> <font color="#2040a0">$name</font> = <font color="#2040a0">$1</font>;
                <font color="#2040a0">$_</font> =~<font color="b000d0"> s/\r\n/\n/g</font>;
               <font color="b000d0"> m/\n\n(.*)\n/s</font>;
                <strong>my</strong> <font color="#2040a0">$value</font> = <font color="#2040a0">$1</font>;
                <font color="#2040a0">$f</font><font color="4444FF"><strong>{</strong></font><font color="#2040a0">$name</font><font color="4444FF"><strong>}</strong></font>=<font color="#2040a0">$value</font>;
              <font color="4444FF"><strong>}</strong></font>;
          <font color="4444FF"><strong>}</strong></font>;
      <font color="4444FF"><strong>}</strong></font>
    <strong>elsif</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$ENV</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'CONTENT_TYPE'</font><font color="4444FF"><strong>}</strong></font> =~<font color="b000d0"> m/^multipart\/form-data;$/i</font><font color="4444FF"><strong>)</strong></font> <font color="#444444"># if the boundary is not in the enviroment variable we'll guess
      </font><font color="4444FF"><strong>{</strong></font>
        <strong>my</strong> <font color="#2040a0">$dummy</font> = <font color="#2040a0">$input_data</font> =~<font color="b000d0"> m/^(.*?)(\n|\r)/</font>;
        <strong>my</strong> <font color="#2040a0">$boundary</font> = <font color="#2040a0">$1</font>;

        <strong>my</strong> <font color="#2040a0">@blocks</font> = <font color="a52a2a"><strong>split</strong></font><font color="4444FF"><strong>(</strong></font><font color="b000d0">/$boundary/</font>, <font color="#2040a0">$input_data</font><font color="4444FF"><strong>)</strong></font>;

        <strong>for</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">@blocks</font><font color="4444FF"><strong>)</strong></font>
          <font color="4444FF"><strong>{</strong></font>
            <strong>if</strong> <font color="4444FF"><strong>(</strong></font><strong>my</strong> <font color="#2040a0">$dummy</font> =<font color="b000d0"> m/name=&quot;(.*?)&quot;/i</font><font color="4444FF"><strong>)</strong></font>
              <font color="4444FF"><strong>{</strong></font>
                <strong>my</strong> <font color="#2040a0">$name</font> = <font color="#2040a0">$1</font>;
                <font color="#2040a0">$_</font> =~<font color="b000d0"> s/\r\n/\n/g</font>;
               <font color="b000d0"> m/\n\n(.*)\n/s</font>;
                <strong>my</strong> <font color="#2040a0">$value</font> = <font color="#2040a0">$1</font>;
                <font color="#2040a0">$f</font><font color="4444FF"><strong>{</strong></font><font color="#2040a0">$name</font><font color="4444FF"><strong>}</strong></font>=<font color="#2040a0">$value</font>;
              <font color="4444FF"><strong>}</strong></font>;
          <font color="4444FF"><strong>}</strong></font>;
      <font color="4444FF"><strong>}</strong></font>
    <strong>else</strong>
      <font color="4444FF"><strong>{</strong></font>
        <strong>my</strong> <font color="#2040a0">@form_fields</font> = <font color="a52a2a"><strong>split</strong></font><font color="4444FF"><strong>(</strong></font><font color="b000d0">/&amp;/</font>, <font color="#2040a0">$input_data</font><font color="4444FF"><strong>)</strong></font>;
        
        <strong>for</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">@form_fields</font><font color="4444FF"><strong>)</strong></font>
          <font color="4444FF"><strong>{</strong></font>
            <strong>my</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$name</font>, <font color="#2040a0">$value</font><font color="4444FF"><strong>)</strong></font> = <font color="a52a2a"><strong>split</strong></font><font color="4444FF"><strong>(</strong></font><font color="b000d0">/=/</font>, <font color="#2040a0">$_</font><font color="4444FF"><strong>)</strong></font>;
            <font color="#2040a0">$value</font> =~<font color="b000d0"> tr/+/ /</font>;
            <font color="#2040a0">$value</font> =~ s<font color="b000d0">/%([a-fA-F0-9][a-fA-F0-9])/</font><font color="a52a2a"><strong>pack</strong></font><font color="4444FF"><strong>(</strong></font><font color="#008000">&quot;C&quot;</font>, <font color="a52a2a"><strong>hex</strong></font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">$1</font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font>/eg;
            
            <font color="#2040a0">$f</font><font color="4444FF"><strong>{</strong></font><font color="#2040a0">$name</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$value</font>;
          <font color="4444FF"><strong>}</strong></font>
      <font color="4444FF"><strong>}</strong></font>;

    <strong>return</strong> <font color="#2040a0">%f</font>;
  <font color="4444FF"><strong>}</strong></font>;

<font color="#444444">################################################################################
####################### parse_params ###########################################
################################################################################
</font><strong>sub<font color="ff0000"> parse_params</font>
  {</strong>
      <strong>my</strong> <font color="#2040a0">%RESULT</font>;

      <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">$ENV</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'GATEWAY_INTERFACE'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font> &amp;&amp; <font color="4444FF"><strong>(</strong></font>!<font color="a52a2a"><strong>scalar</strong></font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">@ARGV</font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font> <font color="#444444"># if there is a CGI enviroment and no parameters/options given
	</font><font color="4444FF"><strong>{</strong></font>
	    <font color="#2040a0">$USE_CGI_FOR_ERRORS</font> = 1;
	    <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'content-type'</font><font color="4444FF"><strong>}</strong></font> = 1;
	    <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'what_to_do'</font><font color="4444FF"><strong>}</strong></font> = <font color="#008000">'normal'</font>;
	    
	    <strong>my</strong> <font color="#2040a0">%input</font> = &amp;get_input_data;

	    <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'input-selector'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'input_selector'</font><font color="4444FF"><strong>}</strong></font>        <strong>unless</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font> <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'input-selector'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>;
	    <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'no-encoding'</font><font color="4444FF"><strong>}</strong></font>  = <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'no_encoding'</font><font color="4444FF"><strong>}</strong></font>             <strong>unless</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font> <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'no-encoding'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>;
	    <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'line-numbers'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'line_numbers'</font><font color="4444FF"><strong>}</strong></font>            <strong>unless</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font> <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'line-numbers'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>;
	    <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'replace-tabs'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'replace_tabs'</font><font color="4444FF"><strong>}</strong></font>            <strong>unless</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font> <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'replace-tabs'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>;
	    <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'language-mode'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'language_mode'</font><font color="4444FF"><strong>}</strong></font>          <strong>unless</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font> <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'language-mode'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>;
	    <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'cgi-input1'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'cgi_input1'</font><font color="4444FF"><strong>}</strong></font>                <strong>unless</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font> <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'cgi-input1'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>;
	    <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'cgi-input2'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'cgi_input2'</font><font color="4444FF"><strong>}</strong></font>                <strong>unless</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font> <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'cgi-input2'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>;

	    <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'input-selector'</font><font color="4444FF"><strong>}</strong></font> =~<font color="b000d0"> /^cgi[-_]input[12]$/</font> <font color="4444FF"><strong>)</strong></font>
	      <font color="4444FF"><strong>{</strong></font>
		  <strong>my</strong> <font color="#2040a0">$input_selector</font> = <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'input-selector'</font><font color="4444FF"><strong>}</strong></font>;
		  <strong>die</strong><font color="4444FF"><strong>(</strong></font><font color="#008000">&quot;CGI parse error: <font color="#2040a0">$input_selector</font> does not exist!&quot;</font><font color="4444FF"><strong>)</strong></font> <strong>unless</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font> <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#2040a0">$input_selector</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>;
		  <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'input'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#2040a0">$input_selector</font><font color="4444FF"><strong>}</strong></font>;
		  <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'title'</font><font color="4444FF"><strong>}</strong></font> = <font color="#008000">'code2html result of cgi input form'</font>;
	      <font color="4444FF"><strong>}</strong></font>
	    <strong>elsif</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'input-selector'</font><font color="4444FF"><strong>}</strong></font> <strong>eq</strong> <font color="#008000">&quot;file&quot;</font><font color="4444FF"><strong>)</strong></font>
	      <font color="4444FF"><strong>{</strong></font>
		  <strong>die</strong><font color="4444FF"><strong>(</strong></font><font color="#008000">'CGI parse error: option not supported due to security reasons!'</font><font color="4444FF"><strong>)</strong></font> <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$FILES_DISALLOWED_IN_CGI</font><font color="4444FF"><strong>)</strong></font>;
		  <strong>die</strong><font color="4444FF"><strong>(</strong></font><font color="#008000">'CGI parse error: filename not defined!'</font><font color="4444FF"><strong>)</strong></font> <strong>unless</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font> <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'filename'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>;
		  <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'infile'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'filename'</font><font color="4444FF"><strong>}</strong></font>;
		  <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'title'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'infile'</font><font color="4444FF"><strong>}</strong></font>;
	      <font color="4444FF"><strong>}</strong></font>
	    <strong>elsif</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'input-selector'</font><font color="4444FF"><strong>}</strong></font> <strong>eq</strong> <font color="#008000">&quot;REDIRECT_URL&quot;</font><font color="4444FF"><strong>)</strong></font>
	      <font color="4444FF"><strong>{</strong></font>
		  <strong>die</strong><font color="4444FF"><strong>(</strong></font><font color="#008000">'CGI parse error: option not supported due to security reasons!'</font><font color="4444FF"><strong>)</strong></font> <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$FILES_REDIRECT_DISALLOWED</font><font color="4444FF"><strong>)</strong></font>;
		  <strong>die</strong><font color="4444FF"><strong>(</strong></font><font color="#008000">'CGI parse error: ENV: REDIRECT_URL not defined!'</font><font color="4444FF"><strong>)</strong></font> <strong>unless</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font> <font color="#2040a0">$ENV</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'REDIRECT_URL'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>;
		  <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'infile'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$ENV</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'DOCUMENT_ROOT'</font><font color="4444FF"><strong>}</strong></font>.<font color="#2040a0">$ENV</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'REDIRECT_URL'</font><font color="4444FF"><strong>}</strong></font>;
		  <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'title'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'infile'</font><font color="4444FF"><strong>}</strong></font>;
	      <font color="4444FF"><strong>}</strong></font>
	    <strong>else</strong>
	      <font color="4444FF"><strong>{</strong></font>
		  <strong>die</strong><font color="4444FF"><strong>(</strong></font><font color="#008000">'CGI parse error: input selector not given!'</font><font color="4444FF"><strong>)</strong></font>;
	      <font color="4444FF"><strong>}</strong></font>;
	    
	    <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="4444FF"><strong>(</strong></font>!<font color="a52a2a"><strong>defined</strong></font> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'no-encoding'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font> || <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'no-encoding'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>
	      <font color="4444FF"><strong>{</strong></font>
		  <strong>for</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">@CGI_ENCODING</font><font color="4444FF"><strong>)</strong></font>
		    <font color="4444FF"><strong>{</strong></font>
			<strong>if</strong> <font color="4444FF"><strong>(</strong></font> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$ENV</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'HTTP_ACCEPT_ENCODING'</font><font color="4444FF"><strong>}</strong></font> =~<font color="b000d0"> m/\b $_-&gt;[0] \b/x</font><font color="4444FF"><strong>)</strong></font>  &amp;&amp;  <font color="#444444"># PP: if supported by the browser
			     </font><font color="4444FF"><strong>(</strong></font>-x <font color="#2040a0">$_</font>-&gt;<font color="4444FF"><strong>[</strong></font>1<font color="4444FF"><strong>]</strong></font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>)</strong></font>                                           <font color="#444444"># PP: and executable by the script
			  </font><font color="4444FF"><strong>{</strong></font>
			      <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'encoding'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$_</font>-&gt;<font color="4444FF"><strong>[</strong></font>0<font color="4444FF"><strong>]</strong></font>;
			      <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'encoder'</font> <font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$_</font>-&gt;<font color="4444FF"><strong>[</strong></font>1<font color="4444FF"><strong>]</strong></font> .<font color="#008000">' '</font>. <font color="#2040a0">$_</font>-&gt;<font color="4444FF"><strong>[</strong></font>2<font color="4444FF"><strong>]</strong></font>;
			      <strong>last</strong>;
			  <font color="4444FF"><strong>}</strong></font>;
		    <font color="4444FF"><strong>}</strong></font>
	      <font color="4444FF"><strong>}</strong></font>;

	    <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'linenumbers'</font><font color="4444FF"><strong>}</strong></font> = <font color="#008000">'none'</font>;
	    <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'line-numbers'</font><font color="4444FF"><strong>}</strong></font> <strong>eq</strong> <font color="#008000">&quot;yes&quot;</font><font color="4444FF"><strong>)</strong></font>  <font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'linenumbers'</font><font color="4444FF"><strong>}</strong></font> = <font color="#008000">'normal'</font>; <font color="4444FF"><strong>}</strong></font>;
	    <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'line-numbers'</font><font color="4444FF"><strong>}</strong></font> <strong>eq</strong> <font color="#008000">&quot;link&quot;</font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'linenumbers'</font><font color="4444FF"><strong>}</strong></font> = <font color="#008000">'linked'</font>; <font color="4444FF"><strong>}</strong></font>;
	    <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'replace_tabs'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font>  <font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'replacetabs'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'replace-tabs'</font><font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>}</strong></font>;
	    <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'fallback'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font>      <font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'alt_langmode'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'fallback'</font><font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>}</strong></font>;
	    <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'language_mode'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'langmode'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'language-mode'</font><font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>}</strong></font>;
	    <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'title'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font>         <font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'title'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$input</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'title'</font><font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>}</strong></font>;

	    <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'content_type'</font><font color="4444FF"><strong>}</strong></font> = 1;
	    <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'outputformat'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$DEFAULT_OUTPUTFORMAT_IN_CGI</font>;
	    <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'outfile'</font><font color="4444FF"><strong>}</strong></font>      = <font color="#008000">'-'</font>;
	<font color="4444FF"><strong>}</strong></font>
      <strong>else</strong>
	<font color="4444FF"><strong>{</strong></font>
	    <strong>my</strong> <font color="#2040a0">$verbose</font>           = 0;
	    <strong>my</strong> <font color="#2040a0">$linenumbers</font>       = 0;
	    <strong>my</strong> <font color="#2040a0">$linknumbers</font>       = 0;
	    <strong>my</strong> <font color="#2040a0">$replace_tabs</font>      = 0;
	    <strong>my</strong> <font color="#2040a0">$language_file</font>     = <font color="#008000">''</font>;
	    <strong>my</strong> <font color="#2040a0">$language_mode</font>     = <font color="#008000">''</font>;
	    <strong>my</strong> <font color="#2040a0">$modes</font>             = 0;
	    <strong>my</strong> <font color="#2040a0">$fallback</font>          = <font color="#008000">''</font>;
	    <strong>my</strong> <font color="#2040a0">$help</font>              = 0;
	    <strong>my</strong> <font color="#2040a0">$version</font>           = 0;
	    <strong>my</strong> <font color="#2040a0">$content_type</font>      = 0;
	    <strong>my</strong> <font color="#2040a0">$no_header</font>         = 0;
	    <strong>my</strong> <font color="#2040a0">$outputformat</font>      = <font color="#2040a0">$DEFAULT_OUTPUTFORMAT</font>;
	    <strong>my</strong> <font color="#2040a0">$template</font>          = <font color="#008000">''</font>;
	    <strong>my</strong> <font color="#2040a0">$title</font>             = <font color="#008000">&quot;__NOTHING__<font color="#2040a0">$$&quot;</font></font>; <font color="#444444"># some magix ;(
	    </font><strong>my</strong> <font color="#2040a0">$prefix</font>            = <font color="a52a2a"><strong>undef</strong></font>;
            <strong>my</strong> <font color="#2040a0">$linewidth</font>         = <font color="a52a2a"><strong>undef</strong></font>;
            <strong>my</strong> <font color="#2040a0">$linebreakprefix</font>   = <font color="a52a2a"><strong>undef</strong></font>;
            <strong>my</strong> <font color="#2040a0">$linebreakprefixdefault</font> = <font color="#008000">' '</font>;

	    <strong>my</strong> <font color="#2040a0">$patch_html</font>;


	    <font color="#444444"># Get Options does not like - as a parameters (used for STDIN and STDOUT)
	    # So we're using a stupid magix again
	    </font><font color="#2040a0">@ARGV</font>      = <font color="a52a2a"><strong>map</strong></font> <font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$_</font> <strong>eq</strong> <font color="#008000">'-'</font> ? <font color="#008000">&quot;__STD__<font color="#2040a0">$$&quot;</font></font> : <font color="#2040a0">$_</font> <font color="4444FF"><strong>}</strong></font> <font color="#2040a0">@ARGV</font>; 

	    Getopt::Long::config<font color="4444FF"><strong>(</strong></font><font color="#008000">'bundling'</font><font color="4444FF"><strong>)</strong></font>;
	    <strong>unless</strong> <font color="4444FF"><strong>(</strong></font> GetOptions<font color="4444FF"><strong>(</strong></font> 
				<font color="#008000">&quot;--verbose&quot;</font>               , \<font color="#2040a0">$verbose</font>              , 
				<font color="#008000">&quot;-v&quot;</font>                      , \<font color="#2040a0">$verbose</font>            ,
			      
				<font color="#008000">&quot;--linenumbers&quot;</font>           , \<font color="#2040a0">$linenumbers</font>          , 
				<font color="#008000">&quot;-n&quot;</font>                      , \<font color="#2040a0">$linenumbers</font>        , 
			      
				<font color="#008000">&quot;--linknumbers&quot;</font>           , \<font color="#2040a0">$linknumbers</font>          , 
				<font color="#008000">&quot;-N&quot;</font>                      , \<font color="#2040a0">$linknumbers</font>        , 

				<font color="#008000">&quot;--prefix=s&quot;</font>              , \<font color="#2040a0">$prefix</font>               ,
				<font color="#008000">&quot;-P=s&quot;</font>                    , \<font color="#2040a0">$prefix</font>               ,
			      
				<font color="#008000">&quot;--replace-tabs=i&quot;</font>        , \<font color="#2040a0">$replace_tabs</font>         , 
				<font color="#008000">&quot;--replace_tabs=i&quot;</font>        , \<font color="#2040a0">$replace_tabs</font>         , 
				<font color="#008000">&quot;-t=i&quot;</font>                    , \<font color="#2040a0">$replace_tabs</font>       , 
				
				<font color="#008000">&quot;--language-file=s&quot;</font>       , \<font color="#2040a0">$language_file</font>        , 
				<font color="#008000">&quot;--language_file=s&quot;</font>       , \<font color="#2040a0">$language_file</font>        , 
				<font color="#008000">&quot;-L=s&quot;</font>                    , \<font color="#2040a0">$language_file</font>        , 
				
				<font color="#008000">&quot;--language-mode=s&quot;</font>       , \<font color="#2040a0">$language_mode</font>        , 
				<font color="#008000">&quot;--language_mode=s&quot;</font>       , \<font color="#2040a0">$language_mode</font>        , 
				<font color="#008000">&quot;-l=s&quot;</font>                    , \<font color="#2040a0">$language_mode</font>        ,
				
				<font color="#008000">&quot;--title=s&quot;</font>               , \<font color="#2040a0">$title</font>                , 
				<font color="#008000">&quot;-T=s&quot;</font>                    , \<font color="#2040a0">$title</font>                ,
				
				<font color="#008000">&quot;--modes&quot;</font>                 , \<font color="#2040a0">$modes</font>                , 
				<font color="#008000">&quot;-m&quot;</font>                      , \<font color="#2040a0">$modes</font>                , 
				
				<font color="#008000">&quot;--fallback=s&quot;</font>            , \<font color="#2040a0">$fallback</font>             , 
				
				<font color="#008000">&quot;--output=s&quot;</font>              , \<font color="#2040a0">$outputformat</font>         , 
				<font color="#008000">&quot;-o=s&quot;</font>                    , \<font color="#2040a0">$outputformat</font>         , 
			      
				<font color="#008000">&quot;--template=s&quot;</font>            , \<font color="#2040a0">$template</font>             ,
			      
				<font color="#008000">&quot;--help&quot;</font>                  , \<font color="#2040a0">$help</font>                 , 
				<font color="#008000">&quot;-h&quot;</font>                      , \<font color="#2040a0">$help</font>                 , 

				<font color="#008000">&quot;--version&quot;</font>               , \<font color="#2040a0">$version</font>              , 
				<font color="#008000">&quot;-V&quot;</font>                      , \<font color="#2040a0">$version</font>              , 
			      
				<font color="#008000">&quot;--content-type&quot;</font>          , \<font color="#2040a0">$content_type</font>         , 
				<font color="#008000">&quot;--content_type&quot;</font>          , \<font color="#2040a0">$content_type</font>         , 
				<font color="#008000">&quot;-c&quot;</font>                      , \<font color="#2040a0">$content_type</font>         , 
				
				<font color="#008000">&quot;--no-header&quot;</font>             , \<font color="#2040a0">$no_header</font>            ,
				<font color="#008000">&quot;--no_header&quot;</font>             , \<font color="#2040a0">$no_header</font>            ,
				<font color="#008000">&quot;-H&quot;</font>                      , \<font color="#2040a0">$no_header</font>            ,

			    
				<font color="#008000">&quot;--patch-html&quot;</font>            , \<font color="#2040a0">$patch_html</font>           ,
				<font color="#008000">&quot;--patch_html&quot;</font>            , \<font color="#2040a0">$patch_html</font>           ,
				<font color="#008000">&quot;-p&quot;</font>                      , \<font color="#2040a0">$patch_html</font>           ,

				<font color="#008000">&quot;--linewidth=i&quot;</font>           , \<font color="#2040a0">$linewidth</font>            ,
				<font color="#008000">&quot;-w=i&quot;</font>                    , \<font color="#2040a0">$linewidth</font>            ,
				<font color="#008000">&quot;--linebreakprefix=s&quot;</font>     , \<font color="#2040a0">$linebreakprefix</font>      ,
				<font color="#008000">&quot;-b=s&quot;</font>                    , \<font color="#2040a0">$linebreakprefix</font>      ,
			       <font color="4444FF"><strong>)</strong></font>
		   <font color="4444FF"><strong>)</strong></font>
	      <font color="4444FF"><strong>{</strong></font>
		  <font color="a52a2a"><strong>print</strong></font> STDERR <font color="#2040a0">$short_short_help</font>;
		  <strong>exit</strong> 1;
	      <font color="4444FF"><strong>}</strong></font>

	    <font color="#444444">#reversing magix
	    </font><font color="#2040a0">@ARGV</font>      = <font color="a52a2a"><strong>map</strong></font> <font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$_</font> <strong>eq</strong> <font color="#008000">&quot;__STD__<font color="#2040a0">$$&quot;</font></font> ? <font color="#008000">'-'</font> : <font color="#2040a0">$_</font> <font color="4444FF"><strong>}</strong></font> <font color="#2040a0">@ARGV</font>; 

	    <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$help</font><font color="4444FF"><strong>)</strong></font>              <font color="4444FF"><strong>{</strong></font> <font color="a52a2a"><strong>print</strong></font> STDERR <font color="#2040a0">$short_help</font>;    <strong>exit</strong> 0; <font color="4444FF"><strong>}</strong></font>;
	    <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$version</font><font color="4444FF"><strong>)</strong></font>           <font color="4444FF"><strong>{</strong></font> <font color="a52a2a"><strong>print</strong></font> <font color="#2040a0">$version_message</font>;      <strong>exit</strong> 0; <font color="4444FF"><strong>}</strong></font>;

	    <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$patch_html</font><font color="4444FF"><strong>)</strong></font>
	      <font color="4444FF"><strong>{</strong></font>
		  <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'what_to_do'</font><font color="4444FF"><strong>}</strong></font> = <font color="#008000">'patch_html'</font>;
		  <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'verbose'</font><font color="4444FF"><strong>}</strong></font>    = <font color="#2040a0">$verbose</font>;

		  <strong>if</strong> <font color="4444FF"><strong>(</strong></font>!<font color="a52a2a"><strong>defined</strong></font> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'infile'</font><font color="4444FF"><strong>}</strong></font>        = <font color="a52a2a"><strong>shift</strong></font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">@ARGV</font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'infile'</font><font color="4444FF"><strong>}</strong></font> = <font color="#008000">'-'</font> <font color="4444FF"><strong>}</strong></font>;
		  <strong>if</strong> <font color="4444FF"><strong>(</strong></font>!<font color="a52a2a"><strong>defined</strong></font> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'outfile'</font><font color="4444FF"><strong>}</strong></font>       = <font color="a52a2a"><strong>shift</strong></font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">@ARGV</font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'outfile'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'infile'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>}</strong></font>;
		  <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>shift</strong></font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">@ARGV</font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font> <font color="a52a2a"><strong>print</strong></font> STDERR  <font color="#008000">&quot;too many parameters!<font color="#77dd77">\n</font>&quot;</font>;
						<font color="a52a2a"><strong>print</strong></font> STDERR <font color="#2040a0">$short_help</font>;
						<strong>exit</strong> 1;
					    <font color="4444FF"><strong>}</strong></font>;
	      <font color="4444FF"><strong>}</strong></font>
	    <strong>else</strong>
	      <font color="4444FF"><strong>{</strong></font>
		  <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'what_to_do'</font><font color="4444FF"><strong>}</strong></font> = <font color="#008000">'normal'</font>;

		  <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'verbose'</font><font color="4444FF"><strong>}</strong></font>        = <font color="#2040a0">$verbose</font>;
		  <strong>if</strong>    <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$linknumbers</font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'linenumbers'</font><font color="4444FF"><strong>}</strong></font>    = <font color="#008000">'linked'</font> <font color="4444FF"><strong>}</strong></font>
		  <strong>elsif</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$linenumbers</font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'linenumbers'</font><font color="4444FF"><strong>}</strong></font>    = <font color="#008000">'normal'</font> <font color="4444FF"><strong>}</strong></font>
		  <strong>else</strong>                 <font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'linenumbers'</font><font color="4444FF"><strong>}</strong></font>    = <font color="#008000">'none'</font> <font color="4444FF"><strong>}</strong></font>;
		  <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'line_number_prefix'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$prefix</font>;
		  <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'replacetabs'</font><font color="4444FF"><strong>}</strong></font>    = <font color="#2040a0">$replace_tabs</font>;
		  <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'langfile'</font><font color="4444FF"><strong>}</strong></font>       = <font color="#2040a0">$language_file</font>;
		  <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'modes'</font><font color="4444FF"><strong>}</strong></font>          = <font color="#2040a0">$modes</font>;
		  <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'alt_langmode'</font><font color="4444FF"><strong>}</strong></font>   = <font color="#2040a0">$fallback</font>;
		  <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'content_type'</font><font color="4444FF"><strong>}</strong></font>   = <font color="#2040a0">$content_type</font>;
		  <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'noheader'</font><font color="4444FF"><strong>}</strong></font>       = <font color="#2040a0">$no_header</font>;
		  <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'langmode'</font><font color="4444FF"><strong>}</strong></font>       = <font color="#2040a0">$language_mode</font>;
		  <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'template'</font><font color="4444FF"><strong>}</strong></font>       = <font color="#2040a0">$template</font>;
		  <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'outputformat'</font><font color="4444FF"><strong>}</strong></font>   = <font color="#2040a0">$outputformat</font>;
		  <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'linewidth'</font><font color="4444FF"><strong>}</strong></font>      = <font color="#2040a0">$linewidth</font>;
		  <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'linebreakprefix'</font><font color="4444FF"><strong>}</strong></font>= <font color="#2040a0">$linebreakprefix</font>;

		  <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'linebreakprefix'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font> &amp;&amp;
		      !<font color="a52a2a"><strong>defined</strong></font> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'linewidth'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
		      <font color="a52a2a"><strong>printf</strong></font> <font color="4444FF"><strong>(</strong></font>STDERR <font color="#008000">&quot;--linebreakprefix|-b does not make sense without --linewidth|-w!<font color="#77dd77">\n</font>&quot;</font><font color="4444FF"><strong>)</strong></font>;
		      <font color="a52a2a"><strong>print</strong></font> STDERR <font color="#2040a0">$short_help</font>;
		      <strong>exit</strong> 1;
		  <font color="4444FF"><strong>}</strong></font>
		  <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'linewidth'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
		      <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'linewidth'</font><font color="4444FF"><strong>}</strong></font> &lt;= 0<font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
			  <font color="a52a2a"><strong>printf</strong></font> <font color="4444FF"><strong>(</strong></font>STDERR <font color="#008000">&quot;linewidth must be greater then 0!<font color="#77dd77">\n</font>&quot;</font><font color="4444FF"><strong>)</strong></font>;
			  <font color="a52a2a"><strong>print</strong></font> STDERR <font color="#2040a0">$short_help</font>;
			  <strong>exit</strong> 1;
		      <font color="4444FF"><strong>}</strong></font>
		      <strong>if</strong> <font color="4444FF"><strong>(</strong></font>!<font color="a52a2a"><strong>defined</strong></font> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'linebreakprefix'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
			  <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'linebreakprefix'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$linebreakprefixdefault</font>;
		      <font color="4444FF"><strong>}</strong></font>
		  <font color="4444FF"><strong>}</strong></font>

		  <strong>if</strong> <font color="4444FF"><strong>(</strong></font>!<font color="a52a2a"><strong>defined</strong></font> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'infile'</font><font color="4444FF"><strong>}</strong></font>          = <font color="a52a2a"><strong>shift</strong></font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">@ARGV</font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'infile'</font><font color="4444FF"><strong>}</strong></font> = <font color="#008000">'-'</font><font color="4444FF"><strong>}</strong></font>;
		  <strong>if</strong> <font color="4444FF"><strong>(</strong></font>!<font color="a52a2a"><strong>defined</strong></font> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'outfile'</font><font color="4444FF"><strong>}</strong></font>         = <font color="a52a2a"><strong>shift</strong></font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">@ARGV</font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'outfile'</font><font color="4444FF"><strong>}</strong></font> = <font color="#008000">'-'</font><font color="4444FF"><strong>}</strong></font>;
		  <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>shift</strong></font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">@ARGV</font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font> <font color="a52a2a"><strong>print</strong></font> STDERR  <font color="#008000">&quot;too many parameters!<font color="#77dd77">\n</font>&quot;</font>;
						<font color="a52a2a"><strong>print</strong></font> STDERR <font color="#2040a0">$short_help</font>;
						<strong>exit</strong> 1;
					    <font color="4444FF"><strong>}</strong></font>;
	      <font color="4444FF"><strong>}</strong></font>;
	      <font color="#444444">#the magix again
	    </font><font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'title'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$title</font> <strong>eq</strong>  <font color="#008000">&quot;__NOTHING__<font color="#2040a0">$$&quot;</font></font> ? <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'infile'</font><font color="4444FF"><strong>}</strong></font> <strong>eq</strong> <font color="#008000">'-'</font> ? <font color="#008000">'STDIN'</font> : <font color="#2040a0">$RESULT</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'infile'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font> : <font color="#2040a0">$title</font>;
	<font color="4444FF"><strong>}</strong></font>;


      <strong>return</strong> <font color="#2040a0">%RESULT</font>;
  <font color="4444FF"><strong>}</strong></font>;


<font color="#444444">################################################################################
####################### checkTabulator #########################################
################################################################################
</font><strong>sub<font color="ff0000"> checkTabulator</font>
{</strong>
    <strong>my</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$line</font>, <font color="#2040a0">$TABSTOP</font><font color="4444FF"><strong>)</strong></font> = <font color="#2040a0">@_</font>;
    
    <strong>while</strong> <font color="4444FF"><strong>(</strong></font><font color="4444FF"><strong>(</strong></font><strong>my</strong> <font color="#2040a0">$at</font> = <font color="a52a2a"><strong>index</strong></font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">$line</font>, <font color="#008000">&quot;<font color="#77dd77">\t</font>&quot;</font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font> != -1<font color="4444FF"><strong>)</strong></font>
      <font color="4444FF"><strong>{</strong></font>
	  <strong>my</strong> <font color="#2040a0">$cnt</font> = <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$TABSTOP</font> - <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$at</font> <font color="#2040a0">% </font><font color="#2040a0">$TABSTOP</font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font>;
	  <strong>my</strong> <font color="#2040a0">$replace_with</font> = <font color="#008000">' '</font> x <font color="#2040a0">$cnt</font> <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$cnt</font><font color="4444FF"><strong>)</strong></font>;
	  <font color="#2040a0">$line</font> =~<font color="b000d0"> s/\t/$replace_with/</font>;
      <font color="4444FF"><strong>}</strong></font>;

    <strong>return</strong> <font color="#2040a0">$line</font>;
<font color="4444FF"><strong>}</strong></font>

<font color="#444444">################################################################################
####################### splitLine ##############################################
################################################################################
</font><strong>sub<font color="ff0000"> splitLine</font>
{</strong>
    <strong>my</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$line</font>, <font color="#2040a0">$linewidth</font>, <font color="#2040a0">$prefix</font><font color="4444FF"><strong>)</strong></font> = <font color="#2040a0">@_</font>;
    
    <strong>my</strong> <font color="#2040a0">$length</font> = <font color="a52a2a"><strong>length</strong></font> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$line</font><font color="4444FF"><strong>)</strong></font>;
    <strong>my</strong> <font color="#2040a0">$pos</font> = 0;

    <strong>while</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$length</font> - <font color="#2040a0">$pos</font> &gt; <font color="#2040a0">$linewidth</font><font color="4444FF"><strong>)</strong></font>
      <font color="4444FF"><strong>{</strong></font>
          <strong>my</strong> <font color="#2040a0">$maxoff</font> = <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$pos</font> + <font color="#2040a0">$linewidth</font> &gt; <font color="#2040a0">$length</font><font color="4444FF"><strong>)</strong></font> ? <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$length</font> - 1<font color="4444FF"><strong>)</strong></font>
                                                     : <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$pos</font> + <font color="#2040a0">$linewidth</font><font color="4444FF"><strong>)</strong></font>;
          <strong>my</strong> <font color="#2040a0">$newpos</font> = <font color="a52a2a"><strong>rindex</strong></font> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$line</font>, <font color="#008000">&quot; &quot;</font>, <font color="#2040a0">$maxoff</font><font color="4444FF"><strong>)</strong></font>;
	  <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$newpos</font> &gt; <font color="#2040a0">$pos</font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
	      <font color="#2040a0">$pos</font> = <font color="#2040a0">$newpos</font>;
	      <font color="#2040a0">$line</font> = <font color="a52a2a"><strong>substr</strong></font> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$line</font>, 0, <font color="#2040a0">$pos</font><font color="4444FF"><strong>)</strong></font>.<font color="#008000">&quot;<font color="#77dd77">\0</font><font color="#2040a0">$prefix</font>&quot;</font>.<font color="a52a2a"><strong>substr</strong></font> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$line</font>, <font color="#2040a0">$pos</font> + 1, <font color="#2040a0">$length</font><font color="4444FF"><strong>)</strong></font>;
	  <font color="4444FF"><strong>}</strong></font> <strong>else</strong> <font color="4444FF"><strong>{</strong></font>
	      <font color="#2040a0">$pos</font> = <font color="#2040a0">$pos</font> + <font color="#2040a0">$linewidth</font> + 1;
	      <font color="#2040a0">$line</font> = <font color="a52a2a"><strong>substr</strong></font> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$line</font>, 0, <font color="#2040a0">$pos</font><font color="4444FF"><strong>)</strong></font>.<font color="#008000">&quot;<font color="#77dd77">\0</font><font color="#2040a0">$prefix</font>&quot;</font>.<font color="a52a2a"><strong>substr</strong></font> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$line</font>, <font color="#2040a0">$pos</font>, <font color="#2040a0">$length</font><font color="4444FF"><strong>)</strong></font>;
	  <font color="4444FF"><strong>}</strong></font>
      <font color="4444FF"><strong>}</strong></font>;

    <strong>return</strong> <font color="#2040a0">$line</font>;
<font color="4444FF"><strong>}</strong></font>

<font color="#444444">################################################################################
####################### get_input_file #########################################
################################################################################
</font><strong>sub<font color="ff0000"> get_input_file</font>
  {</strong>

    <font color="#444444"># in  : \%params
    # in : \%LANGUAGE;
    # in/out : $langmode;
    # in/out : $alt_langmode;
    # returns: input file
    
      </font><strong>my</strong> <font color="#2040a0">%PARAMS</font>       = <font color="#2040a0">%{$_[0]}</font>;
      <strong>my</strong> <font color="#2040a0">%LANGUAGE</font>     = <font color="#2040a0">%{$_[1]}</font>;
      <strong>my</strong> <font color="#2040a0">$langmode</font>     = <font color="#2040a0">$_</font><font color="4444FF"><strong>[</strong></font>2<font color="4444FF"><strong>]</strong></font>;
      <strong>my</strong> <font color="#2040a0">$alt_langmode</font>  = <font color="#2040a0">$_</font><font color="4444FF"><strong>[</strong></font>3<font color="4444FF"><strong>]</strong></font>;
      <strong>my</strong> <font color="#2040a0">$code</font>;

      
      <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font> <font color="#2040a0">$PARAMS</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'input'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>
	<font color="4444FF"><strong>{</strong></font>
	    <font color="#2040a0">$code</font> = <font color="#2040a0">$PARAMS</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'input'</font><font color="4444FF"><strong>}</strong></font>;
	    <font color="#2040a0">$code</font> =~<font color="b000d0"> s/\r//g</font>;
	<font color="4444FF"><strong>}</strong></font>
      <strong>else</strong>
	<font color="4444FF"><strong>{</strong></font>
	    <font color="a52a2a"><strong>open</strong></font><font color="4444FF"><strong>(</strong></font>FILEHANDLE, <font color="#2040a0">$PARAMS</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'infile'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font> || <strong>die</strong><font color="4444FF"><strong>(</strong></font><font color="#008000">&quot;While opening '<font color="#2040a0">$PARAMS</font>{'infile'}' for input: &quot;</font>.<font color="#2040a0">$!</font>.<font color="#008000">&quot;<font color="#77dd77">\n</font>&quot;</font><font color="4444FF"><strong>)</strong></font>;
	    <font color="#2040a0">$code</font> = &lt;FILEHANDLE&gt;;
	    <font color="a52a2a"><strong>close</strong></font><font color="4444FF"><strong>(</strong></font>FILEHANDLE<font color="4444FF"><strong>)</strong></font>;
	<font color="4444FF"><strong>}</strong></font>;
      
      <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$PARAMS</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'replacetabs'</font><font color="4444FF"><strong>}</strong></font> != 0<font color="4444FF"><strong>)</strong></font>
	<font color="4444FF"><strong>{</strong></font>
	    <font color="#2040a0">$code</font> = <font color="a52a2a"><strong>join</strong></font> <font color="4444FF"><strong>(</strong></font>
			  <font color="#008000">&quot;<font color="#77dd77">\n</font>&quot;</font>,
			  <font color="a52a2a"><strong>map</strong></font><font color="4444FF"><strong>{</strong></font>
			      &amp;checkTabulator<font color="4444FF"><strong>(</strong></font><font color="#2040a0">$_</font>, <font color="#2040a0">$PARAMS</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'replacetabs'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>
			  <font color="4444FF"><strong>}</strong></font>
			  <strong>my</strong> <font color="#2040a0">@dummy</font> = <font color="a52a2a"><strong>split</strong></font><font color="4444FF"><strong>(</strong></font><font color="b000d0">/\n/</font>, <font color="#2040a0">$code</font><font color="4444FF"><strong>)</strong></font>
			 <font color="4444FF"><strong>)</strong></font>;
	<font color="4444FF"><strong>}</strong></font>;



      <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$PARAMS</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'linewidth'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font>
	<font color="4444FF"><strong>{</strong></font>
	    <font color="#2040a0">$code</font> = <font color="a52a2a"><strong>join</strong></font> <font color="4444FF"><strong>(</strong></font>
			  <font color="#008000">&quot;<font color="#77dd77">\n</font>&quot;</font>,
			  <font color="a52a2a"><strong>map</strong></font><font color="4444FF"><strong>{</strong></font>
			      &amp;splitLine<font color="4444FF"><strong>(</strong></font><font color="#2040a0">$_</font>, <font color="#2040a0">$PARAMS</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'linewidth'</font><font color="4444FF"><strong>}</strong></font>,
					 <font color="#2040a0">$PARAMS</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'linebreakprefix'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>
			  <font color="4444FF"><strong>}</strong></font>
			  <strong>my</strong> <font color="#2040a0">@dummy</font> = <font color="a52a2a"><strong>split</strong></font><font color="4444FF"><strong>(</strong></font><font color="b000d0">/\n/</font>, <font color="#2040a0">$code</font><font color="4444FF"><strong>)</strong></font>
			 <font color="4444FF"><strong>)</strong></font>;
	<font color="4444FF"><strong>}</strong></font>;
      

      
      <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="4444FF"><strong>(</strong></font>!<font color="a52a2a"><strong>defined</strong></font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">$langmode</font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font> || <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$langmode</font> <strong>eq</strong> <font color="#008000">''</font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font>
	<font color="4444FF"><strong>{</strong></font>
	    <strong>my</strong> <font color="#2040a0">$test_code</font> = <font color="a52a2a"><strong>substr</strong></font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">$code</font>, 0, <font color="#2040a0">$LANG_TEST_LENGTH</font><font color="4444FF"><strong>)</strong></font>;
	    <font color="a52a2a"><strong>warn</strong></font><font color="4444FF"><strong>(</strong></font><font color="#008000">&quot;language mode not given. guessing...<font color="#77dd77">\n</font>&quot;</font><font color="4444FF"><strong>)</strong></font>;

	    <font color="#2040a0">$langmode</font> = <font color="#008000">''</font>;

	    <strong>for</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>keys</strong></font> <font color="#2040a0">%LANGUAGE</font><font color="4444FF"><strong>)</strong></font>
	      <font color="4444FF"><strong>{</strong></font>
		  <strong>if</strong> <font color="4444FF"><strong>(</strong></font>  <font color="4444FF"><strong>(</strong></font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#2040a0">$_</font><font color="4444FF"><strong>}</strong></font>-&gt;<font color="4444FF"><strong>{</strong></font><font color="#008000">'filename'</font><font color="4444FF"><strong>}</strong></font> <strong>ne</strong> <font color="#008000">''</font><font color="4444FF"><strong>)</strong></font> &amp;&amp; <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$PARAMS</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'infile'</font><font color="4444FF"><strong>}</strong></font> =~ <font color="b000d0"> m/$LANGUAGE{$_}-&gt;{filename}/</font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font>  ||
		        <font color="4444FF"><strong>(</strong></font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#2040a0">$_</font><font color="4444FF"><strong>}</strong></font>-&gt;<font color="4444FF"><strong>{</strong></font><font color="#008000">'regex'</font><font color="4444FF"><strong>}</strong></font>    <strong>ne</strong> <font color="#008000">''</font><font color="4444FF"><strong>)</strong></font> &amp;&amp; <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$test_code</font>        =~ <font color="b000d0"> m/$LANGUAGE{$_}-&gt;{regex}/</font>   <font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font>   <font color="4444FF"><strong>)</strong></font>
		    <font color="4444FF"><strong>{</strong></font>
			<font color="#2040a0">$langmode</font> = <font color="#2040a0">$_</font>;
			<strong>last</strong>;
		    <font color="4444FF"><strong>}</strong></font>;
	      <font color="4444FF"><strong>}</strong></font>;

	    <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$langmode</font> <strong>eq</strong> <font color="#008000">''</font><font color="4444FF"><strong>)</strong></font>
	      <font color="4444FF"><strong>{</strong></font>
		  <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">$alt_langmode</font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font> &amp;&amp; <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$alt_langmode</font> <strong>ne</strong> <font color="#008000">''</font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font>
		    <font color="4444FF"><strong>{</strong></font>
			<font color="a52a2a"><strong>warn</strong></font><font color="4444FF"><strong>(</strong></font><font color="#008000">&quot;Guessing language mode failed. Using fallback mode: '<font color="#2040a0">$alt_langmode</font>'<font color="#77dd77">\n</font>&quot;</font><font color="4444FF"><strong>)</strong></font>;
			<font color="#2040a0">$langmode</font> = <font color="#2040a0">$alt_langmode</font>;
			<font color="#2040a0">$alt_langmode</font> = <font color="#008000">''</font>;
		    <font color="4444FF"><strong>}</strong></font>
		  <strong>else</strong>
		    <font color="4444FF"><strong>{</strong></font>
			<strong>die</strong><font color="4444FF"><strong>(</strong></font><font color="#008000">&quot;Guessing language mode failed.<font color="#77dd77">\n</font>&quot;</font><font color="4444FF"><strong>)</strong></font>
		    <font color="4444FF"><strong>}</strong></font>;
	      <font color="4444FF"><strong>}</strong></font>
	    <strong>else</strong>
	      <font color="4444FF"><strong>{</strong></font>
		  <font color="a52a2a"><strong>warn</strong></font><font color="4444FF"><strong>(</strong></font><font color="#008000">&quot;using '<font color="#2040a0">$langmode</font>'<font color="#77dd77">\n</font>&quot;</font><font color="4444FF"><strong>)</strong></font>;
	      <font color="4444FF"><strong>}</strong></font>;
	<font color="4444FF"><strong>}</strong></font>;
      
      <font color="#2040a0">$_</font><font color="4444FF"><strong>[</strong></font>2<font color="4444FF"><strong>]</strong></font> = <font color="#2040a0">$langmode</font>;
      <font color="#2040a0">$_</font><font color="4444FF"><strong>[</strong></font>3<font color="4444FF"><strong>]</strong></font> = <font color="#2040a0">$alt_langmode</font>;
      <strong>return</strong> \<font color="#2040a0">$code</font>;
  <font color="4444FF"><strong>}</strong></font>;


<font color="#444444">################################################################################
####################### put_headers ############################################
################################################################################
</font><strong>sub<font color="ff0000"> put_headers</font>
{</strong>	
      <strong>my</strong> <font color="#2040a0">%PARAMS</font> = <font color="#2040a0">%{shift()}</font>;
      <strong>my</strong> <font color="#2040a0">$STYLE_REF</font> = <font color="a52a2a"><strong>shift</strong></font><font color="4444FF"><strong>(</strong></font><font color="4444FF"><strong>)</strong></font>;

      <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">$PARAMS</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'outfile'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font>
	<font color="4444FF"><strong>{</strong></font>
	    <strong>unless</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$PARAMS</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'outfile'</font><font color="4444FF"><strong>}</strong></font> <strong>eq</strong> <font color="#008000">'-'</font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>{</strong></font>
		<font color="a52a2a"><strong>open</strong></font><font color="4444FF"><strong>(</strong></font>SAVEOUT, <font color="#008000">&quot;&gt;&amp;STDOUT&quot;</font><font color="4444FF"><strong>)</strong></font>;             <font color="a52a2a"><strong>print</strong></font> SAVEOUT <font color="#008000">''</font>;  <font color="#444444"># so perl does not typo warn
		</font><font color="a52a2a"><strong>open</strong></font> <font color="4444FF"><strong>(</strong></font>STDOUT, <font color="#008000">'&gt;'</font>.<font color="#2040a0">$PARAMS</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'outfile'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font> || <strong>die</strong><font color="4444FF"><strong>(</strong></font><font color="#008000">&quot;While redirecting STDOUT to '<font color="#2040a0">$PARAMS</font>{'outfile'}' for output: &quot;</font>.<font color="#2040a0">$!</font>.<font color="#008000">&quot;<font color="#77dd77">\n</font>&quot;</font><font color="4444FF"><strong>)</strong></font>;
	    <font color="4444FF"><strong>}</strong></font>;

	    <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font> <font color="#2040a0">$PARAMS</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'encoding'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font> 
	      <font color="4444FF"><strong>{</strong></font>
		  <font color="#2040a0">$|</font>=1; <font color="#444444"># PP: so the header is written before the data!
		        # PP: this took me hours of debugging :(
		  </font><font color="a52a2a"><strong>print</strong></font> <font color="#008000">&quot;Content-Type: <font color="#2040a0">$$STYLE_REF</font>{'content-type'}<font color="#77dd77">\n</font>&quot;</font>                                                    <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$PARAMS</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'content_type'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>;
		  <font color="a52a2a"><strong>print</strong></font> <font color="#008000">&quot;Content-Encoding: <font color="#2040a0">$PARAMS</font>{'encoding'}<font color="#77dd77">\n</font><font color="#77dd77">\n</font>&quot;</font>;
		  <font color="a52a2a"><strong>open</strong></font> <font color="4444FF"><strong>(</strong></font>FILEHANDLE, <font color="#008000">&quot;|<font color="#2040a0">$PARAMS</font>{'encoder'}&quot;</font><font color="4444FF"><strong>)</strong></font> || <strong>die</strong><font color="4444FF"><strong>(</strong></font><font color="#008000">&quot;While opening '<font color="#2040a0">$PARAMS</font>{'encoder'}': &quot;</font>.<font color="#2040a0">$!</font>.<font color="#008000">&quot;<font color="#77dd77">\n</font>&quot;</font><font color="4444FF"><strong>)</strong></font>;
	      <font color="4444FF"><strong>}</strong></font>
	    <strong>else</strong>
	      <font color="4444FF"><strong>{</strong></font>
		  <font color="a52a2a"><strong>open</strong></font><font color="4444FF"><strong>(</strong></font> FILEHANDLE, <font color="#008000">&quot;&gt;&amp;STDOUT&quot;</font> <font color="4444FF"><strong>)</strong></font> ;
		  <font color="a52a2a"><strong>print</strong></font> FILEHANDLE <font color="#008000">&quot;Content-Type: <font color="#2040a0">$$STYLE_REF</font>{'content-type'}<font color="#77dd77">\n</font><font color="#77dd77">\n</font>&quot;</font>                                       <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$PARAMS</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'content_type'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>;
	      <font color="4444FF"><strong>}</strong></font>;
	     
	     <font color="a52a2a"><strong>print</strong></font> FILEHANDLE <font color="#2040a0">$$STYLE_REF</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'header'</font><font color="4444FF"><strong>}</strong></font> <strong>unless</strong> <font color="#2040a0">$PARAMS</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'noheader'</font><font color="4444FF"><strong>}</strong></font>;
        <font color="4444FF"><strong>}</strong></font>
<font color="4444FF"><strong>}</strong></font>;

<font color="#444444">################################################################################
####################### apply_stylesheets_to_rules #############################
################################################################################
</font><strong>sub<font color="ff0000"> apply_stylesheets_to_rules</font>
  {</strong>
      <strong>my</strong> <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$regexps_ref</font>, <font color="#2040a0">$style_ref</font> <font color="4444FF"><strong>)</strong></font> = <font color="#2040a0">@_</font>;

      <strong>for</strong> <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">@$regexps_ref</font> <font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
<font color="#444444">#	  warn (&quot;Style '&quot;.$_-&gt;{style}.&quot;' not defined in stylesheet.\n&quot;) unless defined $ { $$style_ref{'tags'} } { $_-&gt;{style} };
	  </font><strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$ </font><font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$$style_ref</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'tags'</font><font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$_</font>-&gt;<font color="4444FF"><strong>{</strong></font>style<font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
	      <font color="#2040a0">$_</font>-&gt;<font color="4444FF"><strong>{</strong></font><font color="#008000">'starttag'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$ </font><font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$ </font><font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$$style_ref</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'tags'</font><font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$_</font>-&gt;<font color="4444FF"><strong>{</strong></font>style<font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> <font color="4444FF"><strong>}</strong></font>;
	      <font color="#2040a0">$_</font>-&gt;<font color="4444FF"><strong>{</strong></font><font color="#008000">'endtag'</font><font color="4444FF"><strong>}</strong></font>   = <font color="#2040a0">$ </font><font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$ </font><font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$$style_ref</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'tags'</font><font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$_</font>-&gt;<font color="4444FF"><strong>{</strong></font>style<font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>{</strong></font> <font color="#008000">'stop'</font> <font color="4444FF"><strong>}</strong></font>;
	  <font color="4444FF"><strong>}</strong></font> <strong>else</strong> <font color="4444FF"><strong>{</strong></font>
	      <font color="#444444"># no style no formating; if style == '' formating is done by childregex
	      </font><font color="a52a2a"><strong>warn</strong></font> <font color="4444FF"><strong>(</strong></font><font color="#008000">&quot;Style '&quot;</font>.<font color="#2040a0">$_</font>-&gt;<font color="4444FF"><strong>{</strong></font>style<font color="4444FF"><strong>}</strong></font>.<font color="#008000">&quot;' not defined in stylesheet.<font color="#77dd77">\n</font>&quot;</font><font color="4444FF"><strong>)</strong></font> <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$_</font>-&gt;<font color="4444FF"><strong>{</strong></font>style<font color="4444FF"><strong>}</strong></font> <strong>ne</strong> <font color="#008000">''</font><font color="4444FF"><strong>)</strong></font>;
	      <font color="#2040a0">$_</font>-&gt;<font color="4444FF"><strong>{</strong></font><font color="#008000">'starttag'</font><font color="4444FF"><strong>}</strong></font> = <font color="#008000">''</font>; <font color="#444444">#$ { $ { $$style_ref{'tags'} } { $_-&gt;{style} } } { 'start' };
	      </font><font color="#2040a0">$_</font>-&gt;<font color="4444FF"><strong>{</strong></font><font color="#008000">'endtag'</font><font color="4444FF"><strong>}</strong></font>   = <font color="#008000">''</font>; <font color="#444444">#$ { $ { $$style_ref{'tags'} } { $_-&gt;{style} } } { 'stop' };	      
	  </font><font color="4444FF"><strong>}</strong></font>
	  apply_stylesheets_to_rules<font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$_</font>-&gt;<font color="4444FF"><strong>{</strong></font>childregex<font color="4444FF"><strong>}</strong></font>, <font color="#2040a0">$style_ref</font> <font color="4444FF"><strong>)</strong></font> <strong>if</strong> <font color="#2040a0">$_</font>-&gt;<font color="4444FF"><strong>{</strong></font>childregex<font color="4444FF"><strong>}</strong></font>;
      <font color="4444FF"><strong>}</strong></font>;
  <font color="4444FF"><strong>}</strong></font>;

<font color="#444444">################################################################################
####################### create_snippetlist #####################################
################################################################################
</font><strong>sub<font color="ff0000"> create_snippetlist</font>
  {</strong>
    <strong>my</strong> <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$regexps_ref</font>, <font color="#2040a0">$code</font>, <font color="#2040a0">$snippetlist_ref</font>, <font color="#2040a0">$style_ref</font> <font color="4444FF"><strong>)</strong></font> = <font color="#2040a0">@_</font> ;
    <strong>my</strong> <font color="#2040a0">$length</font> = <font color="a52a2a"><strong>length</strong></font><font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$code</font> <font color="4444FF"><strong>)</strong></font>;

    <font color="#444444">## An array of regular expression sturctures, each of which is an
    ## array.  @res is kept sorted by starting position of the RExen and
    ## then by the position of the regex in the language file.  This allows
    ## us to just evaluate $res[0], and to hand write fast code that typically
    ## handles 90% of the cases without resorting to the _big_ guns.
    ##
    ## FWIW, I pronounce '@res' REEZE, as in the plural of '$re'.
    ##
    </font><strong>my</strong> <font color="#2040a0">@res</font> ;
    
    <strong>my</strong> <font color="#2040a0">$pos</font> ;
    
    <strong>for</strong> <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">@$regexps_ref</font> <font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
	<font color="a52a2a"><strong>pos</strong></font><font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$code</font> <font color="4444FF"><strong>)</strong></font> = 0 ;
<font color="#444444">#++$m ;
	</font><strong>next</strong> <strong>unless</strong> <font color="#2040a0">$code</font> =~<font color="b000d0"> m/($_-&gt;{regex})/gms</font> ;

	<font color="#2040a0">$pos</font> = <font color="a52a2a"><strong>pos</strong></font><font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$code</font> <font color="4444FF"><strong>)</strong></font> ;
<font color="#444444">#	$res[@res] = [ 
#		      $_-&gt;{regex},
#		      $ { $ { $$style_ref{'tags'} } { $_-&gt;{style} } } { 'start' },
#		      $ { $ { $$style_ref{'tags'} } { $_-&gt;{style} } } { 'stop' },
#		      $_-&gt;{childregex},
#		      $pos - length( $1 ),
#		      $pos,
#		      scalar( @res ),
#		     ] ;
	</font><font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font><font color="#2040a0">@res</font><font color="4444FF"><strong>]</strong></font> = <font color="4444FF"><strong>[</strong></font> 
		      <font color="#2040a0">$_</font>-&gt;<font color="4444FF"><strong>{</strong></font>regex<font color="4444FF"><strong>}</strong></font>,
		      <font color="#2040a0">$_</font>-&gt;<font color="4444FF"><strong>{</strong></font>starttag<font color="4444FF"><strong>}</strong></font>,
		      <font color="#2040a0">$_</font>-&gt;<font color="4444FF"><strong>{</strong></font>endtag<font color="4444FF"><strong>}</strong></font>,
		      <font color="#2040a0">$_</font>-&gt;<font color="4444FF"><strong>{</strong></font>childregex<font color="4444FF"><strong>}</strong></font>,
		      <font color="#2040a0">$pos</font> - <font color="a52a2a"><strong>length</strong></font><font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$1</font> <font color="4444FF"><strong>)</strong></font>,
		      <font color="#2040a0">$pos</font>,
		      <font color="a52a2a"><strong>scalar</strong></font><font color="4444FF"><strong>(</strong></font> <font color="#2040a0">@res</font> <font color="4444FF"><strong>)</strong></font>,
		     <font color="4444FF"><strong>]</strong></font> ;
    <font color="4444FF"><strong>}</strong></font>
    
    <font color="#444444">## 90% of all child regexes end up with 0 or 1 regex that needs to be
    ## worried about. Trimming out the 0's speeds things up a bit and
    ## makes the below loop simpler, since there's always at least
    ## 1 regexp.  It donsn't speed things up much by itself: the percentage 
    ## of times this fires is really small.  But it does simplify the loop
    ## below and speed it up.
    </font><strong>unless</strong> <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">@res</font> <font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
	<font color="#2040a0">$code</font> =~<font color="b000d0"> s/($ENTITIES)/$ENTITIES{$1}/ge</font> ;
	<font color="a52a2a"><strong>push</strong></font> <font color="#2040a0">@$snippetlist_ref</font>, <font color="#2040a0">$code</font> ;
	<strong>return</strong> ;
    <font color="4444FF"><strong>}</strong></font>
    
    <font color="#2040a0">@res</font> = <font color="a52a2a"><strong>sort</strong></font> <font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$a</font>-&gt;<font color="4444FF"><strong>[</strong></font>4<font color="4444FF"><strong>]</strong></font> &lt;=&gt; <font color="#2040a0">$b</font>-&gt;<font color="4444FF"><strong>[</strong></font>4<font color="4444FF"><strong>]</strong></font> || <font color="#2040a0">$a</font>-&gt;<font color="4444FF"><strong>[</strong></font>6<font color="4444FF"><strong>]</strong></font> &lt;=&gt; <font color="#2040a0">$b</font>-&gt;<font color="4444FF"><strong>[</strong></font>6<font color="4444FF"><strong>]</strong></font> <font color="4444FF"><strong>}</strong></font> <font color="#2040a0">@res</font> ;
    
    <font color="#444444">## Add a dummy at the end, which makes the logic below simpler / faster.
    </font><font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font><font color="#2040a0">@res</font><font color="4444FF"><strong>]</strong></font> = <font color="4444FF"><strong>[</strong></font>
		  <font color="a52a2a"><strong>undef</strong></font>,
		  <font color="a52a2a"><strong>undef</strong></font>,
		  <font color="a52a2a"><strong>undef</strong></font>,
		  <font color="a52a2a"><strong>undef</strong></font>,
		  <font color="#2040a0">$length</font>,
		  <font color="#2040a0">$length</font>,
		  <font color="a52a2a"><strong>scalar</strong></font><font color="4444FF"><strong>(</strong></font> <font color="#2040a0">@res</font> <font color="4444FF"><strong>)</strong></font>,
		 <font color="4444FF"><strong>]</strong></font> ;
    
    <font color="#444444">## These are declared here for (minor) speed improvement.
    </font><strong>my</strong> <font color="#2040a0">$re</font> ;
    <strong>my</strong> <font color="#2040a0">$match_spos</font> ;
    <strong>my</strong> <font color="#2040a0">$match_pos</font> ;
    <strong>my</strong> <font color="#2040a0">$re_spos</font> ;
    <strong>my</strong> <font color="#2040a0">$re_pos</font> ;
    <strong>my</strong> <font color="#2040a0">$re_num</font> ;
    <strong>my</strong> <font color="#2040a0">$prefix</font> ;
    <strong>my</strong> <font color="#2040a0">$snippet</font> ;
    <strong>my</strong> <font color="#2040a0">$rest</font> ;
    <strong>my</strong> <font color="#2040a0">$i</font> ;
    <strong>my</strong> <font color="#2040a0">$l</font> ;
    
<strong>my</strong> <font color="#2040a0">@changed_res</font> ;
<strong>my</strong> <font color="#2040a0">$j</font> ;

    <font color="#2040a0">$pos</font> = 0 ;
MAIN:
    <strong>while</strong> <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$pos</font> &lt; <font color="#2040a0">$length</font> <font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
	<font color="#2040a0">$re</font> = <font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font>0<font color="4444FF"><strong>]</strong></font> ;
	
	<font color="#2040a0">$match_spos</font> = <font color="#2040a0">$re</font>-&gt;<font color="4444FF"><strong>[</strong></font>4<font color="4444FF"><strong>]</strong></font> ;
	<font color="#2040a0">$match_pos</font>  = <font color="#2040a0">$re</font>-&gt;<font color="4444FF"><strong>[</strong></font>5<font color="4444FF"><strong>]</strong></font> ;
	
	<strong>if</strong> <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$match_spos</font> &gt; <font color="#2040a0">$pos</font> <font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
	    <font color="#2040a0">$prefix</font>  = <font color="a52a2a"><strong>substr</strong></font><font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$code</font>, <font color="#2040a0">$pos</font>, <font color="#2040a0">$match_spos</font> - <font color="#2040a0">$pos</font> <font color="4444FF"><strong>)</strong></font> ;
	    <font color="#2040a0">$prefix</font>  =~<font color="b000d0"> s/($ENTITIES)/$ENTITIES{$1}/ge</font> ;
	    <font color="a52a2a"><strong>push</strong></font> <font color="#2040a0">@$snippetlist_ref</font>, <font color="#2040a0">$prefix</font> ;
	<font color="4444FF"><strong>}</strong></font>
	
	<strong>if</strong> <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$match_pos</font> &gt; <font color="#2040a0">$match_spos</font> <font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
	    <font color="#2040a0">$snippet</font> = <font color="a52a2a"><strong>substr</strong></font><font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$code</font>, <font color="#2040a0">$match_spos</font>, <font color="#2040a0">$match_pos</font> - <font color="#2040a0">$match_spos</font> <font color="4444FF"><strong>)</strong></font> ;
	    <strong>if</strong> <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">@{$re-&gt;[3]}</font> <font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
		<font color="a52a2a"><strong>push</strong></font> <font color="#2040a0">@$snippetlist_ref</font>, <font color="#2040a0">$re</font>-&gt;<font color="4444FF"><strong>[</strong></font>1<font color="4444FF"><strong>]</strong></font> ;
		create_snippetlist<font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$re</font>-&gt;<font color="4444FF"><strong>[</strong></font>3<font color="4444FF"><strong>]</strong></font>, <font color="#2040a0">$snippet</font>, <font color="#2040a0">$snippetlist_ref</font>, <font color="#2040a0">$style_ref</font> <font color="4444FF"><strong>)</strong></font> ;
		<font color="a52a2a"><strong>push</strong></font> <font color="#2040a0">@$snippetlist_ref</font>, <font color="#2040a0">$re</font>-&gt;<font color="4444FF"><strong>[</strong></font>2<font color="4444FF"><strong>]</strong></font> ;
	    <font color="4444FF"><strong>}</strong></font>
	    <strong>else</strong> <font color="4444FF"><strong>{</strong></font>
		<font color="#2040a0">$snippet</font> =~<font color="b000d0"> s/($ENTITIES)/$ENTITIES{$1}/ge</font> ;
		<font color="a52a2a"><strong>push</strong></font> <font color="#2040a0">@$snippetlist_ref</font>, <font color="#2040a0">$re</font>-&gt;<font color="4444FF"><strong>[</strong></font>1<font color="4444FF"><strong>]</strong></font>, <font color="#2040a0">$snippet</font>, <font color="#2040a0">$re</font>-&gt;<font color="4444FF"><strong>[</strong></font>2<font color="4444FF"><strong>]</strong></font>;
	    <font color="4444FF"><strong>}</strong></font>
	<font color="4444FF"><strong>}</strong></font>
	
	<font color="#2040a0">$pos</font> = <font color="#2040a0">$match_pos</font> ;
	
	<font color="#444444">##
	## Hand coded optimizations.  Luckily, the cases that arise most often
	## are the easiest to tune.
	##

# =pod

	</font><strong>if</strong> <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font>1<font color="4444FF"><strong>]</strong></font>-&gt;<font color="4444FF"><strong>[</strong></font>4<font color="4444FF"><strong>]</strong></font> &gt;= <font color="#2040a0">$pos</font> <font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
	    <font color="#444444">## Only first regex needs to be moved, 2nd and later are still valid.
	    ## This is often 90% of the cases for Perl or C (others not tested,
	    ## just uncomment the $n, $o, and $p lines and try it yourself).
#++$n{1} ;
#++$m ;
	    </font><font color="a52a2a"><strong>pos</strong></font><font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$code</font> <font color="4444FF"><strong>)</strong></font> = <font color="#2040a0">$pos</font> ;
	    <strong>unless</strong> <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$code</font> =~<font color="b000d0"> m/($re-&gt;[0])/gms</font> <font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
<font color="#444444">#++$o{'0'} ;
		</font><strong>if</strong> <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">@res</font> == 2 <font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
		    <font color="#444444">## If the only regexp left is the dummy, we're done.
		    </font><font color="#2040a0">$rest</font> = <font color="a52a2a"><strong>substr</strong></font><font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$code</font>, <font color="#2040a0">$pos</font> <font color="4444FF"><strong>)</strong></font> ;
		    <font color="#2040a0">$rest</font> =~<font color="b000d0"> s/($ENTITIES)/$ENTITIES{$1}/ge</font> ;
		    <font color="a52a2a"><strong>push</strong></font> <font color="#2040a0">@$snippetlist_ref</font>, <font color="#2040a0">$rest</font> ;
		    <strong>last</strong> ;
		<font color="4444FF"><strong>}</strong></font>
		<font color="a52a2a"><strong>shift</strong></font> <font color="#2040a0">@res</font> ;
	    <font color="4444FF"><strong>}</strong></font>
	    <strong>else</strong> <font color="4444FF"><strong>{</strong></font>
		<font color="#2040a0">$re</font>-&gt;<font color="4444FF"><strong>[</strong></font>5<font color="4444FF"><strong>]</strong></font> = <font color="#2040a0">$re_pos</font>  = <font color="a52a2a"><strong>pos</strong></font><font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$code</font> <font color="4444FF"><strong>)</strong></font> ;
		<font color="#2040a0">$re</font>-&gt;<font color="4444FF"><strong>[</strong></font>4<font color="4444FF"><strong>]</strong></font> = <font color="#2040a0">$re_spos</font> = <font color="#2040a0">$re_pos</font> - <font color="a52a2a"><strong>length</strong></font><font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$1</font> <font color="4444FF"><strong>)</strong></font> ;
		
		<font color="#444444">## Walk down the array looking for $re's new home.
		## The first few loop iterations are unrolled and done manually 
		## for speed, which handles 85 to 90% of the cases where only
		## $re needs to be moved.
		##
		## Here's where that dummy regexp at the end of the array comes
		## in handy: we don't need to worry about array size here, since
		## it will always be after $re no matter what.  The unrolled
		## loop stuff is outdented to make the conditionals fit on one
		## 80 char line.
		## Element 4 in @{$res[x]} is the start position of the match.
		## Element 6 is the order in which it was declared in the lang file.
		</font><font color="#2040a0">$re_num</font> = <font color="#2040a0">$re</font>-&gt;<font color="4444FF"><strong>[</strong></font>6<font color="4444FF"><strong>]</strong></font> ;
		<strong>if</strong> <font color="4444FF"><strong>(</strong></font> <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$re_spos</font> &lt;=&gt; <font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font>1<font color="4444FF"><strong>]</strong></font>-&gt;<font color="4444FF"><strong>[</strong></font>4<font color="4444FF"><strong>]</strong></font> || <font color="#2040a0">$re_num</font> &lt;=&gt; <font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font>1<font color="4444FF"><strong>]</strong></font>-&gt;<font color="4444FF"><strong>[</strong></font>6<font color="4444FF"><strong>]</strong></font> <font color="4444FF"><strong>)</strong></font> &lt;= 0 <font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
<font color="#444444">#++$o{'1'} ;
		    </font><strong>next</strong> 
		<font color="4444FF"><strong>}</strong></font>
		<font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font>0<font color="4444FF"><strong>]</strong></font> = <font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font>1<font color="4444FF"><strong>]</strong></font> ;

<font color="#444444">#++$o{'2'} ;
		</font><strong>if</strong> <font color="4444FF"><strong>(</strong></font> <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$re_spos</font> &lt;=&gt; <font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font>2<font color="4444FF"><strong>]</strong></font>-&gt;<font color="4444FF"><strong>[</strong></font>4<font color="4444FF"><strong>]</strong></font> || <font color="#2040a0">$re_num</font> &lt;=&gt; <font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font>2<font color="4444FF"><strong>]</strong></font>-&gt;<font color="4444FF"><strong>[</strong></font>6<font color="4444FF"><strong>]</strong></font> <font color="4444FF"><strong>)</strong></font> &lt;= 0 <font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
		    <font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font>1<font color="4444FF"><strong>]</strong></font> = <font color="#2040a0">$re</font> ;
		    <strong>next</strong> ;
		<font color="4444FF"><strong>}</strong></font>
		<font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font>1<font color="4444FF"><strong>]</strong></font> = <font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font>2<font color="4444FF"><strong>]</strong></font> ;
		
		<strong>if</strong> <font color="4444FF"><strong>(</strong></font> <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$re_spos</font> &lt;=&gt; <font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font>3<font color="4444FF"><strong>]</strong></font>-&gt;<font color="4444FF"><strong>[</strong></font>4<font color="4444FF"><strong>]</strong></font> || <font color="#2040a0">$re_num</font> &lt;=&gt; <font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font>3<font color="4444FF"><strong>]</strong></font>-&gt;<font color="4444FF"><strong>[</strong></font>6<font color="4444FF"><strong>]</strong></font> <font color="4444FF"><strong>)</strong></font> &lt;= 0 <font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
<font color="#444444">#++$o{'3'} ;
		    </font><font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font>2<font color="4444FF"><strong>]</strong></font> = <font color="#2040a0">$re</font> ;
		    <strong>next</strong> ;
		<font color="4444FF"><strong>}</strong></font>
		<font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font>2<font color="4444FF"><strong>]</strong></font> = <font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font>3<font color="4444FF"><strong>]</strong></font> ;
		
		<strong>if</strong> <font color="4444FF"><strong>(</strong></font> <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$re_spos</font> &lt;=&gt; <font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font>4<font color="4444FF"><strong>]</strong></font>-&gt;<font color="4444FF"><strong>[</strong></font>4<font color="4444FF"><strong>]</strong></font> || <font color="#2040a0">$re_num</font> &lt;=&gt; <font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font>4<font color="4444FF"><strong>]</strong></font>-&gt;<font color="4444FF"><strong>[</strong></font>6<font color="4444FF"><strong>]</strong></font> <font color="4444FF"><strong>)</strong></font> &lt;= 0 <font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
<font color="#444444">#++$o{'3'} ;
		    </font><font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font>3<font color="4444FF"><strong>]</strong></font> = <font color="#2040a0">$re</font> ;
		    <strong>next</strong> ;
		<font color="4444FF"><strong>}</strong></font>
		<font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font>3<font color="4444FF"><strong>]</strong></font> = <font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font>4<font color="4444FF"><strong>]</strong></font> ;
		
		<strong>if</strong> <font color="4444FF"><strong>(</strong></font> <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$re_spos</font> &lt;=&gt; <font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font>5<font color="4444FF"><strong>]</strong></font>-&gt;<font color="4444FF"><strong>[</strong></font>4<font color="4444FF"><strong>]</strong></font> || <font color="#2040a0">$re_num</font> &lt;=&gt; <font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font>5<font color="4444FF"><strong>]</strong></font>-&gt;<font color="4444FF"><strong>[</strong></font>6<font color="4444FF"><strong>]</strong></font> <font color="4444FF"><strong>)</strong></font> &lt;= 0 <font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
<font color="#444444">#++$o{'4'} ;
		    </font><font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font>4<font color="4444FF"><strong>]</strong></font> = <font color="#2040a0">$re</font> ;
		    <strong>next</strong> ;
		<font color="4444FF"><strong>}</strong></font>
		<font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font>4<font color="4444FF"><strong>]</strong></font> = <font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font>5<font color="4444FF"><strong>]</strong></font> ;

<font color="#444444">#++$o{'ugh'} ;
		</font><font color="#2040a0">$i</font> = 6 ;
		<font color="#2040a0">$l</font> = <font color="#2040a0">$#</font>res ;
		<strong>for</strong> <font color="4444FF"><strong>(</strong></font> ; <font color="#2040a0">$i</font> &lt; <font color="#2040a0">$l</font> ; ++<font color="#2040a0">$i</font> <font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
		    <strong>last</strong>
		      <strong>if</strong> <font color="4444FF"><strong>(</strong></font> 
			  <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$re_spos</font> &lt;=&gt; <font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font><font color="#2040a0">$i</font><font color="4444FF"><strong>]</strong></font>-&gt;<font color="4444FF"><strong>[</strong></font>4<font color="4444FF"><strong>]</strong></font> || <font color="#2040a0">$re_num</font> &lt;=&gt; <font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font><font color="#2040a0">$i</font><font color="4444FF"><strong>]</strong></font>-&gt;<font color="4444FF"><strong>[</strong></font>6<font color="4444FF"><strong>]</strong></font> <font color="4444FF"><strong>)</strong></font>
			  &lt;= 0
			 <font color="4444FF"><strong>)</strong></font> ;
		    <font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font><font color="#2040a0">$i</font>-1<font color="4444FF"><strong>]</strong></font> = <font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font><font color="#2040a0">$i</font><font color="4444FF"><strong>]</strong></font> ;
		<font color="4444FF"><strong>}</strong></font>
<font color="#444444">#++$p{sprintf( &quot;%2d&quot;, $i )} ;
		</font><font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font><font color="#2040a0">$i</font>-1<font color="4444FF"><strong>]</strong></font> = <font color="#2040a0">$re</font> ;
	    <font color="4444FF"><strong>}</strong></font>
	    
	    <strong>next</strong> ;
	<font color="4444FF"><strong>}</strong></font>
	
<font color="#444444"># =cut

	##
	## End optimizations.  You can comment them all out and this net
	## does all the work, just more slowly.  If you do that, then
	## you also need to comment out the code below that deals with
	## the second entry in @res.
	##

#my $ni = 0 ;
	## First re always needs to be tweaked
#++$m ;
#++$ni ;
	</font><font color="a52a2a"><strong>pos</strong></font><font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$code</font> <font color="4444FF"><strong>)</strong></font> = <font color="#2040a0">$pos</font> ;
	<strong>unless</strong> <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$code</font> =~<font color="b000d0"> m/($re-&gt;[0])/gms</font> <font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
	    <strong>if</strong> <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">@res</font> == 2 <font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
		<font color="#444444">## If the only regexp left is the dummy, we're done.
		</font><font color="#2040a0">$rest</font> = <font color="a52a2a"><strong>substr</strong></font><font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$code</font>, <font color="#2040a0">$pos</font> <font color="4444FF"><strong>)</strong></font> ;
		<font color="#2040a0">$rest</font> =~<font color="b000d0"> s/($ENTITIES)/$ENTITIES{$1}/ge</font> ;
		<font color="a52a2a"><strong>push</strong></font> <font color="#2040a0">@$snippetlist_ref</font>, <font color="#2040a0">$rest</font> ;
		<strong>last</strong> ;
	    <font color="4444FF"><strong>}</strong></font>
	    <font color="a52a2a"><strong>shift</strong></font> <font color="#2040a0">@res</font> ;
	    <font color="#2040a0">@changed_res</font> = <font color="4444FF"><strong>(</strong></font><font color="4444FF"><strong>)</strong></font> ;
	    <font color="#2040a0">$i</font> = 0 ;
	<font color="4444FF"><strong>}</strong></font>
	<strong>else</strong> <font color="4444FF"><strong>{</strong></font>
	    <font color="#2040a0">$re</font>-&gt;<font color="4444FF"><strong>[</strong></font>5<font color="4444FF"><strong>]</strong></font> = <font color="#2040a0">$re_pos</font>  = <font color="a52a2a"><strong>pos</strong></font><font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$code</font> <font color="4444FF"><strong>)</strong></font> ;
	    <font color="#2040a0">$re</font>-&gt;<font color="4444FF"><strong>[</strong></font>4<font color="4444FF"><strong>]</strong></font> = <font color="#2040a0">$re_pos</font> - <font color="a52a2a"><strong>length</strong></font><font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$1</font> <font color="4444FF"><strong>)</strong></font> ;
	    <font color="#2040a0">@changed_res</font> = <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$re</font> <font color="4444FF"><strong>)</strong></font> ;
	    <font color="#2040a0">$i</font> = 1 ;
	<font color="4444FF"><strong>}</strong></font>
	
	<font color="#444444">## If the optimizations above are in, the second one always
	## needs to be tweaked, too.
	</font><font color="#2040a0">$re</font> = <font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font><font color="#2040a0">$i</font><font color="4444FF"><strong>]</strong></font> ;
<font color="#444444">#++$m ;
#++$ni ;
	</font><font color="a52a2a"><strong>pos</strong></font><font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$code</font> <font color="4444FF"><strong>)</strong></font> = <font color="#2040a0">$pos</font> ;
	<strong>unless</strong> <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$code</font> =~<font color="b000d0"> m/($re-&gt;[0])/gms</font> <font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
	    <strong>if</strong> <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">@res</font> == 2 <font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
		<font color="#444444">## If the only regexp left is the dummy, we're done.
		</font><font color="#2040a0">$rest</font> = <font color="a52a2a"><strong>substr</strong></font><font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$code</font>, <font color="#2040a0">$pos</font> <font color="4444FF"><strong>)</strong></font> ;
		<font color="#2040a0">$rest</font> =~<font color="b000d0"> s/($ENTITIES)/$ENTITIES{$1}/ge</font> ;
		<font color="a52a2a"><strong>push</strong></font> <font color="#2040a0">@$snippetlist_ref</font>, <font color="#2040a0">$rest</font> ;
		<strong>last</strong> ;
	    <font color="4444FF"><strong>}</strong></font>
	    <font color="a52a2a"><strong>shift</strong></font> <font color="#2040a0">@res</font> ;
	<font color="4444FF"><strong>}</strong></font>
	<strong>else</strong> <font color="4444FF"><strong>{</strong></font>
	    <font color="#2040a0">$re</font>-&gt;<font color="4444FF"><strong>[</strong></font>5<font color="4444FF"><strong>]</strong></font> = <font color="#2040a0">$re_pos</font>  = <font color="a52a2a"><strong>pos</strong></font><font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$code</font> <font color="4444FF"><strong>)</strong></font> ;
	    <font color="#2040a0">$re</font>-&gt;<font color="4444FF"><strong>[</strong></font>4<font color="4444FF"><strong>]</strong></font> = <font color="#2040a0">$re_spos</font> = <font color="#2040a0">$re_pos</font> - <font color="a52a2a"><strong>length</strong></font><font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$1</font> <font color="4444FF"><strong>)</strong></font> ;
	    <strong>if</strong> <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">@changed_res</font> &amp;&amp;
		 <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$changed_res</font><font color="4444FF"><strong>[</strong></font>0<font color="4444FF"><strong>]</strong></font>-&gt;<font color="4444FF"><strong>[</strong></font>4<font color="4444FF"><strong>]</strong></font> &lt;=&gt; <font color="#2040a0">$re_spos</font> || 
		   <font color="#2040a0">$changed_res</font><font color="4444FF"><strong>[</strong></font>0<font color="4444FF"><strong>]</strong></font>-&gt;<font color="4444FF"><strong>[</strong></font>6<font color="4444FF"><strong>]</strong></font> &lt;=&gt; <font color="#2040a0">$re</font>-&gt;<font color="4444FF"><strong>[</strong></font>6<font color="4444FF"><strong>]</strong></font>
		 <font color="4444FF"><strong>)</strong></font> &gt; 0
	       <font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
		<font color="a52a2a"><strong>unshift</strong></font> <font color="#2040a0">@changed_res</font>, <font color="#2040a0">$re</font> ;
	    <font color="4444FF"><strong>}</strong></font>
	    <strong>else</strong> <font color="4444FF"><strong>{</strong></font>
		<font color="#2040a0">$changed_res</font><font color="4444FF"><strong>[</strong></font><font color="#2040a0">$i</font><font color="4444FF"><strong>]</strong></font> = <font color="#2040a0">$re</font> ;
	    <font color="4444FF"><strong>}</strong></font>
	    ++<font color="#2040a0">$i</font> ;
	<font color="4444FF"><strong>}</strong></font>
	
	<strong>for</strong> <font color="4444FF"><strong>(</strong></font> ; ; ++<font color="#2040a0">$i</font> <font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
	    <strong>local</strong> <font color="#2040a0">$_</font> = <font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font><font color="#2040a0">$i</font><font color="4444FF"><strong>]</strong></font> ;
<font color="#444444">#++$m ;
	    </font><strong>last</strong> <strong>if</strong> <font color="#2040a0">$_</font>-&gt;<font color="4444FF"><strong>[</strong></font>4<font color="4444FF"><strong>]</strong></font> &gt;= <font color="#2040a0">$pos</font> ;
<font color="#444444">#++$ni ;
#++$m ;
	    </font><font color="a52a2a"><strong>pos</strong></font><font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$code</font> <font color="4444FF"><strong>)</strong></font> = <font color="#2040a0">$pos</font> ;
	    <strong>unless</strong> <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$code</font> =~<font color="b000d0"> m/($_-&gt;[0])/gms</font> <font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
		<strong>if</strong> <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">@res</font> &lt;= 2 <font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
		    <font color="#2040a0">$rest</font> = <font color="a52a2a"><strong>substr</strong></font><font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$code</font>, <font color="#2040a0">$pos</font> <font color="4444FF"><strong>)</strong></font> ;
		    <font color="#2040a0">$rest</font> =~<font color="b000d0"> s/($ENTITIES)/$ENTITIES{$1}/ge</font> ;
		    <font color="a52a2a"><strong>push</strong></font> <font color="#2040a0">@$snippetlist_ref</font>, <font color="#2040a0">$rest</font> ;
		    <strong>last</strong> MAIN ;
		<font color="4444FF"><strong>}</strong></font>
		<font color="#444444">## If this regex is no longer needed, remove it by not pushing it
		## on to @changed_res.  This means we need one less slot in @res.
		</font><font color="a52a2a"><strong>shift</strong></font> <font color="#2040a0">@res</font> ;
		<strong>redo</strong> ;
	    <font color="4444FF"><strong>}</strong></font>

	    <font color="#2040a0">$_</font>-&gt;<font color="4444FF"><strong>[</strong></font>5<font color="4444FF"><strong>]</strong></font> = <font color="#2040a0">$re_pos</font>  = <font color="a52a2a"><strong>pos</strong></font><font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$code</font> <font color="4444FF"><strong>)</strong></font> ;
	    <font color="#2040a0">$_</font>-&gt;<font color="4444FF"><strong>[</strong></font>4<font color="4444FF"><strong>]</strong></font> = <font color="#2040a0">$re_spos</font> = <font color="#2040a0">$re_pos</font> - <font color="a52a2a"><strong>length</strong></font><font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$1</font> <font color="4444FF"><strong>)</strong></font> ;
	    
	    <font color="#444444">## Insertion sort in to @changed_res
	    </font><font color="#2040a0">$re_num</font> = <font color="#2040a0">$_</font>-&gt;<font color="4444FF"><strong>[</strong></font>6<font color="4444FF"><strong>]</strong></font> ;
	    <strong>for</strong> <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$j</font> = <font color="#2040a0">$#</font>changed_res ; <font color="#2040a0">$j</font> &gt; -1 ; --<font color="#2040a0">$j</font> <font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
		<strong>last</strong>
		  <strong>if</strong> <font color="4444FF"><strong>(</strong></font> 
		      <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$changed_res</font><font color="4444FF"><strong>[</strong></font><font color="#2040a0">$j</font><font color="4444FF"><strong>]</strong></font>-&gt;<font color="4444FF"><strong>[</strong></font>4<font color="4444FF"><strong>]</strong></font> &lt;=&gt; <font color="#2040a0">$re_spos</font> || 
			<font color="#2040a0">$changed_res</font><font color="4444FF"><strong>[</strong></font><font color="#2040a0">$j</font><font color="4444FF"><strong>]</strong></font>-&gt;<font color="4444FF"><strong>[</strong></font>6<font color="4444FF"><strong>]</strong></font> &lt;=&gt; <font color="#2040a0">$re_num</font> 
		      <font color="4444FF"><strong>)</strong></font> &lt; 0
		     <font color="4444FF"><strong>)</strong></font> ;
		<font color="#2040a0">$changed_res</font><font color="4444FF"><strong>[</strong></font><font color="#2040a0">$j</font>+1<font color="4444FF"><strong>]</strong></font> = <font color="#2040a0">$changed_res</font><font color="4444FF"><strong>[</strong></font><font color="#2040a0">$j</font><font color="4444FF"><strong>]</strong></font> ; 
	    <font color="4444FF"><strong>}</strong></font>
	    <font color="#2040a0">$changed_res</font><font color="4444FF"><strong>[</strong></font><font color="#2040a0">$j</font>+1<font color="4444FF"><strong>]</strong></font> = <font color="#2040a0">$_</font> ;
	<font color="4444FF"><strong>}</strong></font>

	<font color="#444444">## Merge sort @changed_res and @res in to @res
	</font><font color="#2040a0">$j</font> = 0 ;
	<font color="#2040a0">$l</font> = <font color="#2040a0">$#</font>res ;
	<strong>for</strong> <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">@changed_res</font> <font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
	    <strong>while</strong> <font color="4444FF"><strong>(</strong></font>
		   <font color="#2040a0">$i</font> &lt; <font color="#2040a0">$l</font> &amp;&amp;
		   <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$_</font>-&gt;<font color="4444FF"><strong>[</strong></font>4<font color="4444FF"><strong>]</strong></font> &lt;=&gt; <font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font><font color="#2040a0">$i</font><font color="4444FF"><strong>]</strong></font>-&gt;<font color="4444FF"><strong>[</strong></font>4<font color="4444FF"><strong>]</strong></font> || <font color="#2040a0">$_</font>-&gt;<font color="4444FF"><strong>[</strong></font>6<font color="4444FF"><strong>]</strong></font> &lt;=&gt; <font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font><font color="#2040a0">$i</font><font color="4444FF"><strong>]</strong></font>-&gt;<font color="4444FF"><strong>[</strong></font>6<font color="4444FF"><strong>]</strong></font> <font color="4444FF"><strong>)</strong></font> &gt; 0
		  <font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
		<font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font><font color="#2040a0">$j</font>++<font color="4444FF"><strong>]</strong></font> = <font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font><font color="#2040a0">$i</font>++<font color="4444FF"><strong>]</strong></font> ;
	    <font color="4444FF"><strong>}</strong></font>
	    <font color="#2040a0">$res</font><font color="4444FF"><strong>[</strong></font><font color="#2040a0">$j</font>++<font color="4444FF"><strong>]</strong></font> = <font color="#2040a0">$_</font> ;
	<font color="4444FF"><strong>}</strong></font>
<font color="#444444"># =cut
    </font><font color="4444FF"><strong>}</strong></font>
<font color="4444FF"><strong>}</strong></font>;

<font color="#444444">##################################################################################
######################### create_snippetlist #####################################
##################################################################################
##sub create_snippetlist
##  {
##    my ( $regexps_ref, $code, $snippetlist_ref ) = @_ ;

##    my $length = length( $code );
##    my @regexps;
##    $regexps[scalar(@$regexps_ref)] = undef;

##    my $head_ptr    = undef;
##    my $current_ptr;
##    my $help_ptr;

##    my $index       = 0;

##    for (@$regexps_ref)
##      {
##	  $current_ptr = $regexps[$index];  #0: start_ptr 1: length 2: next_ptr, 3: regex, 4:start, 5:end, 6: child    7: index
##	  $current_ptr-&gt;[7] = $index++;
##	  $current_ptr-&gt;[6] = $$_{'childregex'}; 
##	  $current_ptr-&gt;[5] = $$_{'endtag'}; 
##	  $current_ptr-&gt;[4] = $$_{'starttag'};
##	  $current_ptr-&gt;[3] = $$_{'regex'};


##	  pos( $code ) = 0;
##	  if ( $code =~ /($current_ptr-&gt;[3])/gms ) { $current_ptr-&gt;[0] = pos ($code) - length($1); $current_ptr-&gt;[1] = length($1); } else {next};

##	  if (!defined ($head_ptr)  ||  $current_ptr-&gt;[0] &lt; $head_ptr-&gt;[0] )
##	    {
##		$current_ptr-&gt;[2] = $head_ptr;
##		$head_ptr         = $current_ptr;
##	    }
##	  else
##	    {
##		$help_ptr = $head_ptr;
##		$help_ptr = $help_ptr-&gt;[2]
##		  while (defined ( $help_ptr-&gt;[2] ) &amp;&amp; ($current_ptr-&gt;[0] &gt;= $help_ptr-&gt;[2]-&gt;[0]) ); #iow: while (defined help-&gt;next &amp;&amp; current-&gt;pos &lt;= help-&gt;next-&gt;pos)
		
##		$current_ptr-&gt;[2] = $help_ptr-&gt;[2];
##		$help_ptr-&gt;[2]    = $current_ptr;
##	    };
##      };
    

##    my $endpos = 0;
##    my $oldhead;

##    my %entities ;
##    $entities{'&amp;'} = '&amp;amp;' ;
##    $entities{'&lt;'} = '&amp;lt;' ;
##    $entities{'&gt;'} = '&amp;gt;' ;
##    $entities{'&quot;'} = '&amp;quot;' ;
    
##    my $snippet;
##    while (defined $head_ptr)
##      {
##	  if ($head_ptr-&gt;[0] - $endpos &gt; 0) { 
##	      $snippet = substr($code, $endpos, $head_ptr-&gt;[0] - $endpos);
##	      $snippet =~ s/($ENTITIES)/$ENTITIES{$1}/ge;          #&quot;]);
##	      push @$snippetlist_ref, $snippet;
##	  };
##	  push  @$snippetlist_ref, $head_ptr-&gt;[4];

##	  &amp;create_snippetlist( $head_ptr-&gt;[6], substr($code, $head_ptr-&gt;[0], $head_ptr-&gt;[1]) , $snippetlist_ref);
##	  push  @$snippetlist_ref, $head_ptr-&gt;[5];
	  
##	  $endpos = $head_ptr-&gt;[0] + $head_ptr-&gt;[1];

##	  # update &amp; repair list :

##	  $oldhead = $head_ptr;
##	  # 1) shift now invalid matches from list

##	  $help_ptr = $head_ptr;
##	  $help_ptr = $help_ptr-&gt;[2]
##	    while (defined ( $help_ptr-&gt;[2] ) &amp;&amp; ($endpos &gt; $help_ptr-&gt;[2]-&gt;[0]) );
##	  $head_ptr = $help_ptr-&gt;[2];
##	  $help_ptr-&gt;[2] = undef;

##	  # 2) rematch invalid matches and insert them into the list
	  
##	  while (defined $oldhead)
##	    {
##		$current_ptr = $oldhead;
##		$oldhead = $oldhead-&gt;[2];

##		pos( $code ) = $endpos;
##		if ( $code =~ /($current_ptr-&gt;[3])/gms ) { $current_ptr-&gt;[0] = pos ($code) - length($1); $current_ptr-&gt;[1] = length($1); } else {next};
##		if (!defined ($head_ptr) ||
##		    ($current_ptr-&gt;[0] &lt; $head_ptr-&gt;[0]) ||
##		    (
##		     ( $current_ptr-&gt;[0] == $head_ptr-&gt;[0]) &amp;&amp;
##		     ( $current_ptr-&gt;[7] &lt;  $head_ptr-&gt;[7])
##		    )		     
##		   )
##		  {
##		      $current_ptr-&gt;[2] = $head_ptr;
##		      $head_ptr         = $current_ptr;
##		  }
##		else
##		  {
##		      $help_ptr = $head_ptr;
##		      $help_ptr = $help_ptr-&gt;[2]
##			while (defined ( $help_ptr-&gt;[2] ) &amp;&amp; 
##			       (
##				($current_ptr-&gt;[0] &gt;  $help_ptr-&gt;[2]-&gt;[0]) || 
##				(
##				 ( $current_ptr-&gt;[0] == $help_ptr-&gt;[2]-&gt;[0]) &amp;&amp;
##				 ( $current_ptr-&gt;[7] &gt;  $help_ptr-&gt;[2]-&gt;[7])
##				 )
##			       )
##			      ); #iow: while (defined help-&gt;next &amp;&amp; current-&gt;pos &lt;= help-&gt;next-&gt;pos)   # if two patterns match at the same pos
##		                                                                                       # the one that was declared earlier is taken
		      
##		      $current_ptr-&gt;[2] = $help_ptr-&gt;[2];
##		      $help_ptr-&gt;[2]    = $current_ptr;
##		  };
##	    };
	  
##	  # 3) done
##      };
      
##    $snippet = substr($code, $endpos); $snippet =~ s/($ENTITIES)/$ENTITIES{$1}/ge;        #&quot;   ]);
##    push  @$snippetlist_ref, $snippet;
##  };



################################################################################
####################### put_output #############################################
################################################################################
</font><strong>sub<font color="ff0000"> put_output</font> {</strong>
    <strong>my</strong> <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$params</font>, <font color="#2040a0">$snippetlist_ref</font>, <font color="#2040a0">$STYLE_REF</font> <font color="4444FF"><strong>)</strong></font> = <font color="#2040a0">@_</font> ;

    <strong>my</strong> <font color="#2040a0">$result</font>;

    <strong>my</strong> <font color="#2040a0">$prefix</font> = <font color="#008000">''</font>; 
    <font color="#2040a0">$prefix</font> = <font color="#2040a0">$params</font>-&gt;<font color="4444FF"><strong>{</strong></font><font color="#008000">'line_number_prefix'</font><font color="4444FF"><strong>}</strong></font>.<font color="#008000">'_'</font>  <strong>if</strong> <font color="a52a2a"><strong>defined</strong></font> <font color="#2040a0">$params</font>-&gt;<font color="4444FF"><strong>{</strong></font><font color="#008000">'line_number_prefix'</font><font color="4444FF"><strong>}</strong></font>;
    <font color="#2040a0">$result</font> = &amp; <font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$ </font><font color="4444FF"><strong>{</strong></font> <font color="#2040a0">$$STYLE_REF</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'linenumbers'</font><font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>{</strong></font><font color="#2040a0">$params</font>-&gt;<font color="4444FF"><strong>{</strong></font><font color="#008000">'linenumbers'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>join</strong></font> <font color="4444FF"><strong>(</strong></font><font color="#008000">''</font>, <font color="#2040a0">@$snippetlist_ref</font><font color="4444FF"><strong>)</strong></font>, <font color="#2040a0">$prefix</font><font color="4444FF"><strong>)</strong></font>;

    <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$params</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'linewidth'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
	<font color="#2040a0">$result</font> =~<font color="b000d0"> tr=\0=\n=</font>;
    <font color="4444FF"><strong>}</strong></font>

    <font color="a52a2a"><strong>print</strong></font> FILEHANDLE <font color="#2040a0">$result</font> <strong>unless</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font> <font color="#2040a0">$params</font>-&gt;<font color="4444FF"><strong>{</strong></font><font color="#008000">'dont_print_output'</font><font color="4444FF"><strong>}</strong></font> &amp;&amp; <font color="#2040a0">$params</font>-&gt;<font color="4444FF"><strong>{</strong></font><font color="#008000">'dont_print_output'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>;
    <font color="a52a2a"><strong>print</strong></font> FILEHANDLE <font color="#2040a0">$$STYLE_REF</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'footer'</font><font color="4444FF"><strong>}</strong></font>  <strong>unless</strong> <font color="#2040a0">$params</font>-&gt;<font color="4444FF"><strong>{</strong></font><font color="#008000">'noheader'</font><font color="4444FF"><strong>}</strong></font>;
    
    <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="a52a2a"><strong>defined</strong></font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">$params</font>-&gt;<font color="4444FF"><strong>{</strong></font><font color="#008000">'outfile'</font><font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
        <strong>unless</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">$params</font>-&gt;<font color="4444FF"><strong>{</strong></font><font color="#008000">'outfile'</font><font color="4444FF"><strong>}</strong></font> <strong>eq</strong> <font color="#008000">'-'</font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>{</strong></font>
	    <font color="a52a2a"><strong>close</strong></font> <font color="4444FF"><strong>(</strong></font>FILEHANDLE<font color="4444FF"><strong>)</strong></font>;
	    <font color="a52a2a"><strong>close</strong></font> <font color="4444FF"><strong>(</strong></font>STDOUT<font color="4444FF"><strong>)</strong></font>;
	    <font color="a52a2a"><strong>open</strong></font> <font color="4444FF"><strong>(</strong></font>STDOUT, <font color="#008000">&quot;&gt;&amp;SAVEOUT&quot;</font><font color="4444FF"><strong>)</strong></font>;
	<font color="4444FF"><strong>}</strong></font>;
    <font color="4444FF"><strong>}</strong></font>;
    <strong>return</strong> <font color="#2040a0">$result</font>;
<font color="4444FF"><strong>}</strong></font>;




<font color="#444444">################################################################################
####################### get_default_stylesheet #################################
################################################################################
</font><strong>sub<font color="ff0000"> get_default_stylesheet</font>
{</strong>

<strong>my</strong> <font color="#2040a0">%STYLESHEET</font>;


<font color="#444444">##########
########## different color modes for html. 
# those are named html-dark, html-nobc and html-light. 
# html-light is also named html
# the only difference between html-light and html-nobc is
# that html-light defines a body background and text color.
# nobc stands for no body colors.

</font><font color="#2040a0">$STYLESHEET</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'html-light'</font><font color="4444FF"><strong>}</strong></font> =  <font color="4444FF"><strong>{</strong></font> <font color="#008000">'template'</font>       =&gt;
<font color="#008000">'&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;%%title%%&lt;/title&gt;
&lt;/head&gt;
&lt;body bgcolor=&quot;#ffffff&quot; text=&quot;#000000&quot;&gt;
&lt;pre&gt;
%%code%%
&lt;/pre&gt;
&lt;hr&gt;
syntax highlighted by &lt;a href=&quot;http://www.palfrader.org/code2html&quot;&gt;Code2HTML&lt;/a&gt;, v. %%version%%
&lt;/body&gt;
&lt;/html&gt;
'</font>,
			 <font color="#008000">'content-type'</font> =&gt; <font color="#008000">'text/html'</font>,
			 <font color="#008000">'entities'</font>     =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'listofchars'</font> =&gt; <font color="#008000">'[&lt;&gt;&amp;&quot;]'</font>,   <font color="#444444"># a regex actually
					     </font><font color="#008000">'replace_by'</font>  =&gt; <font color="4444FF"><strong>{</strong></font>
							       <font color="#008000">'&amp;'</font> =&gt; <font color="#008000">'&amp;amp;'</font>,
							       <font color="#008000">'&lt;'</font> =&gt; <font color="#008000">'&amp;lt;'</font>,
							       <font color="#008000">'&gt;'</font> =&gt; <font color="#008000">'&amp;gt;'</font>,
							       <font color="#008000">'&quot;'</font> =&gt; <font color="#008000">'&amp;quot;'</font>
							      <font color="4444FF"><strong>}</strong></font>
					   <font color="4444FF"><strong>}</strong></font>,
			 <font color="#008000">'linenumbers'</font>  =&gt; <font color="4444FF"><strong>{</strong></font>
					    <font color="#008000">'none'</font>          =&gt; sub <font color="4444FF"><strong>{</strong></font> 
						                    <strong>return</strong> <font color="#2040a0">$_</font><font color="4444FF"><strong>[</strong></font>0<font color="4444FF"><strong>]</strong></font>;
					                           <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'normal'</font>        =&gt; sub <font color="4444FF"><strong>{</strong></font> 
                                                                   <font color="#444444"># o as the first parameter is the joined snippetlist
                                                                   # o the second is an optional prefix, needed if more than one block
                                                                   #   in a file is highlighted. needed in patch-mode. may be empty
                                                                   # the sub should the return a scalar made up of the joined lines including linenumbers
								   </font><strong>my</strong> <font color="#2040a0">@lines</font> = <font color="a52a2a"><strong>split</strong></font> <font color="4444FF"><strong>(</strong></font><font color="b000d0"> /\n/</font>, <font color="#2040a0">$_</font><font color="4444FF"><strong>[</strong></font>0<font color="4444FF"><strong>]</strong></font> <font color="4444FF"><strong>)</strong></font>;

                                                                   <strong>my</strong> <font color="#2040a0">$nr</font> = 0;
                                                                   <strong>my</strong> <font color="#2040a0">$lengthofnr</font> = <font color="a52a2a"><strong>length</strong></font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">@lines</font><font color="4444FF"><strong>)</strong></font>;
                                                                   <strong>my</strong> <font color="#2040a0">$format</font> =<font color="#008000"> qq{&lt;a name=&quot;<font color="#2040a0">$_</font>[1]line<font color="#2040a0">%u</font>&quot;&gt;<font color="#2040a0">%$</font>{</font>lengthofnr<font color="4444FF"><strong>}</strong></font>u&lt;/a&gt; <font color="#2040a0">%s</font>\n<font color="4444FF"><strong>}</strong></font> ;
					                           <font color="a52a2a"><strong>join</strong></font> <font color="4444FF"><strong>(</strong></font><font color="#008000">''</font>, <font color="a52a2a"><strong>map</strong></font> <font color="4444FF"><strong>(</strong></font>  <font color="4444FF"><strong>{</strong></font><font color="#2040a0">$nr</font>++; <font color="a52a2a"><strong>sprintf</strong></font> <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$format</font> , <font color="#2040a0">$nr</font>, <font color="#2040a0">$nr</font>, <font color="#2040a0">$_</font> <font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>}</strong></font> <font color="#2040a0">@lines</font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font>;
					                           <font color="4444FF"><strong>}</strong></font>,
			                     <font color="#008000">'linked'</font>       =&gt; sub <font color="4444FF"><strong>{</strong></font> 
                                                                   <font color="#444444"># this should do the same as above only with linenumbers that link to themselves
                                                                   # If this style does not support this, use the same as above.
								   </font><strong>my</strong> <font color="#2040a0">@lines</font> = <font color="a52a2a"><strong>split</strong></font> <font color="4444FF"><strong>(</strong></font><font color="b000d0"> /\n/</font>, <font color="#2040a0">$_</font><font color="4444FF"><strong>[</strong></font>0<font color="4444FF"><strong>]</strong></font> <font color="4444FF"><strong>)</strong></font>;

                                                                   <strong>my</strong> <font color="#2040a0">$nr</font> = 0; 
                                                                   <strong>my</strong> <font color="#2040a0">$lengthofnr</font> = <font color="a52a2a"><strong>length</strong></font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">@lines</font><font color="4444FF"><strong>)</strong></font>;
                                                                   <strong>my</strong> <font color="#2040a0">$format</font> =<font color="#008000"> qq{&lt;a name=&quot;<font color="#2040a0">$_</font>[1]line<font color="#2040a0">%u</font>&quot; href=&quot;#<font color="#2040a0">$_</font>[1]line<font color="#2040a0">%u</font>&quot;&gt;<font color="#2040a0">%$ </font>{</font>lengthofnr<font color="4444FF"><strong>}</strong></font>u&lt;/a&gt; <font color="#2040a0">%s</font>\n<font color="4444FF"><strong>}</strong></font>;
                                                                   <font color="a52a2a"><strong>join</strong></font> <font color="4444FF"><strong>(</strong></font><font color="#008000">''</font>, <font color="a52a2a"><strong>map</strong></font> <font color="4444FF"><strong>(</strong></font>  <font color="4444FF"><strong>{</strong></font><font color="#2040a0">$nr</font>++; <font color="a52a2a"><strong>sprintf</strong></font> <font color="4444FF"><strong>(</strong></font> <font color="#2040a0">$format</font> , <font color="#2040a0">$nr</font>, <font color="#2040a0">$nr</font>, <font color="#2040a0">$nr</font>, <font color="#2040a0">$_</font> <font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>}</strong></font> <font color="#2040a0">@lines</font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font>;
					                           <font color="4444FF"><strong>}</strong></font>
					   <font color="4444FF"><strong>}</strong></font>,
			 <font color="#008000">'tags'</font>         =&gt; <font color="4444FF"><strong>{</strong></font> 
					    <font color="#008000">'comment'</font>                =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#444444&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'doc comment'</font>            =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#444444&quot;&gt;&lt;i&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/i&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'string'</font>                 =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#008000&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'esc string'</font>             =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#77dd77&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'character'</font>              =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#008000&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'esc character'</font>          =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#77dd77&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'numeric'</font>                =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#FF0000&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    
					    <font color="#008000">'identifier'</font>             =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#2040a0&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'predefined identifier'</font>  =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#2040a0&quot;&gt;&lt;strong&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
				     
					    <font color="#008000">'type'</font>                   =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#2040a0&quot;&gt;&lt;strong&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'predefined type'</font>        =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#2040a0&quot;&gt;&lt;strong&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    
					    <font color="#008000">'reserved word'</font>          =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;strong&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'library function'</font>       =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;a52a2a&quot;&gt;&lt;strong&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    
					    <font color="#008000">'include'</font>                =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;0000ff&quot;&gt;&lt;strong&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'preprocessor'</font>           =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;0000ff&quot;&gt;&lt;strong&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    
					    <font color="#008000">'braces'</font>                 =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;4444FF&quot;&gt;&lt;strong&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'symbol'</font>                 =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;4444FF&quot;&gt;'</font>,
							 	  	  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,

					    <font color="#008000">'function header'</font>        =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;strong&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'function header name'</font>   =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;ff0000&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'function header args'</font>   =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;2040a0&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    
					    <font color="#008000">'regex'</font>                  =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;b000d0&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    
					    <font color="#008000">'text'</font>                   =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;i&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/i&gt;'</font><font color="4444FF"><strong>}</strong></font>,

					    <font color="#444444"># HTML
					    </font><font color="#008000">'entity'</font>                 =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;ff0000&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,

					    <font color="#444444"># MAKEFILE
					    </font><font color="#008000">'assignment'</font>             =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;2040a0&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'dependency line'</font>        =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;8b2252&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'dependency target'</font>      =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;strong&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'dependency continuation'</font>=&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;000000&quot;&gt;&lt;strong&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'continuation'</font>           =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;strong&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'macro'</font>                  =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;2040a0&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'int macro'</font>              =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;4080ff&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'esc $$$'</font>                =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;444444&quot;&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,

                                            <font color="#444444"># PATCH
                                            </font><font color="#008000">'separator'</font>              =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;00A040&quot;&gt;&lt;strong&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            <font color="#008000">'line spec'</font>              =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;A0A000&quot;&gt;&lt;strong&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            <font color="#008000">'deletion'</font>               =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;FF0000&quot;&gt;&lt;strong&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            <font color="#008000">'insertion'</font>              =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;0000FF&quot;&gt;&lt;strong&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>

				     <font color="4444FF"><strong>}</strong></font>
                       <font color="4444FF"><strong>}</strong></font>;
<font color="#444444"># html-light is also called html

</font><font color="#2040a0">$STYLESHEET</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'html'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$STYLESHEET</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'html-light'</font><font color="4444FF"><strong>}</strong></font>;


<font color="#444444"># html-nobc is a modification of html-light
# in such a way, that the body tag does not define
# a background and a text color
# nobc stands for no body colors.

</font><font color="#2040a0">%{$STYLESHEET{'html-nobg'}</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">%{$STYLESHEET{'html-light'}</font><font color="4444FF"><strong>}</strong></font>;
<font color="#2040a0">${ $STYLESHEET{'html-nobg'}</font><font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>{</strong></font><font color="#008000">'template'</font><font color="4444FF"><strong>}</strong></font> = <font color="#008000">'&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;%%title%%&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;pre&gt;
%%code%%
&lt;/pre&gt;
&lt;hr&gt;
syntax highlighted by &lt;a href=&quot;http://www.palfrader.org/code2html&quot;&gt;Code2HTML&lt;/a&gt;, v. %%version%%
&lt;/body&gt;
&lt;/html&gt;
'</font>;


<font color="#444444"># html-dark is a modification of html-light
# in such a way, that the body tag does define 
# different colors and that the &lt;font&gt; colors are different.

</font><font color="#2040a0">%{$STYLESHEET{'html-dark'}</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">%{$STYLESHEET{'html-light'}</font><font color="4444FF"><strong>}</strong></font>;
<font color="#2040a0">${ $STYLESHEET{'html-dark'}</font><font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>{</strong></font><font color="#008000">'template'</font><font color="4444FF"><strong>}</strong></font> = <font color="#008000">'&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;%%title%%&lt;/title&gt;
&lt;/head&gt;
&lt;body bgcolor=&quot;#000000&quot;  text=&quot;#C0C0C0&quot; vlink=&quot;#FFFFFF&quot; alink=&quot;#00FF00&quot; link=&quot;#FFFFFF&quot;&gt;
&lt;pre&gt;
%%code%%
&lt;/pre&gt;
&lt;hr&gt;
syntax highlighted by &lt;a href=&quot;http://www.palfrader.org/code2html&quot;&gt;Code2HTML&lt;/a&gt;, v. %%version%%
&lt;/body&gt;
&lt;/html&gt;
'</font>;
<font color="#2040a0">${ $STYLESHEET{'html-dark'}</font><font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>{</strong></font><font color="#008000">'tags'</font><font color="4444FF"><strong>}</strong></font> = <font color="4444FF"><strong>{</strong></font>
                                            <font color="#008000">'comment'</font>                =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#909000&quot;&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            <font color="#008000">'doc comment'</font>            =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#909000&quot;&gt;&lt;i&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/i&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            <font color="#008000">'string'</font>                 =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;yellow&quot;&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            <font color="#008000">'esc string'</font>             =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#77dd77&quot;&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            <font color="#008000">'character'</font>              =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;yellow&quot;&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            <font color="#008000">'esc character'</font>          =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#77dd77&quot;&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            <font color="#008000">'numeric'</font>                =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#FF0000&quot;&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                           
                                            <font color="#008000">'identifier'</font>             =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#B0B0B0&quot;&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            <font color="#008000">'predefined identifier'</font>  =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#2040a0&quot;&gt;&lt;strong&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                     
                                            <font color="#008000">'type'</font>                   =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#2040a0&quot;&gt;&lt;strong&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            <font color="#008000">'predefined type'</font>        =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#2040a0&quot;&gt;&lt;strong&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            
                                            <font color="#008000">'reserved word'</font>          =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;strong&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            <font color="#008000">'library function'</font>       =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;a52a2a&quot;&gt;&lt;strong&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            
                                            <font color="#008000">'include'</font>                =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#00FF00&quot;&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            <font color="#008000">'preprocessor'</font>           =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#00FF00&quot;&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            
                                            <font color="#008000">'braces'</font>                 =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;darkCyan&quot;&gt;&lt;strong&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            <font color="#008000">'symbol'</font>                 =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;darkCyan&quot;&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,

                                            <font color="#008000">'function header'</font>        =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;strong&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            <font color="#008000">'function header name'</font>   =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;ff0000&quot;&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            <font color="#008000">'function header args'</font>   =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;2040a0&quot;&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            
                                            <font color="#008000">'regex'</font>                  =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;b000d0&quot;&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            
                                            <font color="#008000">'text'</font>                   =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;i&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/i&gt;'</font><font color="4444FF"><strong>}</strong></font>,

                                            <font color="#444444"># HTML
                                            </font><font color="#008000">'entity'</font>                 =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;ff0000&quot;&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,

                                            <font color="#444444"># MAKEFILE
                                            </font><font color="#008000">'assignment'</font>             =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;2040a0&quot;&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            <font color="#008000">'dependency line'</font>        =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;8b2252&quot;&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            <font color="#008000">'dependency target'</font>      =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;strong&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            <font color="#008000">'dependency continuation'</font>=&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;000000&quot;&gt;&lt;strong&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'continuation'</font>           =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;strong&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            <font color="#008000">'macro'</font>                  =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;2040a0&quot;&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            <font color="#008000">'int macro'</font>              =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;4080ff&quot;&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            <font color="#008000">'esc $$$'</font>                =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;444444&quot;&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,

                                            <font color="#444444"># PATCH
                                            </font><font color="#008000">'separator'</font>              =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;00FF00&quot;&gt;&lt;strong&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            <font color="#008000">'line spec'</font>              =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;FFFF00&quot;&gt;&lt;strong&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            <font color="#008000">'deletion'</font>               =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;FF0000&quot;&gt;&lt;strong&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            <font color="#008000">'insertion'</font>              =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;0000FF&quot;&gt;&lt;strong&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>
                                     <font color="4444FF"><strong>}</strong></font>;

<font color="#444444">#####
#
# nocolor
#
</font><font color="#2040a0">%{$STYLESHEET{'html-nocolor'}</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">%{$STYLESHEET{'html-nobg'}</font><font color="4444FF"><strong>}</strong></font>;
<font color="#2040a0">${ $STYLESHEET{'html-nocolor'}</font><font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>{</strong></font><font color="#008000">'tags'</font><font color="4444FF"><strong>}</strong></font> = <font color="4444FF"><strong>{</strong></font>
	<font color="#008000">'comment'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;I&gt;'</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/I&gt;'</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'doc comment'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">''</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">''</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'string'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;I&gt;'</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/I&gt;'</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'esc string'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">''</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">''</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'character'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">''</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">''</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'esc character'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">''</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">''</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'numeric'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">''</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">''</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'identifier'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;B&gt;'</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/B&gt;'</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'predefined identifier'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;U&gt;'</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/U&gt;'</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'type'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">''</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">''</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'predefined type'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;U&gt;'</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/U&gt;'</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'reserved word'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">''</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">''</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'library function'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">''</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">''</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'include'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">''</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">''</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'preprocessor'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;B&gt;'</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/B&gt;'</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'braces'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">''</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">''</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'symbol'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">''</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">''</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'function header'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">''</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">''</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'function header name'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">''</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">''</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'function header args'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">''</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">''</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'regex'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">''</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">''</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'text'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">''</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">''</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#444444"># HTML
	</font><font color="#008000">'entity'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">''</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">''</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#444444"># MAKEFILE
	</font><font color="#008000">'assignment'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;B&gt;'</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/B&gt;'</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'dependency line'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">''</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">''</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'dependency target'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;B&gt;'</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/B&gt;'</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'dependency continuation'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">''</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">''</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'continuation'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">''</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">''</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'macro'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;B&gt;'</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/B&gt;'</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'int macro'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;B&gt;'</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/B&gt;'</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'esc $$$'</font> =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">''</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">''</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#444444"># PATCH
	</font><font color="#008000">'separator'</font>              =&gt; <font color="4444FF"><strong>{</strong></font> 
		<font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;B&gt;'</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/B&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'line spec'</font>              =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">''</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">''</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'deletion'</font>               =&gt; <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'start'</font> =&gt; <font color="#008000">''</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">''</font>
	<font color="4444FF"><strong>}</strong></font>,
	<font color="#008000">'insertion'</font>              =&gt; <font color="4444FF"><strong>{</strong></font> 
		<font color="#008000">'start'</font> =&gt; <font color="#008000">''</font>,
		<font color="#008000">'stop'</font>  =&gt; <font color="#008000">''</font>
	<font color="4444FF"><strong>}</strong></font>
<font color="4444FF"><strong>}</strong></font>;



<font color="#444444">#####
#
# simple
#
</font><font color="#2040a0">%{$STYLESHEET{'html-simple'}</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">%{$STYLESHEET{'html-nocolor'}</font><font color="4444FF"><strong>}</strong></font>;
<font color="#2040a0">${ $STYLESHEET{'html-simple'}</font><font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>{</strong></font><font color="#008000">'template'</font><font color="4444FF"><strong>}</strong></font> = <font color="#008000">'&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;%%title%%&lt;/title&gt;
  &lt;/head&gt;

  &lt;body&gt;
    &lt;h2&gt;%%title%%&lt;/h2&gt;
    &lt;pre&gt;
%%code%%
    &lt;/pre&gt;
  &lt;/body
&lt;/html&gt;'</font>;




<font color="#444444"># Vincent Sanders &lt;vince@trinity.fluff.org&gt;
# html-fntlck is a modification of html-light
# in such a way, that the body tag does define
# different colors and that the &lt;font&gt; colors are different.
#it is supposed to be the colours i get from emacs default font-lock mode

</font><font color="#2040a0">%{$STYLESHEET{'html-fntlck'}</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">%{$STYLESHEET{'html-light'}</font><font color="4444FF"><strong>}</strong></font>;
<font color="#2040a0">${ $STYLESHEET{'html-fntlck'}</font><font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>{</strong></font><font color="#008000">'template'</font><font color="4444FF"><strong>}</strong></font> = <font color="#008000">'&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;%%title%%&lt;/title&gt;
&lt;/head&gt;
&lt;body bgcolor=&quot;#ffffff&quot;  text=&quot;#000000&quot; vlink=&quot;#0000ff&quot; alink=&quot;#00FF00&quot; link=&quot;#000000&quot;&gt;
&lt;pre&gt;
%%code%%
&lt;/pre&gt;
&lt;hr&gt;
syntax highlighted by &lt;a href=&quot;http://www.palfrader.org/code2html&quot;&gt;Code2HTML&lt;/a&gt;, v. %%version%%
&lt;/body&gt;
&lt;/html&gt;
'</font>;
<font color="#2040a0">${ $STYLESHEET{'html-fntlck'}</font><font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>{</strong></font><font color="#008000">'tags'</font><font color="4444FF"><strong>}</strong></font> = <font color="4444FF"><strong>{</strong></font>
					    <font color="#008000">'comment'</font>                =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;bb0000&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'doc comment'</font>            =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;bb0000&quot;&gt;&lt;i&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/i&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'string'</font>                 =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#bb7766&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'esc string'</font>             =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#cc8877&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'character'</font>              =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#bb7766&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'esc character'</font>          =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#cc8877&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'numeric'</font>                =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#FF0000&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,

					    <font color="#008000">'identifier'</font>             =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#0000ff&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'predefined identifier'</font>  =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#2040a0&quot;&gt;&lt;strong&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,

					    <font color="#008000">'type'</font>                   =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#2040a0&quot;&gt;&lt;strong&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'predefined type'</font>        =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;#2040a0&quot;&gt;&lt;strong&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,

					    <font color="#008000">'reserved word'</font>          =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;b000e0&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'library function'</font>       =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;a52a2a&quot;&gt;&lt;strong&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,

					    <font color="#008000">'include'</font>                =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;0000ff&quot;&gt;&lt;strong&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'preprocessor'</font>           =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;0000ff&quot;&gt;&lt;strong&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,

					    <font color="#008000">'braces'</font>                 =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;4444FF&quot;&gt;&lt;strong&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'symbol'</font>                 =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;000000&quot;&gt;'</font>,
							 	  	  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,

					    <font color="#008000">'function header'</font>        =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;strong&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'function header name'</font>   =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;ff0000&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'function header args'</font>   =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;2040a0&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,

					    <font color="#008000">'regex'</font>                  =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;b000d0&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,

					    <font color="#008000">'text'</font>                   =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;i&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/i&gt;'</font><font color="4444FF"><strong>}</strong></font>,

					    <font color="#444444"># HTML
					    </font><font color="#008000">'entity'</font>                 =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;ff0000&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,

					    <font color="#444444"># MAKEFILE
					    </font><font color="#008000">'assignment'</font>             =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;2040a0&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'dependency line'</font>        =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;8b2252&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'dependency target'</font>      =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;strong&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'dependency continuation'</font>=&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;000000&quot;&gt;&lt;strong&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'continuation'</font>           =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;strong&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'macro'</font>                  =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;2040a0&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'int macro'</font>              =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;4080ff&quot;&gt;'</font>,
									  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    <font color="#008000">'esc $$$'</font>                =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;444444&quot;&gt;'</font>,
							                  <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
					    
                                            <font color="#444444"># PATCH
                                            </font><font color="#008000">'separator'</font>              =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;00A040&quot;&gt;&lt;strong&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            <font color="#008000">'line spec'</font>              =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;A0A000&quot;&gt;&lt;strong&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            <font color="#008000">'deletion'</font>               =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;FF0000&quot;&gt;&lt;strong&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>,
                                            <font color="#008000">'insertion'</font>              =&gt; <font color="4444FF"><strong>{</strong></font> <font color="#008000">'start'</font> =&gt; <font color="#008000">'&lt;font color=&quot;0000FF&quot;&gt;&lt;strong&gt;'</font>,
                                                                          <font color="#008000">'stop'</font>  =&gt; <font color="#008000">'&lt;/strong&gt;&lt;/font&gt;'</font> <font color="4444FF"><strong>}</strong></font>

                                     <font color="4444FF"><strong>}</strong></font>;


<strong>return</strong> \<font color="#2040a0">%STYLESHEET</font>;

<font color="4444FF"><strong>}</strong></font>;



<font color="#444444">################################################################################
####################### get_default_database ###################################
################################################################################
</font><strong>sub<font color="ff0000"> get_default_database</font>
{</strong>

<strong>my</strong> <font color="#2040a0">%LANGUAGE</font>;

<font color="#444444"># written by PP
</font><font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'plain'</font><font color="4444FF"><strong>}</strong></font>      = <font color="4444FF"><strong>{</strong></font>
                            <font color="#008000">'filename'</font>   =&gt; <font color="#008000">''</font>,
                            <font color="#008000">'regex'</font>      =&gt; <font color="#008000">''</font>,
                            <font color="#008000">'patterns'</font>   =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                          <font color="4444FF"><strong>}</strong></font>;
 
 




<font color="#444444"># taken from nedit
# modified by PP
</font><font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'ada'</font><font color="4444FF"><strong>}</strong></font>        = <font color="4444FF"><strong>{</strong></font>
                            <font color="#008000">'filename'</font>   =&gt; <font color="#008000">'(?i)<font color="#77dd77">\\</font>.a(d[asb]?)?$'</font>,
                            <font color="#008000">'regex'</font>      =&gt; <font color="#008000">''</font>,
                            <font color="#008000">'patterns'</font>   =&gt; <font color="4444FF"><strong>[</strong></font>
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'Comments'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'--.*?$'</font>,
                                                <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>,
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'String Literals'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'&quot;.*?(&quot;|$)'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'Character Literals'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\'</font>.<font color="#77dd77">\'</font>'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'character'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'Ada Attributes'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\'</font>[a-zA-Z][a-zA-Z_]+<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'reserved word'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'Numeric Literals'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'(((2|8|10|16)#[_0-9a-fA-F]*#)|[0-9.]+)'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'numeric'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'Withs Pragmas Use'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(?i)((with|pragma|use)[ <font color="#77dd77">\\</font>t<font color="#77dd77">\\</font>n<font color="#77dd77">\\</font>f<font color="#77dd77">\\</font>r]+[a-zA-Z0-9_.]+;)+<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'include'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'Predefined Types'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(?i)(boolean|character|count|duration|float|integer|long_float|long_integer|priority|short_float|short_integer|string)<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'predefined type'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'Predefined Subtypes'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(?i)field|natural|number_base|positive|priority<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'predefined type'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'Reserved Words'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(?i)(abort|abs|accept|access|and|array|at|begin|body|case|constant|declare|delay|delta|digits|do|else|elsif|end|entry|exception|exit|for|function|generic|goto|if|in|is|limited|loop|mod|new|not|null|of|or|others|out|package|pragma|private|procedure|raise|range|record|rem|renames|return|reverse|select|separate|subtype|task|terminate|then|type|use|when|while|with|xor)<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'reserved word'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'Ada 95 Only'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(?i)(abstract|tagged|all|protected|aliased|requeue|until)<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'reserved word'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'Identifiers'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b[a-zA-Z][a-zA-Z0-9_]*<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'identifier'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'Dot All'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'(?i)<font color="#77dd77">\\</font>.all<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'predefined identifier'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>
                                            <font color="4444FF"><strong>]</strong></font>
                          <font color="4444FF"><strong>}</strong></font>;
<font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'ada95'</font><font color="4444FF"><strong>}</strong></font>      = <font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'ada'</font><font color="4444FF"><strong>}</strong></font>;















<font color="#444444"># written by JA
</font><font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'awk'</font><font color="4444FF"><strong>}</strong></font>       =  <font color="4444FF"><strong>{</strong></font>
                            <font color="#008000">'filename'</font>   =&gt; <font color="#008000">'(?i)<font color="#77dd77">\\</font>.awk$'</font>,
                            <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'^<font color="#77dd77">\\</font>s*#<font color="#77dd77">\\</font>s*![^<font color="#77dd77">\\</font>s]*awk'</font>,
                            <font color="#008000">'patterns'</font>   =&gt; <font color="4444FF"><strong>[</strong></font>
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'#.*?$'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'&quot;&quot;|&quot;.*?([^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)&quot;|&quot;<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>&quot;'</font>,
<font color="#444444">#                                                'regex'      =&gt; '&quot;&quot;|&quot;\\\\\\\\&quot;|&quot;[^&quot;\\\\]&quot;|&quot;[^&quot;].*?[^\\\\]&quot;',
					        </font><font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font><font color="#77dd77">\\</font>.'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\'</font><font color="#77dd77">\'</font>|<font color="#77dd77">\'</font>.*?([^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)<font color="#77dd77">\'</font>|<font color="#77dd77">\'</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\'</font>'</font>,
<font color="#444444">#                                                'regex'      =&gt; '\'\'|\'\\\\\\\\\'|\'[^\'\\\\]\'|\'[^\'].*?[^\\\\]\'',
					        </font><font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font><font color="#77dd77">\\</font>.'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'function header'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'function[<font color="#77dd77">\\</font>t ]+([a-zA-Z0-9_]+)[<font color="#77dd77">\\</font>t <font color="#77dd77">\\</font>n]*(<font color="#77dd77">\\</font>{|<font color="#77dd77">\\</font>n)'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'function header'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'function coloring'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'[<font color="#77dd77">\\</font>t ]([a-zA-Z0-9_]+)'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'function header name'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'regex matching I 1'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'(<font color="#77dd77">\\</font>b| )?(/)(<font color="#77dd77">\\</font><font color="#77dd77">\\</font>/|[^/<font color="#77dd77">\\</font>n])*(/[gimesox]*)'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'regex'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'regex matching I 2'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'(?:<font color="#77dd77">\\</font>b| )(?:(?:m|q|qq)([!&quot;#$%&amp;<font color="#77dd77">\'</font>*+-/]))(<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>2|[^<font color="#77dd77">\\</font>2<font color="#77dd77">\\</font>n])*(<font color="#77dd77">\\</font>2[gimesox]*)'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'regex'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'regex matching II'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'(?:<font color="#77dd77">\\</font>b| )?(?:s([!&quot;#$%&amp;<font color="#77dd77">\'</font>*+-/]))(?:<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>2|[^<font color="#77dd77">\\</font>2<font color="#77dd77">\\</font>n])*?(<font color="#77dd77">\\</font>2)[^(<font color="#77dd77">\\</font>2)<font color="#77dd77">\\</font>n]*?(<font color="#77dd77">\\</font>2[gimesox]*)'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'regex'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'translate'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'(?:<font color="#77dd77">\\</font>b| )(?:(?:tr|y)([^<font color="#77dd77">\w</font><font color="#77dd77">\s</font>]))(?:<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>2|[^<font color="#77dd77">\\</font>2<font color="#77dd77">\\</font>n])*?(<font color="#77dd77">\\</font>2)[^(<font color="#77dd77">\\</font>2)<font color="#77dd77">\\</font>n]*?(<font color="#77dd77">\\</font>2[gimesox]*)'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'regex'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'keywords'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(BEGIN|END|ARGC|ARGIND|ARGV|CONVFMT|ENVIRON|ERRNO|FIELDWIDTHS|FILENAME|FNR|FS|IGNORECASE|NF|NR|OFMT|OFS|ORS|RS|RT|RSTART|RLENGTH|SUBSEP)<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'reserved word'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'keywords 2'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(if|while|do|for|in|break|continue|delete|exit|next|nextfile|function)<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'reserved word'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'library fns'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(close|getline|print|printf|system|fflush|atan2|cos|exp|int|log|rand|sin|sqrt|srand|gensub|gsub|index|length|split|sprintf|sub|substr|tolower|toupper|systime|strftime)<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'library function'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'braces and parens'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'[<font color="#77dd77">\\</font>[<font color="#77dd77">\\</font>]<font color="#77dd77">\\</font>{<font color="#77dd77">\\</font>}<font color="#77dd77">\\</font>(<font color="#77dd77">\\</font>)]'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'braces'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'&lt;&lt; stuff'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'&lt;&lt;<font color="#77dd77">\'</font>([^<font color="#77dd77">\\</font>n]*)<font color="#77dd77">\'</font>;.*?^<font color="#77dd77">\\</font>2$'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'text'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'&lt;&lt; stuff'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'&lt;&lt;([^<font color="#77dd77">\\</font>n]*).*?^<font color="#77dd77">\\</font>2$'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'text'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>
                                            <font color="4444FF"><strong>]</strong></font>
                           <font color="4444FF"><strong>}</strong></font>;
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
<font color="#444444"># taken from nedit
# modified by PP
</font><font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'c'</font><font color="4444FF"><strong>}</strong></font>          = <font color="4444FF"><strong>{</strong></font>
                            <font color="#008000">'filename'</font>   =&gt; <font color="#008000">'<font color="#77dd77">\\</font>.[ch]$'</font>,
                            <font color="#008000">'regex'</font>      =&gt; <font color="#008000">''</font>,
                            <font color="#008000">'patterns'</font>   =&gt; <font color="4444FF"><strong>[</strong></font>
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'doc comment'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'/<font color="#77dd77">\\</font>*<font color="#77dd77">\\</font>*.*?<font color="#77dd77">\\</font>*/'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'doc comment'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'/<font color="#77dd77">\\</font>*.*?<font color="#77dd77">\\</font>*/'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'&quot;&quot;|&quot;.*?([^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)&quot;|&quot;<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>&quot;'</font>,
<font color="#444444">#                                                'regex'      =&gt; '&quot;&quot;|&quot;\\\\\\\\&quot;|&quot;[^&quot;\\\\]&quot;|&quot;[^&quot;].*?[^\\\\]&quot;',
					        </font><font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font><font color="#77dd77">\\</font>.'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'preprocessor line'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'^[ <font color="#77dd77">\\</font>t]*#.*?$'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'preprocessor'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'string'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'&quot;&quot;|&quot;.*?([^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)&quot;|&quot;<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>&quot;'</font>,
<font color="#444444">#                                                                    'regex'      =&gt; '&quot;&quot;|&quot;\\\\\\\\&quot;|&quot;[^&quot;\\\\]&quot;|&quot;[^&quot;].*?[^\\\\]&quot;',
					                            </font><font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                                      <font color="4444FF"><strong>{</strong></font>
                                                                                        <font color="#008000">'name'</font>       =&gt; <font color="#008000">'esc character'</font>,
                                                                                        <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font><font color="#77dd77">\\</font>.'</font>,
					                                                <font color="#008000">'style'</font>      =&gt; <font color="#008000">'esc character'</font>,
                                                                                        <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                                      <font color="4444FF"><strong>}</strong></font>
                                                                                    <font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>,
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'&lt;files&gt;'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'&lt;.*?&gt;'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>,
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'comment'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'[^/]/<font color="#77dd77">\\</font>*.*?<font color="#77dd77">\\</font>*/'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'character constant'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\'</font>(<font color="#77dd77">\\</font><font color="#77dd77">\\</font>)?.<font color="#77dd77">\'</font>'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'character'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font><font color="#77dd77">\\</font>.'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'esc character'</font>, 
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'numeric constant'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b((0(x|X)[0-9a-fA-F]*)|(([0-9]+<font color="#77dd77">\\</font>.?[0-9]*)|(<font color="#77dd77">\\</font>.[0-9]+))((e|E)(<font color="#77dd77">\\</font>+|-)?[0-9]+)?)(L|l|UL|ul|u|U|F|f)?<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'numeric'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'storage keyword'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(const|extern|auto|register|static|unsigned|signed|volatile|char|double|float|int|long|short|void|typedef|struct|union|enum)<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'reserved word'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'keyword'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(return|goto|if|else|case|default|switch|break|continue|while|do|for|sizeof)<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'reserved word'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'braces'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'[<font color="#77dd77">\\</font>{<font color="#77dd77">\\</font>}]'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'braces'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'symbols'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'([<font color="#77dd77">\\</font>*<font color="#77dd77">\\</font>-<font color="#77dd77">\\</font>+=:;%&amp;<font color="#77dd77">\\</font>|&lt;&gt;<font color="#77dd77">\\</font>(<font color="#77dd77">\\</font>)<font color="#77dd77">\\</font>[<font color="#77dd77">\\</font>]!])'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'symbol'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font> 
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'identifiers'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'([a-zA-Z_][a-zA-Z_0-9]*)'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'identifier'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>
                                            <font color="4444FF"><strong>]</strong></font>
                          <font color="4444FF"><strong>}</strong></font>;
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
<font color="#444444"># taken from nedit
# modified by PP
</font><font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'c++'</font><font color="4444FF"><strong>}</strong></font>        = <font color="4444FF"><strong>{</strong></font>
                            <font color="#008000">'filename'</font>   =&gt; <font color="#008000">'<font color="#77dd77">\\</font>.(c(c|pp|xx)|h(h|pp|xx)|C(C|PP|XX)?|H(H|PP|XX)?|i)$'</font>,
                            <font color="#008000">'regex'</font>      =&gt; <font color="#008000">''</font>,
                            <font color="#008000">'patterns'</font>   =&gt; <font color="4444FF"><strong>[</strong></font>
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'doc comment'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'/<font color="#77dd77">\\</font>*<font color="#77dd77">\\</font>*.*?<font color="#77dd77">\\</font>*/'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'doc comment'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'/<font color="#77dd77">\\</font>*.*?<font color="#77dd77">\\</font>*/'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'cplus comment'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'//.*?$'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'&quot;&quot;|&quot;<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>&quot;|&quot;.*?([^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)&quot;'</font>,
<font color="#444444">#                                                'regex'      =&gt; '&quot;&quot;|&quot;\\\\\\\\&quot;|&quot;[^&quot;\\\\]&quot;|&quot;[^&quot;].*?[^\\\\]&quot;',
					        </font><font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font><font color="#77dd77">\\</font>.'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'preprocessor line'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'^[ <font color="#77dd77">\\</font>t]*#.*?$'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'preprocessor'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'string'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'&quot;&quot;|&quot;.*?([^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)&quot;|&quot;<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>&quot;'</font>,
<font color="#444444">#                                                                    'regex'      =&gt; '&quot;&quot;|&quot;\\\\\\\\&quot;|&quot;[^&quot;\\\\]&quot;|&quot;[^&quot;].*?[^\\\\]&quot;',
					                            </font><font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                                      <font color="4444FF"><strong>{</strong></font>
                                                                                        <font color="#008000">'name'</font>       =&gt; <font color="#008000">'esc character'</font>,
                                                                                        <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font><font color="#77dd77">\\</font>.'</font>,
					                                                <font color="#008000">'style'</font>      =&gt; <font color="#008000">'esc character'</font>,
                                                                                        <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                                      <font color="4444FF"><strong>}</strong></font>
                                                                                    <font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>,
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'&lt;files&gt;'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'&lt;.*?&gt;'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>,
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'comment'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'[^/]/<font color="#77dd77">\\</font>*.*?<font color="#77dd77">\\</font>*/'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>,
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'cplus comment'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'//.*?$'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'character constant'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\'</font>(<font color="#77dd77">\\</font><font color="#77dd77">\\</font>)?.<font color="#77dd77">\'</font>'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'character'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font><font color="#77dd77">\\</font>.'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'numeric constant'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b((0(x|X)[0-9a-fA-F]*)|(([0-9]+<font color="#77dd77">\\</font>.?[0-9]*)|(<font color="#77dd77">\\</font>.[0-9]+))((e|E)(<font color="#77dd77">\\</font>+|-)?[0-9]+)?)(L|l|UL|ul|u|U|F|f)?<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'numeric'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'storage keyword'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(class|typename|typeid|template|friend|virtual|inline|explicit|operator|overload|public|private|protected|const|extern|auto|register|static|mutable|unsigned|signed|volatile|char|double|float|int|long|short|bool|wchar_t|void|typedef|struct|union|enum)<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'reserved word'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>,
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'keyword'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(new|delete|this|return|goto|if|else|case|default|switch|break|continue|while|do|for|catch|throw|sizeof|true|false|namespace|using|dynamic_cast|static_cast|reinterpret_cast)<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'reserved word'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'braces'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'[<font color="#77dd77">\\</font>{<font color="#77dd77">\\</font>}]'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'braces'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'symbols'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'([<font color="#77dd77">\\</font>*<font color="#77dd77">\\</font>-<font color="#77dd77">\\</font>+=:;%&amp;<font color="#77dd77">\\</font>|&lt;&gt;<font color="#77dd77">\\</font>(<font color="#77dd77">\\</font>)<font color="#77dd77">\\</font>[<font color="#77dd77">\\</font>]!])'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'symbol'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'identifiers'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'([a-zA-Z_][a-zA-Z_0-9]*)'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'identifier'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>
                                            <font color="4444FF"><strong>]</strong></font>
                          <font color="4444FF"><strong>}</strong></font>;
<font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'cc'</font><font color="4444FF"><strong>}</strong></font>         = <font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'c++'</font><font color="4444FF"><strong>}</strong></font>;
<font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'cpp'</font><font color="4444FF"><strong>}</strong></font>        = <font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'c++'</font><font color="4444FF"><strong>}</strong></font>;
<font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'cxx'</font><font color="4444FF"><strong>}</strong></font>        = <font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'c++'</font><font color="4444FF"><strong>}</strong></font>;










<font color="#444444"># written by VRS
</font><font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'gpasm'</font><font color="4444FF"><strong>}</strong></font>      = <font color="4444FF"><strong>{</strong></font>
                            <font color="#008000">'filename'</font>   =&gt; <font color="#008000">'(?i)<font color="#77dd77">\\</font>.(asm|inc)$'</font>,
                            <font color="#008000">'regex'</font>      =&gt; <font color="#008000">''</font>,
                            <font color="#008000">'patterns'</font>   =&gt; <font color="4444FF"><strong>[</strong></font>
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'args'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'^.*$'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'symbol'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
						 <font color="4444FF"><strong>{</strong></font>
						     <font color="#008000">'name'</font>       =&gt; <font color="#008000">'comment'</font>,
						     <font color="#008000">'regex'</font>      =&gt; <font color="#008000">';.*?$'</font>,
					             <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                     <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                 <font color="4444FF"><strong>}</strong></font>,
                                                 <font color="4444FF"><strong>{</strong></font>
                                                     <font color="#008000">'name'</font>       =&gt; <font color="#008000">'labels'</font>,
                                                     <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'^[A-Za-z_][A-Za-z_0-9]*:?'</font>,
					             <font color="#008000">'style'</font>      =&gt; <font color="#008000">'identifier'</font>,
                                                     <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                 <font color="4444FF"><strong>}</strong></font>,

                                                 <font color="4444FF"><strong>{</strong></font>
                                                     <font color="#008000">'name'</font>       =&gt; <font color="#008000">'menonics'</font>,
                                                     <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'^[ <font color="#77dd77">\t</font>]+[A-Za-z_][A-Za-z_0-9]*'</font>,
					             <font color="#008000">'style'</font>      =&gt; <font color="#008000">'reserved word'</font>,
                                                     <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                 <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'&quot;&quot;|&quot;.*?([^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)&quot;|&quot;<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>&quot;'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font><font color="#77dd77">\\</font>.'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>


                                                                 <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>
                                            <font color="4444FF"><strong>]</strong></font>
                          <font color="4444FF"><strong>}</strong></font>;








<font color="#444444"># written by JA
</font><font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'groff'</font><font color="4444FF"><strong>}</strong></font>      = <font color="4444FF"><strong>{</strong></font>
                            <font color="#008000">'filename'</font>   =&gt; <font color="#008000">'<font color="#77dd77">\\</font>.groff$'</font>,
                            <font color="#008000">'regex'</font>      =&gt; <font color="#008000">''</font>,
                            <font color="#008000">'patterns'</font>   =&gt; <font color="4444FF"><strong>[</strong></font>
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font><font color="#77dd77">\\</font>&quot;.*?$'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>
                                            <font color="4444FF"><strong>]</strong></font>
                          <font color="4444FF"><strong>}</strong></font>;
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
<font color="#444444"># taken from nedit
# modified by PP
</font><font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'html'</font><font color="4444FF"><strong>}</strong></font>       = <font color="4444FF"><strong>{</strong></font>
                            <font color="#008000">'filename'</font>   =&gt; <font color="#008000">'(?i)<font color="#77dd77">\\</font>.html?$'</font>,
                            <font color="#008000">'regex'</font>      =&gt; <font color="#008000">''</font>,
                            <font color="#008000">'patterns'</font>   =&gt; <font color="4444FF"><strong>[</strong></font>
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'&lt;!--.*?--&gt;'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'entity'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>&amp;[-.a-zA-Z0-9#]*;?'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'entity'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'tag'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'&lt;(/|!)?[-.a-zA-Z0-9]*.*?&gt;'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'predefined identifier'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'double quote string'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'&quot;.*?&quot;'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>,
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'single quote string'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\'</font>.*?<font color="#77dd77">\'</font>'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>,
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'brackets'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'[&lt;&gt;]'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'braces'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>,
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'attribute'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'[^<font color="#77dd77">\'</font>&quot; ]+(?=.)'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'identifier'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>
                                            <font color="4444FF"><strong>]</strong></font>
                       <font color="4444FF"><strong>}</strong></font>;
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
<font color="#444444"># taken from nedit
# modified by PP
</font><font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'java'</font><font color="4444FF"><strong>}</strong></font>       = <font color="4444FF"><strong>{</strong></font>
                            <font color="#008000">'filename'</font>   =&gt; <font color="#008000">'<font color="#77dd77">\\</font>.java$'</font>,
                            <font color="#008000">'regex'</font>      =&gt; <font color="#008000">''</font>,
                            <font color="#008000">'patterns'</font>   =&gt; <font color="4444FF"><strong>[</strong></font>
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'doc comment'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'/<font color="#77dd77">\\</font>*<font color="#77dd77">\\</font>*.*?<font color="#77dd77">\\</font>*/'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'doc comment'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'/<font color="#77dd77">\\</font>*.*?<font color="#77dd77">\\</font>*/'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'cplus comment'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'//.*?$'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'&quot;&quot;|&quot;.*?([^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)&quot;|&quot;<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>&quot;'</font>,
<font color="#444444">#                                                'regex'      =&gt; '&quot;&quot;|&quot;\\\\\\\\&quot;|&quot;[^&quot;\\\\]&quot;|&quot;[^&quot;].*?[^\\\\]&quot;',
					        </font><font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font><font color="#77dd77">\\</font>.'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'single quoted'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\'</font><font color="#77dd77">\'</font>|<font color="#77dd77">\'</font>.*?([^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)<font color="#77dd77">\'</font>|<font color="#77dd77">\'</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\'</font>'</font>,
<font color="#444444">#                                                'regex'      =&gt; '\'\'|\'\\\\\\\\\'|\'[^\'\\\\]\'|\'[^\'].*?[^\\\\]\'',
					        </font><font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'numeric constant'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b((0(x|X)[0-9a-fA-F]*)|(([0-9]+<font color="#77dd77">\\</font>.?[0-9]*)|(<font color="#77dd77">\\</font>.[0-9]+))((e|E)(<font color="#77dd77">\\</font>+|-)?[0-9]+)?)(L|l|UL|ul|u|U|F|f)?<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'numeric'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'include'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(import|package)<font color="#77dd77">\\</font>b.*?$'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'include'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font><font color="#77dd77">\\</font>(.|<font color="#77dd77">\\</font>n)'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>,
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'comment'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'[^/]/<font color="#77dd77">\\</font>*.*?<font color="#77dd77">\\</font>*/'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'storage keyword'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(abstract|boolean|byte|char|class|double|extends|final|float|int|interface|long|native|private|protected|public|short|static|transient|synchronized|void|volatile|implements)<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'reserved word'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'keyword'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(break|case|catch|continue|default|do|else|false|finally|for|if|instanceof|new|null|return|super|switch|this|throw|throws|true|try|while)<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'reserved word'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'braces and parens'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'[<font color="#77dd77">\\</font>{<font color="#77dd77">\\</font>}<font color="#77dd77">\\</font>(<font color="#77dd77">\\</font>)<font color="#77dd77">\\</font>[<font color="#77dd77">\\</font>]]'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'braces'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'Identifiers'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b[a-zA-Z_][a-zA-Z0-9_]*<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'identifier'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'symbols'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'([<font color="#77dd77">\\</font>*<font color="#77dd77">\\</font>-<font color="#77dd77">\\</font>+=:;%&amp;<font color="#77dd77">\\</font>|&lt;&gt;!])'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'symbol'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>
                                            <font color="4444FF"><strong>]</strong></font>
                          <font color="4444FF"><strong>}</strong></font>;
 
 
 
 
 
 
 
 
 
 
 
 
 
 
<font color="#444444"># taken from nedit
# modified by PP
</font><font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'javascript'</font><font color="4444FF"><strong>}</strong></font> = <font color="4444FF"><strong>{</strong></font>
                            <font color="#008000">'filename'</font>   =&gt; <font color="#008000">'(?i)<font color="#77dd77">\\</font>.js$'</font>,
                            <font color="#008000">'regex'</font>      =&gt; <font color="#008000">''</font>,
                            <font color="#008000">'patterns'</font>   =&gt; <font color="4444FF"><strong>[</strong></font>
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'/<font color="#77dd77">\\</font>*.*?<font color="#77dd77">\\</font>*/'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'cplus comment'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'//.*?$'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'numeric constant'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b((0(x|X)[0-9a-fA-F]*)|(([0-9]+<font color="#77dd77">\\</font>.?[0-9]*)|(<font color="#77dd77">\\</font>.[0-9]+))((e|E)(<font color="#77dd77">\\</font>+|-)?[0-9]+)?)(L|l|UL|ul|u|U|F|f)?<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'numeric'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'events'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(onAbort|onBlur|onClick|onChange|onDblClick|onDragDrop|onError|onFocus|onKeyDown|onKeyPress|onLoad|onMouseDown|onMouseMove|onMouseOut|onMouseOver|onMouseUp|onMove|onResize|onSelect|onSubmit|onUnload)<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'reserved word'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'braces'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'[<font color="#77dd77">\\</font>{<font color="#77dd77">\\</font>}]'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'braces'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'statements'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(break|continue|else|for|if|in|new|return|this|typeof|var|while|with)<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'reserved word'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'function'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'function[<font color="#77dd77">\\</font>t ]+([a-zA-Z0-9_]+)[<font color="#77dd77">\\</font>t <font color="#77dd77">\\</font>(]+.*?[<font color="#77dd77">\\</font>n{]'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'function header'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'function args'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>(.*?<font color="#77dd77">\\</font>)'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'function header args'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>,
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'function name'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'[<font color="#77dd77">\\</font>t ][a-zA-Z0-9_]+'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'function header name'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,  
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'built in object type'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(anchor|Applet|Area|Array|button|checkbox|Date|document|elements|FileUpload|form|frame|Function|hidden|history|Image|link|location|Math|navigator|Option|password|Plugin|radio|reset|select|string|submit|text|textarea|window)<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'predefined type'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'&quot;.*?(&quot;|$)'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'colors'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'(aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|#008000|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen|#[A-Fa-f0-9][A-Fa-f0-9][A-Fa-f0-9][A-Fa-f0-9][A-Fa-f0-9][A-Fa-f0-9])'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'identifier'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\'</font>.*?(<font color="#77dd77">\'</font>|$)'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'colors'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'(aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|#008000|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen|#[A-Fa-f0-9][A-Fa-f0-9][A-Fa-f0-9][A-Fa-f0-9][A-Fa-f0-9][A-Fa-f0-9])'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'identifier'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>,
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'event capturing'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(captureEvents|releaseEvents|routeEvent|handleEvent)<font color="#77dd77">\\</font>b.*?(<font color="#77dd77">\\</font>)|$)'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'reserved word'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'predefined methods'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(abs|acos|alert|anchor|asin|atan|atan2|back|big|blink|blur|bold|ceil|charAt|clear|clearTimeout|click|close|confirm|cos|escape|eval|exp|fixed|floor|focus|fontcolor|fontsize|forward|getDate|getDay|getHours|getMinutes|getMonth|getSeconds|getTime|getTimezoneOffset|getYear|go|indexOf|isNaN|italics|javaEnabled|join|lastIndexOf|link|log|max|min|open|parse|parseFloat|parseInt|pow|prompt|random|reload|replace|reset|reverse|round|scroll|select|setDate|setHours|setMinutes|setMonth|setSeconds|setTimeout|setTime|setYear|sin|small|sort|split|sqrt|strike|sub|submit|substring|sup|taint|tan|toGMTString|toLocaleString|toLowerCase|toString|toUpperCase|unescape|untaint|UTC|write|writeln)<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'library function'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'properties'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(action|alinkColor|anchors|appCodeName|appName|appVersion|bgColor|border|checked|complete|cookie|defaultChecked|defaultSelected|defaultStatus|defaultValue|description|E|elements|enabledPlugin|encoding|fgColor|filename|forms|frames|hash|height|host|hostname|href|hspace|index|lastModified|length|linkColor|links|LN2|LN10|LOG2E|LOG10E|lowsrc|method|name|opener|options|parent|pathname|PI|port|protocol|prototype|referrer|search|selected|selectedIndex|self|SQRT1_2|SQRT2|src|status|target|text|title|top|type|URL|userAgent|value|vlinkColor|vspace|width|window)<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'predefined identifier'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'operators'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'([=;-&gt;/&amp;|])'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'symbol'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>
                                            <font color="4444FF"><strong>]</strong></font>
                          <font color="4444FF"><strong>}</strong></font>;
<font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'js'</font><font color="4444FF"><strong>}</strong></font>         = <font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'javascript'</font><font color="4444FF"><strong>}</strong></font>;








<font color="#444444"># written by Andreas Krennmair
# extremely incomplete

</font><font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'lisp'</font><font color="4444FF"><strong>}</strong></font>       = <font color="4444FF"><strong>{</strong></font>
                            <font color="#008000">'filename'</font> =&gt; <font color="#008000">'<font color="#77dd77">\\</font>.(lsp|l)$'</font>,
			    <font color="#008000">'regex'</font> =&gt; <font color="#008000">''</font>,
                            <font color="#008000">'patterns'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                               <font color="4444FF"><strong>{</strong></font>
                                 <font color="#008000">'name'</font>       =&gt; <font color="#008000">'parens'</font>,
                                 <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'[()]'</font>,
                                 <font color="#008000">'style'</font>      =&gt; <font color="#008000">'braces'</font>,
                                 <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                               <font color="4444FF"><strong>}</strong></font>,
                               <font color="4444FF"><strong>{</strong></font>
                                 <font color="#008000">'name'</font>       =&gt; <font color="#008000">'comment'</font>,
                                 <font color="#008000">'regex'</font>      =&gt; <font color="#008000">';.*?$'</font>,
                                 <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                 <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                               <font color="4444FF"><strong>}</strong></font>,
                               <font color="4444FF"><strong>{</strong></font>
                                 <font color="#008000">'name'</font>       =&gt; <font color="#008000">'string'</font>,
                                 <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'&quot;.*?(&quot;|$)'</font>,
                                 <font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                 <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                               <font color="4444FF"><strong>}</strong></font>,
                               <font color="4444FF"><strong>{</strong></font>
                                 <font color="#008000">'name'</font>       =&gt; <font color="#008000">'keywords'</font>,
                                 <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(defun |xyz)<font color="#77dd77">\\</font>b'</font>,
                                 <font color="#008000">'style'</font>      =&gt; <font color="#008000">'reserved word'</font>,
                                 <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                               <font color="4444FF"><strong>}</strong></font>,
                               <font color="4444FF"><strong>{</strong></font>
                                 <font color="#008000">'name'</font>       =&gt; <font color="#008000">'numeric constant'</font>,
                                 <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'(#<font color="#77dd77">\(</font>[0-9]+ [0-9]+<font color="#77dd77">\)</font>|[0-9]+)'</font>,
                                 <font color="#008000">'style'</font>      =&gt; <font color="#008000">'numeric'</font>,
                                 <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                               <font color="4444FF"><strong>}</strong></font>,
                               <font color="4444FF"><strong>{</strong></font>
                                 <font color="#008000">'name'</font>       =&gt; <font color="#008000">'identifiers'</font>,
                                 <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'([-a-zA-Z]+)'</font>,
                                 <font color="#008000">'style'</font>      =&gt; <font color="#008000">'identifier'</font>,
                                 <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                               <font color="4444FF"><strong>}</strong></font>
                            <font color="4444FF"><strong>]</strong></font>
                          <font color="4444FF"><strong>}</strong></font>;










<font color="#444444"># written by JA
</font><font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'m4'</font><font color="4444FF"><strong>}</strong></font>         = <font color="4444FF"><strong>{</strong></font>
                            <font color="#008000">'filename'</font>   =&gt; <font color="#008000">'<font color="#77dd77">\\</font>.m4$'</font>,
                            <font color="#008000">'regex'</font>      =&gt; <font color="#008000">''</font>,
                            <font color="#008000">'patterns'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                            <font color="4444FF"><strong>{</strong></font>
                                              <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'dnl.*?$'</font>,
					      <font color="#008000">'style'</font>      =&gt; <font color="#008000">'doc comment'</font>,
                                              <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                            <font color="4444FF"><strong>}</strong></font>,
                                            <font color="4444FF"><strong>{</strong></font>
                                              <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'#.*?$'</font>,
					      <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                              <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                            <font color="4444FF"><strong>}</strong></font>,
                                            <font color="4444FF"><strong>{</strong></font>
                                              <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(define|undefine|defn|pushdef|popdef|indir|builtin|changequote|changecom|changeword|m4wrap|m4exit|include|sinclude|divert|undivert|divnum|cleardiv|shift|dumpdef|traceon|traceoff|debugfile|debugmode|len|index|regexp|substr|translit|patsubst|format|incr|decr|syscmd|esyscmd|sysval|maketemp|errprint)<font color="#77dd77">\\</font>b'</font>,
					      <font color="#008000">'style'</font>      =&gt; <font color="#008000">'reserved word'</font>,
                                              <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                            <font color="4444FF"><strong>}</strong></font>,
                                            <font color="4444FF"><strong>{</strong></font>
                                              <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(ifdef|ifelse|loops)<font color="#77dd77">\\</font>b'</font>,
					      <font color="#008000">'style'</font>      =&gt; <font color="#008000">'reserved word'</font>,
                                              <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                <font color="4444FF"><strong>{</strong></font>
                                                                  <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'[$]<font color="#77dd77">\\</font>$?({[^}]*}|[^a-zA-Z0-9_/<font color="#77dd77">\\</font>t<font color="#77dd77">\\</font>n<font color="#77dd77">\\</font>.,<font color="#77dd77">\\</font><font color="#77dd77">\\</font>[<font color="#77dd77">\\</font><font color="#77dd77">\\</font>{<font color="#77dd77">\\</font><font color="#77dd77">\\</font>(]|[0-9]+|[a-zA-Z_][a-zA-Z0-9_]*)?'</font>,
					                          <font color="#008000">'style'</font>      =&gt; <font color="#008000">'identifier'</font>,
                                                                  <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                <font color="4444FF"><strong>}</strong></font>
                                                              <font color="4444FF"><strong>]</strong></font>
                                            <font color="4444FF"><strong>}</strong></font>
                                          <font color="4444FF"><strong>]</strong></font>
                          <font color="4444FF"><strong>}</strong></font>;















<font color="#444444"># taken from nedit
# modified by PP
</font><font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'make'</font><font color="4444FF"><strong>}</strong></font>       = <font color="4444FF"><strong>{</strong></font>
                            <font color="#008000">'filename'</font>   =&gt; <font color="#008000">'[Mm]akefile.*'</font>,
                            <font color="#008000">'regex'</font>      =&gt; <font color="#008000">''</font>,
                            <font color="#008000">'patterns'</font>   =&gt; <font color="4444FF"><strong>[</strong></font>
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'Comment'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'#.*?$'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'Assignment'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'^( *| [ <font color="#77dd77">\\</font>t]*)[A-Za-z0-9_+]*[ <font color="#77dd77">\\</font>t]*(<font color="#77dd77">\\</font>+|:)?='</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'assignment'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'Dependency Line'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'^ *([A-Za-z0-9./$(){} _%+-]|<font color="#77dd77">\\</font>n)*::?'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'dependency line'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'Dependency Target'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'[A-Za-z0-9./$(){} _%+-]+'</font>,
								    <font color="#008000">'style'</font>      =&gt; <font color="#008000">'dependency target'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>,
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'Dependency Continuation'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>n'</font>,
								    <font color="#008000">'style'</font>      =&gt; <font color="#008000">'dependency continuation'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>,
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'comment'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'#.*?$'</font>,
								    <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>,
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'macro'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>$([A-Za-z0-9_]|<font color="#77dd77">\\</font>([^)]*<font color="#77dd77">\\</font>)|{[^}]*})'</font>,
								    <font color="#008000">'style'</font>      =&gt; <font color="#008000">'macro'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>,
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'int macro'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>$([&lt;@*?%]|<font color="#77dd77">\\</font>$@)'</font>,
								    <font color="#008000">'style'</font>      =&gt; <font color="#008000">'int macro'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'Continuation'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font><font color="#77dd77">\\</font>$'</font>,
						<font color="#008000">'style'</font>      =&gt; <font color="#008000">'continuation'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'Macro'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>$([A-Za-z0-9_]|<font color="#77dd77">\\</font>([^)]*<font color="#77dd77">\\</font>)|{[^}]*})'</font>,
						<font color="#008000">'style'</font>      =&gt; <font color="#008000">'macro'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'Internal Macro'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>$([&lt;@*?%]|<font color="#77dd77">\\</font>$@)'</font>,
						<font color="#008000">'style'</font>      =&gt; <font color="#008000">'int macro'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'Escaped $$$'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>$<font color="#77dd77">\\</font>$'</font>,
						<font color="#008000">'style'</font>      =&gt; <font color="#008000">'esc $$$'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'Include'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'^include[ <font color="#77dd77">\\</font>t]'</font>,
						<font color="#008000">'style'</font>      =&gt; <font color="#008000">'include'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>
                                            <font color="4444FF"><strong>]</strong></font>
                          <font color="4444FF"><strong>}</strong></font>;
<font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'makefile'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'make'</font><font color="4444FF"><strong>}</strong></font>;















<font color="#444444"># taken from nedit
# modified by PP
</font><font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'pas'</font><font color="4444FF"><strong>}</strong></font>        = <font color="4444FF"><strong>{</strong></font>
                            <font color="#008000">'filename'</font>   =&gt; <font color="#008000">'(?i)<font color="#77dd77">\\</font>.p(as)?$'</font>,
                            <font color="#008000">'regex'</font>      =&gt; <font color="#008000">''</font>,
                            <font color="#008000">'patterns'</font>   =&gt; <font color="4444FF"><strong>[</strong></font>
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'comment1 (*    *)'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>(<font color="#77dd77">\\</font>*.*?<font color="#77dd77">\\</font>*<font color="#77dd77">\\</font>)'</font>,
						<font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'comment2 {    }'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>{.*?<font color="#77dd77">\\</font>}'</font>,
						<font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\'</font>.*?(<font color="#77dd77">\'</font>|$)'</font>,
						<font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'preprocessor line'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'^[ <font color="#77dd77">\\</font>t]*#.*?$'</font>,
						<font color="#008000">'style'</font>      =&gt; <font color="#008000">'preprocessor'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'comment1 (*    *)'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>(<font color="#77dd77">\\</font>*.*?<font color="#77dd77">\\</font>*<font color="#77dd77">\\</font>)'</font>,
								    <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>,
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'comment2 {    }'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>{.*?<font color="#77dd77">\\</font>}'</font>,
								    <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'character constant'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\'</font>.<font color="#77dd77">\'</font>'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'character'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'numeric constant'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b((0(x|X)[0-9a-fA-F]*)|[0-9.]+((e|E)(<font color="#77dd77">\\</font>+|-)?)?[0-9]*)(L|l|UL|ul|u|U|F|f)?<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'numeric'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'storage and ops'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(?i)(and|array|const|div|export|file|function|import|in|label|mod|module|nil|not|only|or|packed|pow|pragma|procedure|program|protected|qualified|record|restricted|set|type|var)<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'reserved word'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'keywords'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(?i)(begin|case|do|downto|else|end|for|goto|if|of|otherwise|repeat|then|to|until|while|with)<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'reserved word'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'sumbols'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'([<font color="#77dd77">\\</font>*<font color="#77dd77">\\</font>-<font color="#77dd77">\\</font>+=:;&lt;&gt;<font color="#77dd77">\\</font>(<font color="#77dd77">\\</font>)<font color="#77dd77">\\</font>[<font color="#77dd77">\\</font>]!]|[^/]/[^/])'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'symbol'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'identifiers'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'([a-zA-Z_][a-zA-Z_0-9.^]*[a-zA-Z_0-9]|[a-zA-Z_][a-zA-Z_0-9]*)'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'identifier'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'(<font color="#77dd77">\\</font>.|<font color="#77dd77">\\</font>^)+'</font>,
								    <font color="#008000">'style'</font>      =&gt; <font color="#008000">'symbol'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>
                                            <font color="4444FF"><strong>]</strong></font>,
                          <font color="4444FF"><strong>}</strong></font>;
<font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'pascal'</font><font color="4444FF"><strong>}</strong></font>     = <font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'pas'</font><font color="4444FF"><strong>}</strong></font>;

 
 
 
 
 
 
 
 
 
 
 
 
 
 
<font color="#444444"># taken from nedit
# modified by PP
# modified by BS
# modified by JD
# modified by JP
</font><font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'perl'</font><font color="4444FF"><strong>}</strong></font>       = <font color="4444FF"><strong>{</strong></font>
                            <font color="#008000">'filename'</font>   =&gt; <font color="#008000">'(?i)<font color="#77dd77">\\</font>.p([lm5]|od)$'</font>,
                            <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'^<font color="#77dd77">\\</font>s*#<font color="#77dd77">\\</font>s*![^<font color="#77dd77">\\</font>s]*perl'</font>,
                            <font color="#008000">'patterns'</font>   =&gt; <font color="4444FF"><strong>[</strong></font>
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'(?:#.*?(?:<font color="#77dd77">\r</font>?<font color="#77dd77">\n</font><font color="#77dd77">\s</font>*)+)+'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'variables'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'[<font color="#77dd77">\\</font>$@%]<font color="#77dd77">\\</font>$?(?:{[^}]*}|[^a-zA-Z0-9_/<font color="#77dd77">\\</font>t<font color="#77dd77">\\</font>n<font color="#77dd77">\\</font>.,<font color="#77dd77">\\</font><font color="#77dd77">\\</font>[<font color="#77dd77">\\</font><font color="#77dd77">\\</font>{<font color="#77dd77">\\</font><font color="#77dd77">\\</font>(]|[0-9]+|[a-zA-Z_][a-zA-Z0-9_]*)?'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'identifier'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'&quot;&quot; string'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'&quot;&quot;|&quot;.*?([^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)&quot;|&quot;<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>&quot;'</font>,
<font color="#444444">#                                                'regex'      =&gt; '&quot;&quot;|&quot;\\\\\\\\&quot;|&quot;[^&quot;\\\\]&quot;|&quot;[^&quot;].*?[^\\\\]&quot;',
					        </font><font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font><font color="#77dd77">\\</font>.'</font>,
								    <font color="#008000">'style'</font>      =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>,
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'variables'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'[<font color="#77dd77">\\</font>$@%]<font color="#77dd77">\\</font>$?(?:{[^}]*}|[^a-zA-Z0-9_/<font color="#77dd77">\\</font>t<font color="#77dd77">\\</font>n<font color="#77dd77">\\</font>.,<font color="#77dd77">\\</font><font color="#77dd77">\\</font>[<font color="#77dd77">\\</font><font color="#77dd77">\\</font>{<font color="#77dd77">\\</font><font color="#77dd77">\\</font>(]|[0-9]+|[a-zA-Z_][a-zA-Z0-9_]*)?'</font>,
								    <font color="#008000">'style'</font>      =&gt; <font color="#008000">'identifier'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'<font color="#77dd77">\'</font><font color="#77dd77">\'</font> string'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\'</font><font color="#77dd77">\'</font>|<font color="#77dd77">\'</font>.*?([^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)<font color="#77dd77">\'</font>|<font color="#77dd77">\'</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\'</font>'</font>,
<font color="#444444">#                                                'regex'      =&gt; '\'\'|\'\\\\\\\\\'|\'[^\'\\\\]\'|\'[^\'].*?[^\\\\]\'',
					        </font><font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font><font color="#77dd77">\\</font>.'</font>,
								    <font color="#008000">'style'</font>      =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'more strings - q// qw//'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'(?:<font color="#77dd77">\\</font>b| )(?:q|qw)([^<font color="#77dd77">\w</font><font color="#77dd77">\s</font>])(?:<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>2|[^<font color="#77dd77">\\</font>2<font color="#77dd77">\\</font>n])*<font color="#77dd77">\\</font>2'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font><font color="#77dd77">\\</font>.'</font>,
								    <font color="#008000">'style'</font>      =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'more strings - qq// qx//'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'(?:<font color="#77dd77">\\</font>b| )(?:qq|qx)([^<font color="#77dd77">\w</font><font color="#77dd77">\s</font>])(?:<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>2|[^<font color="#77dd77">\\</font>2<font color="#77dd77">\\</font>n])*<font color="#77dd77">\\</font>2'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font><font color="#77dd77">\\</font>.'</font>,
								    <font color="#008000">'style'</font>      =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>,
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'variables'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'[<font color="#77dd77">\\</font>$@%]<font color="#77dd77">\\</font>$?(?:{[^}]*}|[^a-zA-Z0-9_/<font color="#77dd77">\\</font>t<font color="#77dd77">\\</font>n<font color="#77dd77">\\</font>.,<font color="#77dd77">\\</font><font color="#77dd77">\\</font>[<font color="#77dd77">\\</font><font color="#77dd77">\\</font>{<font color="#77dd77">\\</font><font color="#77dd77">\\</font>(]|[0-9]+|[a-zA-Z_][a-zA-Z0-9_]*)?'</font>,
								    <font color="#008000">'style'</font>      =&gt; <font color="#008000">'identifier'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'subroutine header'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'sub[<font color="#77dd77">\\</font>t ]+(?:[a-zA-Z0-9_]+)[<font color="#77dd77">\\</font>t <font color="#77dd77">\\</font>n]*(?:<font color="#77dd77">\\</font>{|<font color="#77dd77">\\</font>(|<font color="#77dd77">\\</font>n)'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'function header'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'subroutine header coloring'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'[<font color="#77dd77">\\</font>t ][a-zA-Z0-9_]+'</font>,
								    <font color="#008000">'style'</font>      =&gt; <font color="#008000">'function header name'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'regex matching I'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'(?:<font color="#77dd77">\\</font>b| )?(?:/(?:<font color="#77dd77">\\</font><font color="#77dd77">\\</font>/|[^/<font color="#77dd77">\\</font>n])*(?:/[gimesox]*)|s([^<font color="#77dd77">\w</font><font color="#77dd77">\s</font>])(?:<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>2|[^<font color="#77dd77">\\</font>2<font color="#77dd77">\\</font>n])*?(<font color="#77dd77">\\</font>2)[^(<font color="#77dd77">\\</font>2)<font color="#77dd77">\\</font>n]*?(<font color="#77dd77">\\</font>2[gimesox]*))'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'regex'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'regex matching II'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'(?:<font color="#77dd77">\\</font>b| )(?:m|qq?|tr|y)([^<font color="#77dd77">\w</font><font color="#77dd77">\s</font>])(?:<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>2|[^<font color="#77dd77">\\</font>2<font color="#77dd77">\\</font>n])*(?:<font color="#77dd77">\\</font>2[gimesox]*)'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'regex'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'keywords'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(my|local|new|if|until|while|elsif|else|eval|unless|for|foreach|continue|exit|die|last|goto|next|redo|return|local|exec|do|use|require|package|eval|BEGIN|END|eq|ne|not|<font color="#77dd77">\\</font>|<font color="#77dd77">\\</font>||<font color="#77dd77">\\</font>&amp;<font color="#77dd77">\\</font>&amp;|and|or)<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'reserved word'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'library functions'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(?:a(?:bs|ccept|larm|tan2)|b(?:ind|inmode|less)|c(?:aller|hdir|hmod|homp|hop|hr|hroot|hown|losedir|lose|onnect|os|rypt)|d(?:bmclose|bmopen|efined|elete|ie|ump)|e(?:ach|nd(?:grent|hostent|netent|protoent|pwent|servent)|of|xec|xists|xp)|f(?:ctnl|ileno|lock|ork|ormat|ormline)|g(?:et(?:c|grent|grgid|grnam|hostbyaddr|hostbyname|hostent|login|netbyaddr|netbyname|netent|peername|pgrp|ppid|priority|protobyname|protobynumber|protoent|pwent|pwnam|pwuid|servbyname|servbyport|servent|sockname|sockopt)|lob|mtime|rep)|hex|i(?:mport|ndex|nt|octl)|join|keys|kill|l(?:cfirst|c|ength|ink|isten|og|ocaltime|stat)|m(?:ap|kdir|sgctl|sgget|sgrcv)|no|o(?:ct|pendir|pen|rd)|p(?:ack|ipe|op|os|rintf|rint|ush)|quotemeta|r(?:and|eaddir|ead|eadlink|ecv|ef|ename|eset|everse|ewinddir|index|mdir)|s(?:calar|eekdir|eek|elect|emctl|emget|emop|end|et(?:grent|hostent|netent|pgrp|priority|protoent|pwent|sockopt)|hift|hmctl|hmget|hmread|hmwrite|hutdown|in|leep|ocket|ocketpair|ort|plice|plit|printf|qrt|rand|tat|tudy|ubstr|ymlink|yscall|ysopen|ysread|ystem|yswrite)|t(?:elldir|ell|ie|ied|ime|imes|runcate)|u(?:c|cfirst|mask|ndef|nlink|npack|nshift|ntie|time)|values|vec|w(?:ait|aitpid|antarray|arn|rite)|qw|-[rwxoRWXOezsfdlpSbctugkTBMAC])<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'library function'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'braces, parens and brakets'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'[<font color="#77dd77">\\</font>[<font color="#77dd77">\\</font>]<font color="#77dd77">\\</font>{<font color="#77dd77">\\</font>}<font color="#77dd77">\\</font>(<font color="#77dd77">\\</font>)]'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'braces'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'&lt;&lt; stuff'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'&lt;&lt;(?:(&quot;|<font color="#77dd77">\'</font>)([^<font color="#77dd77">\\</font>n]*)<font color="#77dd77">\\</font>2|<font color="#77dd77">\\</font>w*).*?^<font color="#77dd77">\\</font>3$'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'text'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'POD'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'^=.*?^(?:=cut|<font color="#77dd77">\\</font>Z)'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'doc comment'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>
                                            <font color="4444FF"><strong>]</strong></font>
                          <font color="4444FF"><strong>}</strong></font>;
 














<font color="#444444"># Thanks to Matt Giwer &lt;jull43@ij.net&gt;
</font><font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'pov'</font><font color="4444FF"><strong>}</strong></font>        = <font color="4444FF"><strong>{</strong></font>
                            <font color="#008000">'filename'</font>   =&gt; <font color="#008000">'(?i)<font color="#77dd77">\\</font>.pov$'</font>,
                            <font color="#008000">'regex'</font>      =&gt; <font color="#008000">''</font>,
                            <font color="#008000">'patterns'</font>   =&gt; <font color="4444FF"><strong>[</strong></font>
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'doc comment'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'/<font color="#77dd77">\\</font>*<font color="#77dd77">\\</font>*.*?<font color="#77dd77">\\</font>*/'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'doc comment'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'/<font color="#77dd77">\\</font>*.*?<font color="#77dd77">\\</font>*/'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'cplus comment'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'//.*?$'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'&quot;&quot;|&quot;.*?([^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)&quot;|&quot;<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>&quot;'</font>,
<font color="#444444">#                                                'regex'      =&gt; '&quot;&quot;|&quot;\\\\\\\\&quot;|&quot;[^&quot;\\\\]&quot;|&quot;[^&quot;].*?[^\\\\]&quot;',
					        </font><font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font><font color="#77dd77">\\</font>.'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'preprocessor line'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'^[ <font color="#77dd77">\\</font>t]*#.*?$'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'preprocessor'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'string'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'&quot;&quot;|&quot;.*?([^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)&quot;|&quot;<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>&quot;'</font>,
<font color="#444444">#                                                                    'regex'      =&gt; '&quot;&quot;|&quot;\\\\\\\\&quot;|&quot;[^&quot;\\\\]&quot;|&quot;[^&quot;].*?[^\\\\]&quot;',
					                            </font><font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                                      <font color="4444FF"><strong>{</strong></font>
                                                                                        <font color="#008000">'name'</font>       =&gt; <font color="#008000">'esc character'</font>,
                                                                                        <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font><font color="#77dd77">\\</font>.'</font>,
					                                                <font color="#008000">'style'</font>      =&gt; <font color="#008000">'esc character'</font>,
                                                                                        <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                                      <font color="4444FF"><strong>}</strong></font>
                                                                                    <font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>,
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'&lt;files&gt;'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'&lt;.*?&gt;'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>,
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'comment'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'[^/]/<font color="#77dd77">\\</font>*.*?<font color="#77dd77">\\</font>*/'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>,
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'cplus comment'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'//.*?$'</font>,
				                    	        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'character constant'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\'</font>(<font color="#77dd77">\\</font><font color="#77dd77">\\</font>)?.<font color="#77dd77">\'</font>'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'character'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font><font color="#77dd77">\\</font>.'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'esc character'</font>, 
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'numeric constant'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b((0(x|X)[0-9a-fA-F]*)|(([0-9]+<font color="#77dd77">\\</font>.?[0-9]*)|(<font color="#77dd77">\\</font>.[0-9]+))((e|E)(<font color="#77dd77">\\</font>+|-)?[0-9]+)?)(L|l|UL|ul|u|U|F|f)?<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'numeric'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'keyword'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(abs|absorption|acos|acosh|adaptive|adc_bailout|agate|agate_turb|all|alpha|ambient|ambient_light|angle|aperture|append|arc_angle|area_light|array|asc|asin|asinh|assumed_gamma|atan|atan2|atanh|average|background|bezier_spline|bicubic_patch|black_hole|blob|blue|blur_samples|bounded_by|box|boxed|bozo|break|brick|brick_size|brightness|brilliance|bumps|bump_map|bump_size|camera|case|caustics|ceil|checker|chr|clipped_by|clock|clock_delta|color|color_map|colour|colour_map|component|composite|concat|cone|confidence|conic_sweep|control0|control1|cos|cosh|count|crackle|crand|cube|cubic|cubic_spline|cubic_wave|cylinder|cylindrical|debug|declare|default|defined|degrees|density|density_file|density_map|dents|difference|diffuse|dimensions|dimension_size|direction|disc|distance|distance_maximum|div|eccentricity|else|emission|end|error|error_bound|exp|extinction|fade_distance|fade_power|falloff|falloff_angle|false|fclose|file_exists|filter|finish|fisheye|flatness|flip|floor|focal_point|fog|fog_alt|fog_offset|fog_type|fopen|frequency|gif|global_settings|gradient|granite|gray_threshold|green|height_field|hexagon|hf_gray_16|hierarchy|hollow|hypercomplex|if|ifdef|iff|ifndef|image_map|include|int|interior|interpolate|intersection|intervals|inverse|ior|irid|irid_wavelength|jitter|julia_fractal|lambda|lathe|leopard|light_source|linear_spline|linear_sweep|local|location|log|looks_like|look_at|low_error_factor|macro|mandel|map_type|marble|material|material_map|matrix|max|max_intersections|max_iteration|max_trace_level|media|media_attenuation|media_interaction|merge|mesh|metallic|min|minimum_reuse|mod|mortar|nearest_count|no|normal|normal_map|no_shadow|number_of_waves|object|octaves|off|offset|omega|omnimax|on|once|onion|open|orthographic|panoramic|perspective|pgm|phase|phong|phong_size|pi|pigment|pigment_map|planar|plane|png|point_at|poly|polygon|poly_wave|pot|pow|ppm|precision|prism|pwr|quadratic_spline|quadric|quartic|quaternion|quick_color|quick_colour|quilted|radial|radians|radiosity|radius|rainbow|ramp_wave|rand|range|ratio|read|reciprocal|recursion_limit|red|reflection|reflection_exponent|refraction|render|repeat|rgb|rgbf|rgbft|rgbt|right|ripples|rotate|roughness|samples|scale|scallop_wave|scattering|seed|shadowless|sin|sine_wave|sinh|sky|sky_sphere|slice|slope_map|smooth|smooth_triangle|sor|specular|sphere|spherical|spiral1|spiral2|spotlight|spotted|sqr|sqrt|statistics|str|strcmp|strength|strlen|strlwr|strupr|sturm|substr|superellipsoid|switch|sys|t|tan|tanh|text|texture|texture_map|tga|thickness|threshold|tightness|tile2|tiles|torus|track|transform|translate|transmit|triangle|triangle_wave|true|ttf|turbulence|turb_depth|type|u|ultra_wide_angle|undef|union|up|use_color|use_colour|use_index|u_steps|v|val|variance|vaxis_rotate|vcross|vdot|version|vlength|vnormalize|vrotate|v_steps|warning|warp|water_level|waves|while|width|wood|wrinkles|write|x|y|yes|z)<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'reserved word'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'braces'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'[<font color="#77dd77">\\</font>{<font color="#77dd77">\\</font>}]'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'braces'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'symbols'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'([<font color="#77dd77">\\</font>*<font color="#77dd77">\\</font>-<font color="#77dd77">\\</font>+=:;%&amp;<font color="#77dd77">\\</font>|&lt;&gt;<font color="#77dd77">\\</font>(<font color="#77dd77">\\</font>)<font color="#77dd77">\\</font>[<font color="#77dd77">\\</font>]!])'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'symbol'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font> 
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'identifiers'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'([a-zA-Z_][a-zA-Z_0-9]*)'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'identifier'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>
                                            <font color="4444FF"><strong>]</strong></font>
                            <font color="4444FF"><strong>}</strong></font>;
<font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'povray'</font><font color="4444FF"><strong>}</strong></font>     = <font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'pov'</font><font color="4444FF"><strong>}</strong></font>;
   



<font color="#444444"># by Tom Good 
</font><font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'python'</font><font color="4444FF"><strong>}</strong></font>        = <font color="4444FF"><strong>{</strong></font>
                            <font color="#008000">'filename'</font>   =&gt; <font color="#008000">'(?i)<font color="#77dd77">\\</font>.py$'</font>,
                            <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'^<font color="#77dd77">\\</font>s*#<font color="#77dd77">\\</font>s*![^<font color="#77dd77">\\</font>s]*python'</font>,
                            <font color="#008000">'patterns'</font>   =&gt; <font color="4444FF"><strong>[</strong></font>
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'python comment'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'#.*?$'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
					      <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'single quote string'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\'</font>.*?<font color="#77dd77">\'</font>'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                                            
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'&quot;&quot;|&quot;<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>&quot;|&quot;.*?([^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)&quot;'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'&quot;&quot;|&quot;.*?([^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)&quot;|&quot;<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>&quot;'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'&quot;&quot;|&quot;<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>&quot;|&quot;[^&quot;<font color="#77dd77">\\</font><font color="#77dd77">\\</font>]&quot;|&quot;[^&quot;].*?[^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>]&quot;'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font><font color="#77dd77">\\</font>.'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'character constant'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\'</font>(<font color="#77dd77">\\</font><font color="#77dd77">\\</font>)?.<font color="#77dd77">\'</font>'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'character'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font><font color="#77dd77">\\</font>.'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'numeric constant'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b((0(x|X)[0-9a-fA-F]*)|(([0-9]+<font color="#77dd77">\\</font>.?[0-9]*)|(<font color="#77dd77">\\</font>.[0-9]+))((e|E)(<font color="#77dd77">\\</font>+|-)?[0-9]+)?)(L|l|UL|ul|u|U|F|f)?<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'numeric'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'keyword'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(and|assert|break|class|continue|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|not|or|pass|print|raise|return|try|while)<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'reserved word'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'braces'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'[<font color="#77dd77">\\</font>{<font color="#77dd77">\\</font>}]'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'braces'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'symbols'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'([<font color="#77dd77">\\</font>*<font color="#77dd77">\\</font>-<font color="#77dd77">\\</font>+=:;%&amp;<font color="#77dd77">\\</font>|&lt;&gt;<font color="#77dd77">\\</font>(<font color="#77dd77">\\</font>)<font color="#77dd77">\\</font>[<font color="#77dd77">\\</font>]!])'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'symbol'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'identifiers'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'([a-zA-Z_][a-zA-Z_0-9]*)'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'identifier'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'function'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'[<font color="#77dd77">\\</font>t ]*def[<font color="#77dd77">\\</font>t ]+([a-zA-Z0-9_]+)[<font color="#77dd77">\\</font>t <font color="#77dd77">\\</font>(]+.*?[<font color="#77dd77">\\</font>n{]'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'function header'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'function args'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>(.*?<font color="#77dd77">\\</font>)'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'function header args'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>,
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'function name'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'[<font color="#77dd77">\\</font>t ][a-zA-Z0-9_]+'</font>,
					                            <font color="#008000">'style'</font>      =&gt; <font color="#008000">'function header name'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,  
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'library functions'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(__import__|abs|apply|buffer|callable|chr|cmp|coerce|compile|complex|delatter|dir|divmod|eval|execfile|filter|float|getattr|globals|hasattr|hash|hex|id|input|int|intern|isinstance|issubclass|len|list|locals|long|map|max|min|oct|open|ord|pow|range|raw_input|reduce|reload|repr|round|setattr|slice|str|tuple|type|unichr|unicode|vars|xrange|zip)<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'library function'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                            <font color="4444FF"><strong>]</strong></font>
                          <font color="4444FF"><strong>}</strong></font>;

 

<font color="#444444"># by Joshua Swink &lt;jswink@pacbell.net&gt;
</font><font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'ruby'</font><font color="4444FF"><strong>}</strong></font>       = <font color="4444FF"><strong>{</strong></font>
                            <font color="#008000">'filename'</font>   =&gt; <font color="#008000">'<font color="#77dd77">\\</font>.rb$'</font>,
                            <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'^<font color="#77dd77">\\</font>s*#<font color="#77dd77">\\</font>s*![^<font color="#77dd77">\\</font>s]*<font color="#77dd77">\\</font>bruby<font color="#77dd77">\\</font>b'</font>,
                            <font color="#008000">'patterns'</font>   =&gt; <font color="4444FF"><strong>[</strong></font>
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'(?:#.*?(?:<font color="#77dd77">\r</font>?<font color="#77dd77">\n</font><font color="#77dd77">\s</font>*)+)+'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'predefined variables'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'(?:<font color="#77dd77">\\</font>$(?:[!@&amp;`<font color="#77dd77">\'</font>+<font color="#77dd77">\\</font>d~=/<font color="#77dd77">\\</font><font color="#77dd77">\\</font>,;.&lt;&gt;_*<font color="#77dd77">\\</font>$?:&quot;]|DEBUG|FILENAME|LOAD_PATH|stdin|stdout|stderr|VERBOSE|-[0adFiIlpv])|<font color="#77dd77">\\</font>b(?:TRUE|FALSE|NIL|STDIN|STDOUT|STDERR|ENV|ARGF|ARGV|DATA|RUBY_VERSION|RUBY_RELEASE_DATE|RUBY_PLATFORM)<font color="#77dd77">\\</font>b)'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'predefined identifier'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'variables'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'[<font color="#77dd77">\\</font>$@](?:{[^}]*}|[^<font color="#77dd77">\\</font>w/<font color="#77dd77">\\</font>t<font color="#77dd77">\\</font>n<font color="#77dd77">\\</font>.,<font color="#77dd77">\\</font><font color="#77dd77">\\</font>[<font color="#77dd77">\\</font><font color="#77dd77">\\</font>{<font color="#77dd77">\\</font><font color="#77dd77">\\</font>(]|[0-9]+|[a-zA-Z_][<font color="#77dd77">\\</font>w.]*)?'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'identifier'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'&quot;&quot; string'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'&quot;&quot;|&quot;(?:<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)+&quot;|&quot;.*?(?:[^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](?:<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)&quot;|%[Qwx]?([^<font color="#77dd77">\\</font>w<font color="#77dd77">\\</font>[<font color="#77dd77">\\</font>](){}&lt;&gt;])<font color="#77dd77">\\</font>2|%[Qwx]?([^<font color="#77dd77">\\</font>w<font color="#77dd77">\\</font>[<font color="#77dd77">\\</font>](){}&lt;&gt;]).*?(?:[^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](?:<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)<font color="#77dd77">\\</font>3|%[Qwx]?([^<font color="#77dd77">\\</font>w<font color="#77dd77">\\</font>[<font color="#77dd77">\\</font>](){}&lt;&gt;])<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>4|%[Qwx]?<font color="#77dd77">\\</font>[<font color="#77dd77">\\</font>]|%[Qwx]?<font color="#77dd77">\\</font>[.*?([^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)<font color="#77dd77">\\</font>]|%[Qwx]?<font color="#77dd77">\\</font>[<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>]|%[Qwx]?<font color="#77dd77">\\</font>{<font color="#77dd77">\\</font>}|%[Qwx]?<font color="#77dd77">\\</font>{.*?([^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)<font color="#77dd77">\\</font>}|%[Qwx]?<font color="#77dd77">\\</font>{<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>}|%[Qwx]?<font color="#77dd77">\\</font>(<font color="#77dd77">\\</font>)|%[Qwx]?<font color="#77dd77">\\</font>(.*?([^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)<font color="#77dd77">\\</font>)|%[Qwx]?<font color="#77dd77">\\</font>(<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)|%[Qwx]?&lt;&gt;|%[Qwx]?&lt;.*?([^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)&gt;|%[Qwx]?&lt;<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>&gt;'</font>,

					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'regex'</font>,     =&gt; <font color="#008000">'<font color="#77dd77">\\</font><font color="#77dd77">\\</font>(?:x[<font color="#77dd77">\\</font>da-fA-F]{2}|<font color="#77dd77">\d</font><font color="#77dd77">\d</font><font color="#77dd77">\d</font>|c.|M-<font color="#77dd77">\\</font><font color="#77dd77">\\</font>C-.|M-.|C-.|.)'</font>,
								    <font color="#008000">'style'</font>      =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>,
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'string expression'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'#[<font color="#77dd77">\\</font>$<font color="#77dd77">\\</font>@][a-zA-Z_][<font color="#77dd77">\\</font>w.]*|#<font color="#77dd77">\\</font>{[<font color="#77dd77">\\</font>$<font color="#77dd77">\\</font>@]?[^<font color="#77dd77">\\</font>}]*<font color="#77dd77">\\</font>}'</font>,
								    <font color="#008000">'style'</font>      =&gt; <font color="#008000">'identifier'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'<font color="#77dd77">\'</font><font color="#77dd77">\'</font> string'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\'</font><font color="#77dd77">\'</font>|<font color="#77dd77">\'</font>(?:<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)+<font color="#77dd77">\'</font>|<font color="#77dd77">\'</font>.*?(?:[^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](?:<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)<font color="#77dd77">\'</font>|%q([^<font color="#77dd77">\\</font>w<font color="#77dd77">\\</font>[<font color="#77dd77">\\</font>](){}&lt;&gt;])<font color="#77dd77">\\</font>2|%q([^<font color="#77dd77">\\</font>w<font color="#77dd77">\\</font>[<font color="#77dd77">\\</font>](){}&lt;&gt;]).*?(?:[^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](?:<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)<font color="#77dd77">\\</font>3|%q([^<font color="#77dd77">\\</font>w<font color="#77dd77">\\</font>[<font color="#77dd77">\\</font>](){}&lt;&gt;])<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>4|%q<font color="#77dd77">\\</font>[<font color="#77dd77">\\</font>]|%q<font color="#77dd77">\\</font>[.*?([^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)<font color="#77dd77">\\</font>]|%q<font color="#77dd77">\\</font>[<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>]|%q<font color="#77dd77">\\</font>{<font color="#77dd77">\\</font>}|%q<font color="#77dd77">\\</font>{.*?([^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)<font color="#77dd77">\\</font>}|%q<font color="#77dd77">\\</font>{<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>}|%q<font color="#77dd77">\\</font>(<font color="#77dd77">\\</font>)|%q<font color="#77dd77">\\</font>(.*?([^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)<font color="#77dd77">\\</font>)|%q<font color="#77dd77">\\</font>(<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)|%q&lt;&gt;|%q&lt;.*?([^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)&gt;|%q&lt;<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>&gt;'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'(?:<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\'</font>|<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)'</font>,
								    <font color="#008000">'style'</font>      =&gt; <font color="#008000">'esc character'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'subroutine header'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'def[<font color="#77dd77">\\</font>t ]+<font color="#77dd77">\\</font>w[<font color="#77dd77">\\</font>w.]*(?:<font color="#77dd77">\\</font>([^)]*<font color="#77dd77">\\</font>))?'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'function header'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'arg list'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>(.*<font color="#77dd77">\\</font>)'</font>,
                                                                    <font color="#008000">'style'</font>      =&gt; <font color="#008000">'function header args'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                         <font color="4444FF"><strong>{</strong></font>
                                                                         <font color="#008000">'name'</font> =&gt; <font color="#008000">'arg list parens'</font>,
                                                                         <font color="#008000">'regex'</font> =&gt; <font color="#008000">'[<font color="#77dd77">\\</font>(<font color="#77dd77">\\</font>)]'</font>,
                                                                         <font color="#008000">'style'</font> =&gt; <font color="#008000">'symbol'</font>,
                                                                         <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                         <font color="4444FF"><strong>}</strong></font>
                                                                                    <font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>,
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'subroutine header'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'[<font color="#77dd77">\\</font>t ]<font color="#77dd77">\w</font>+'</font>,
								    <font color="#008000">'style'</font>      =&gt; <font color="#008000">'function header name'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'class header'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'class[<font color="#77dd77">\\</font>t ]+<font color="#77dd77">\\</font>w+(?:<font color="#77dd77">\\</font>s*&lt;<font color="#77dd77">\\</font>s*<font color="#77dd77">\\</font>w+)?'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'function header'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'class ancestor'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'&lt;<font color="#77dd77">\\</font>s*<font color="#77dd77">\\</font>w+'</font>,
                                                                    <font color="#008000">'style'</font>      =&gt; <font color="#008000">'include'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                             <font color="4444FF"><strong>{</strong></font>
                                                                             <font color="#008000">'name'</font> =&gt; <font color="#008000">'inheritance doohickey'</font>,
                                                                             <font color="#008000">'regex'</font> =&gt; <font color="#008000">'&lt;'</font>,
                                                                             <font color="#008000">'style'</font> =&gt; <font color="#008000">'symbol'</font>,
                                                                             <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                             <font color="4444FF"><strong>}</strong></font>
                                                                                    <font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>,
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'class main'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'[<font color="#77dd77">\\</font>t ]<font color="#77dd77">\\</font>w+'</font>,
								    <font color="#008000">'style'</font>      =&gt; <font color="#008000">'type'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'regex matching 0'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'(?:%r([^<font color="#77dd77">\\</font>w<font color="#77dd77">\\</font>[<font color="#77dd77">\\</font>](){}&lt;&gt;])<font color="#77dd77">\\</font>2|%r([^<font color="#77dd77">\\</font>w<font color="#77dd77">\\</font>[<font color="#77dd77">\\</font>](){}&lt;&gt;]).*?(?:[^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](?:<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)<font color="#77dd77">\\</font>3|%r([^<font color="#77dd77">\\</font>w<font color="#77dd77">\\</font>[<font color="#77dd77">\\</font>](){}&lt;&gt;])<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>4|%r<font color="#77dd77">\\</font>[<font color="#77dd77">\\</font>]|%r<font color="#77dd77">\\</font>[.*?([^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)<font color="#77dd77">\\</font>]|%r<font color="#77dd77">\\</font>[<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>]|%r<font color="#77dd77">\\</font>{<font color="#77dd77">\\</font>}|%r<font color="#77dd77">\\</font>{.*?([^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)<font color="#77dd77">\\</font>}|%r<font color="#77dd77">\\</font>{<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>}|%r<font color="#77dd77">\\</font>(<font color="#77dd77">\\</font>)|%r<font color="#77dd77">\\</font>(.*?([^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)<font color="#77dd77">\\</font>)|%r<font color="#77dd77">\\</font>(<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)|%r&lt;&gt;|%r&lt;.*?([^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)&gt;|%r&lt;<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>&gt;)[ixpno]*'</font>,
                                                <font color="#008000">'style'</font>      =&gt; <font color="#008000">'regex'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'string expression'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'#[<font color="#77dd77">\\</font>$<font color="#77dd77">\\</font>@][a-zA-Z_][<font color="#77dd77">\\</font>w.]*|#<font color="#77dd77">\\</font>{[<font color="#77dd77">\\</font>$<font color="#77dd77">\\</font>@]?[a-zA-Z_][^<font color="#77dd77">\\</font>}]*<font color="#77dd77">\\</font>}'</font>,
								    <font color="#008000">'style'</font>      =&gt; <font color="#008000">'identifier'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'regex matching I'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'(?:<font color="#77dd77">\\</font>b| )?(?:/(?:<font color="#77dd77">\\</font><font color="#77dd77">\\</font>/|[^/<font color="#77dd77">\\</font>n])*(?:/[ixpno]*))'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'regex'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font>
                                                                  <font color="4444FF"><strong>{</strong></font>
                                                                    <font color="#008000">'name'</font>       =&gt; <font color="#008000">'string expression'</font>,
                                                                    <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'#[<font color="#77dd77">\\</font>$<font color="#77dd77">\\</font>@][a-zA-Z_][<font color="#77dd77">\\</font>w.]*|#<font color="#77dd77">\\</font>{[<font color="#77dd77">\\</font>$<font color="#77dd77">\\</font>@]?[a-zA-Z_][^<font color="#77dd77">\\</font>}]*<font color="#77dd77">\\</font>}'</font>,
								    <font color="#008000">'style'</font>      =&gt; <font color="#008000">'identifier'</font>,
                                                                    <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                                                  <font color="4444FF"><strong>}</strong></font>
                                                                <font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'reserved words'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(BEGIN|class|ensure|nil|self|when|END|def|false|not|super|while|alias|defined|for|or|then|yield|and|do|if|redo|true|begin|else|in|rescue|undef|break|elsif|module|retry|unless|case|end|next|return|until)<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'reserved word'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'kernel module methods'</font>,
                                                <font color="#008000">'regex'</font>,     =&gt; <font color="#008000">'<font color="#77dd77">\\</font>b(Array|Float|Integer|String|at_exit|autoload|binding|caller|catch|chop|chomp|chomp!|eval|exec|exit|fail|fork|format|gets|global_variables|gsub|iterator|lambda|load|local_variables|loop|open|p|print|printf|proc|putc|puts|raise|rand|readline|readlines|require|select|sleep|split|sprintf|srand|sub|syscall|system|test|trace_var|trap|untrace_var)<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'library function'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'braces, parens and brakets'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'[<font color="#77dd77">\\</font>[<font color="#77dd77">\\</font>]<font color="#77dd77">\\</font>{<font color="#77dd77">\\</font>}<font color="#77dd77">\\</font>(<font color="#77dd77">\\</font>)]'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'braces'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'&lt;&lt; stuff'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'&lt;&lt;(?:(&quot;|<font color="#77dd77">\'</font>)([^<font color="#77dd77">\\</font>n]*)<font color="#77dd77">\\</font>2|<font color="#77dd77">\\</font>w*).*?^<font color="#77dd77">\\</font>3$'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'text'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'symbols'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'(?:[:*-+&lt;&gt;=^!,/]+|<font color="#77dd77">\.</font><font color="#77dd77">\.</font>+)'</font>,
                                                <font color="#008000">'style'</font>      =&gt; <font color="#008000">'symbol'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'numbers'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\d</font>[<font color="#77dd77">\d</font>.]*'</font>,
                                                <font color="#008000">'style'</font>      =&gt; <font color="#008000">'numeric'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'embedded documentation'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'^=.*?^(?:=end|<font color="#77dd77">\\</font>Z)'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'doc comment'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>
                                            <font color="4444FF"><strong>]</strong></font>
                          <font color="4444FF"><strong>}</strong></font>;
 
<font color="#444444"># taken from nedit
# modified by PP
# very inclomplete!
</font><font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'sql'</font><font color="4444FF"><strong>}</strong></font>        = <font color="4444FF"><strong>{</strong></font>
                            <font color="#008000">'filename'</font>   =&gt; <font color="#008000">'(?i)<font color="#77dd77">\\</font>.sql$'</font>,
                            <font color="#008000">'regex'</font>      =&gt; <font color="#008000">''</font>,
                            <font color="#008000">'patterns'</font>   =&gt; <font color="4444FF"><strong>[</strong></font>
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'keywords I'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'(?i)(,|%|&lt;|&gt;|:=|=|<font color="#77dd77">\\</font>(|<font color="#77dd77">\\</font>)|<font color="#77dd77">\\</font>bselect|on|from|order by|desc|where|and|or|not|null|true|false)<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'reserved word'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'comment I'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'--.*?$'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'comment II'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'/<font color="#77dd77">\\</font>*.*?<font color="#77dd77">\\</font>*/'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'comment'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'<font color="#77dd77">\'</font><font color="#77dd77">\'</font>|<font color="#77dd77">\'</font>.*?([^<font color="#77dd77">\\</font><font color="#77dd77">\\</font>](<font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font>)*)<font color="#77dd77">\'</font>|<font color="#77dd77">\'</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\\</font><font color="#77dd77">\'</font>'</font>,
<font color="#444444">#                                                'regex'      =&gt; '(\'\'|\'[^\'\\\\]\'|\'[^\'].*?[^\\\\]\')',
					        </font><font color="#008000">'style'</font>      =&gt; <font color="#008000">'string'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'keywords II'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'(?i)end if;|<font color="#77dd77">\\</font>b(create|replace|begin|end|function|return|fetch|open|close|into|is|in|when|others|grant|on|to|exception|show|set|out|pragma|as|package)<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'reserved word'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'keywords III'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'(?i)<font color="#77dd77">\\</font>balter<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'reserved word'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'datatypes'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'(?i)<font color="#77dd77">\\</font>b(integer|blol|date|numeric|character|varying|varchar|char)<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'predefined type'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'words'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'(?i)<font color="#77dd77">\\</font>b(constraint|key|references|primary|table|foreign|add|insert|group by)<font color="#77dd77">\\</font>b'</font>,
					        <font color="#008000">'style'</font>      =&gt; <font color="#008000">'reserved word'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>
                                            <font color="4444FF"><strong>]</strong></font>
                            <font color="4444FF"><strong>}</strong></font>;
   
 

<font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'patch'</font><font color="4444FF"><strong>}</strong></font>        = <font color="4444FF"><strong>{</strong></font>
                            <font color="#008000">'filename'</font>   =&gt; <font color="#008000">'(?i)<font color="#77dd77">\\</font>.patch$|<font color="#77dd77">\\</font>.diff$'</font>,
                            <font color="#008000">'regex'</font>      =&gt; <font color="#008000">''</font>,
                            <font color="#008000">'patterns'</font>   =&gt; <font color="4444FF"><strong>[</strong></font>
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'header'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'^Index: .*?$|^===== .*?$|^diff .*?$|^--- .*?$|^<font color="#77dd77">\+</font><font color="#77dd77">\+</font><font color="#77dd77">\+</font> .*?$'</font>,
                                                <font color="#008000">'style'</font>      =&gt; <font color="#008000">'separator'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'hunk'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'^@@ .*?$'</font>,
                                                <font color="#008000">'style'</font>      =&gt; <font color="#008000">'line spec'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'from'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'^-.*?$'</font>,
                                                <font color="#008000">'style'</font>      =&gt; <font color="#008000">'deletion'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>,
                                              <font color="4444FF"><strong>{</strong></font>
                                                <font color="#008000">'name'</font>       =&gt; <font color="#008000">'to'</font>,
                                                <font color="#008000">'regex'</font>      =&gt; <font color="#008000">'^<font color="#77dd77">\+</font>.*?$'</font>,
                                                <font color="#008000">'style'</font>      =&gt; <font color="#008000">'insertion'</font>,
                                                <font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
                                              <font color="4444FF"><strong>}</strong></font>
                                            <font color="4444FF"><strong>]</strong></font>
                            <font color="4444FF"><strong>}</strong></font>;



<font color="#444444">#####
#
# LANGUAGE: shell script
#

</font><font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'shellscript'</font><font color="4444FF"><strong>}</strong></font> = <font color="4444FF"><strong>{</strong></font>
	<font color="#008000">'filename'</font> =&gt; <font color="#008000">'<font color="#77dd77">\\</font>.(sh|shell)$'</font>,
	<font color="#008000">'regex'</font> =&gt; <font color="#008000">'^<font color="#77dd77">\\</font>s*#<font color="#77dd77">\\</font>s*![^<font color="#77dd77">\\</font>s]*(sh|bash|ash|zsh|ksh)'</font>,
	<font color="#008000">'patterns'</font> =&gt; <font color="4444FF"><strong>[</strong></font> <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'name'</font> =&gt; <font color="#008000">'comment'</font>,
<font color="#444444">#		'regex' =&gt; '^[ \t]*[^$]?\#[^!]?.*?$',
		</font><font color="#008000">'regex'</font> =&gt; <font color="#008000">'(^| )#([^<font color="#77dd77">\\</font>!].)*?$'</font>,
		<font color="#008000">'style'</font> =&gt; <font color="#008000">'comment'</font>,
		<font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
	<font color="4444FF"><strong>}</strong></font>, <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'name'</font> =&gt; <font color="#008000">'identifier'</font>,
		<font color="#008000">'regex'</font> =&gt; <font color="#008000">'[a-zA-Z][a-zA-Z0-9_]*='</font>,
		<font color="#008000">'style'</font> =&gt; <font color="#008000">''</font>,
		<font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font> <font color="4444FF"><strong>{</strong></font>
			<font color="#008000">'name'</font> =&gt; <font color="#008000">'identifier'</font>,
			<font color="#008000">'regex'</font> =&gt; <font color="#008000">'[a-zA-Z][a-zA-Z0-9_]*'</font>,
			<font color="#008000">'style'</font> =&gt; <font color="#008000">'identifier'</font>,
			<font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
		<font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>]</strong></font>
	<font color="4444FF"><strong>}</strong></font>, <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'name'</font> =&gt; <font color="#008000">'identifier'</font>,
		<font color="#008000">'regex'</font> =&gt; <font color="#008000">'<font color="#77dd77">\\</font>$([0-9#<font color="#77dd77">\\</font>*]|[a-zA-Z][a-zA-Z0-9_]*)'</font>,
		<font color="#008000">'style'</font> =&gt; <font color="#008000">'identifier'</font>,
		<font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
	<font color="4444FF"><strong>}</strong></font>, <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'name'</font> =&gt; <font color="#008000">'interpreter line'</font>,
		<font color="#008000">'regex'</font> =&gt; <font color="#008000">'^[ <font color="#77dd77">\t</font>]*#!.*?$'</font>,
		<font color="#008000">'style'</font> =&gt; <font color="#008000">'preprocessor'</font>,
		childregex =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
	<font color="4444FF"><strong>}</strong></font>, <font color="4444FF"><strong>{</strong></font>
		<font color="#008000">'name'</font> =&gt; <font color="#008000">'string'</font>,
		<font color="#008000">'regex'</font> =&gt; <font color="#008000">'&quot;&quot;|&quot;(<font color="#77dd77">\\</font><font color="#77dd77">\\</font>&quot;|[^<font color="#77dd77">\\</font>&quot;])*&quot;'</font>,
		<font color="#008000">'style'</font> =&gt; <font color="#008000">'string'</font>,
		childregex =&gt; <font color="4444FF"><strong>[</strong></font> <font color="4444FF"><strong>{</strong></font>
			<font color="#008000">'name'</font> =&gt; <font color="#008000">'identifier'</font>,
			<font color="#008000">'regex'</font> =&gt; <font color="#008000">'<font color="#77dd77">\\</font>$([0-9#<font color="#77dd77">\\</font>*]|[a-zA-Z][a-zA-Z0-9_]*)'</font>,
			<font color="#008000">'style'</font> =&gt; <font color="#008000">'identifier'</font>,
			<font color="#008000">'childregex'</font> =&gt; <font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font>
		<font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>]</strong></font>
	<font color="4444FF"><strong>}</strong></font> <font color="4444FF"><strong>]</strong></font>
<font color="4444FF"><strong>}</strong></font>;

<font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'sh'</font><font color="4444FF"><strong>}</strong></font> = <font color="#2040a0">$LANGUAGE</font><font color="4444FF"><strong>{</strong></font><font color="#008000">'shellscript'</font><font color="4444FF"><strong>}</strong></font>;
<strong>return</strong> \<font color="#2040a0">%LANGUAGE</font>;

<font color="4444FF"><strong>}</strong></font>;

</pre>
<hr>
syntax highlighted by <a href="http://www.palfrader.org/code2html">Code2HTML</a>, v. 0.9.1
</body>
</html>
