=head1 NAME

Net::Twitter - A perl interface to the Twitter API

=head1 VERSION

This document describes Net::Twitter version 3.14002

=head1 SYNOPSIS

  use Net::Twitter;
  use Scalar::Util 'blessed';

  # When no authentication is required:
  my $nt = Net::Twitter->new(legacy => 0);

  # As of 13-Aug-2010, Twitter requires OAuth for authenticated requests
  my $nt = Net::Twitter->new(
      traits   => [qw/OAuth API::REST/],
      consumer_key        => $consumer_key,
      consumer_secret     => $consumer_secret,
      access_token        => $token,
      access_token_secret => $token_secret,
  );

  my $result = $nt->update('Hello, world!');

  eval {
      my $statuses = $nt->friends_timeline({ since_id => $high_water, count => 100 });
      for my $status ( @$statuses ) {
          print "$status->{created_at} <$status->{user}{screen_name}> $status->{text}\n";
      }
  };
  if ( my $err = $@ ) {
      die $@ unless blessed $err && $err->isa('Net::Twitter::Error');

      warn "HTTP Response Code: ", $err->code, "\n",
           "HTTP Message......: ", $err->message, "\n",
           "Twitter error.....: ", $err->error, "\n";
  }


=head1 DESCRIPTION

This module provides a perl interface to the Twitter APIs.  See
L<http://dev.twitter.com/doc> for a full description of the Twitter APIs.

=head1 NOTICE! BASIC AUTHENTICATION IS DEAD

As of 31-Aug-2010, Twitter no longer supports Basic Authentication.  OAuth is
now required for authenticated requests.  For more information, please see
L<http://github.com/semifor/Net-Twitter/wiki/Net::Twitter-and-the-death-of-Basic-Authentication>.

Other Twitter compatible services may still accept Basic Authentication, so
support for it remains in C<Net::Twitter>.

=head1 OMG! THE MOOSE!

Net::Twitter is L<Moose> based. Moose provides some advantages, including the
ability for the maintainer of this module to respond quickly to Twitter API
changes.

See L<Net::Twitter::Lite> if you need an alternative without Moose and its
dependencies.

Net::Twitter::Lite's API method definitions and documentation are generated
from Net::Twitter.  It is a related module, but does not depend on
Net::Twitter or Moose for installation.

=head1 RETURN VALUES

Net::Twitter decodes the data structures returned by the Twitter API into
native perl data structures (HASH references and ARRAY references).  The full
layout of those data structures are not documented, here.  They change often,
usually with the addition of new elements, and documenting all of those
changes would be a significant challenge.

Instead, rely on the online Twitter API documentation and inspection of the
returned data.

The Twitter API online documentation is located at
L<http://dev.twitter.com/doc>.

To inspect the data, use L<Data::Dumper> or similar module of your choice.
Here's a simple example using Data::Dumper:

    use Data::Dumper;

    my $r = $nt->search($search_term);
    print Dumper $r;

For more information on perl data structures, see L<perlreftut>, L<perldsc>,
and L<perllol>.

=head1 METHODS AND ARGUMENTS

=over 4

=item new

This constructs a C<Net::Twitter> object.  It takes several named parameters,
all of them optional:

=over 4

=item traits

An ARRAY ref of traits used to control which APIs the constructed
C<Net::Twitter> object will support and how it handles errors.  Possible
values are:

=over 4

=item API::REST

Provides support for the Twitter REST API methods.

=item API::Search

Provides support for the Twitter Search API methods.

=item API::TwitterVision

Provides support for the TwitterVision API.  See
L<http://twittervision.com/api.html>.

=item WrapError

C<Net::Twitter> normally throws exceptions on error.  When this trait is
included, C<Net::Twitter> returns undef when a method fails and makes the
error available through method C<get_error>.  This is the way all errors were
handled in Net::Twitter versions prior to version 3.00.

=item OAuth

The C<OAuth> trait provides OAuth authentication rather than the default Basic
Authentication for Twitter API method calls.  See the L</Authentication>
section and L<Net::Twitter::Role::OAuth> for full documentation.

=item InflateObjects

When this optional trait is included, Net::Twitter inflates HASH refs returned
by Twitter into objects with read accessors for each element.  In addition, it
inflates dates to L<DateTime> objects and URLs to L<URI> objects.  Objects that
include a C<created_at> attribute also have a C<relative_created_at> method.

For example, with C<InflateObjects> applied, the <friends_timeline> method
returns an array of status objects:

    $r = $nt->friends_timeline;
    for my $status ( @$r ) {
        $r->user->screen_name; # same as $r->{user}{screen_name}

        # $created_at is a DateTime; $age is a DateTime::Duration
        my $age = DateTime->now - $r->created_at;

        # print an age in a similar style to the Twitter web site, e.g.:
        # less than a minute ago
        # about a minute ago
        # 6 minutes ago
        # 1 day ago
        # etc.
        print $r->relative_created_at;

=item RateLimit

The C<RateLimit> trait adds utility methods that return information about the
current rate limit status.  See L<Net::Twitter::Role::RateLimit> for details.

=item Legacy

This trait provides backwards compatibility to C<Net::Twitter> versions prior
to 3.00.  It implies the traits C<API::REST>, C<API::Search>,
C<API::TwitterVision>, and C<API::WrapError>.  It also provides additional
functionality to ensure consistent behavior for applications written for use
with legacy versions of C<Net::Twitter>.

In the current version, this trait is automatically included if the C<traits>
option is not specified. This ensures backwards compatibility for existing
applications using C<Net::Twitter> versions prior to 3.00.  See section
L</LEGACY COMPATIBILITY> for more details.

=back

Some examples of using the C<traits> parameter in C<new>:

    # provide support for *only* the REST API; throw exceptions on error
    $nt = Net::Twitter->new(traits => ['API::REST']);

    # provide support for both the REST and Search APIs; wrap errors
    $nt = Net::Twitter->new(traits => [qw/API::REST API::Search WrapError/]);

    # ensure full legacy support
    $nt = Net::Twitter->new(traits => ['Legacy']);

    # currently, these 2 calls to new are equivalent:
    $nt = Net::Twitter->new();
    $nt = Net::Twitter->new(traits => ['Legacy']);

=item legacy

A boolean.  If set to 0, C<new> constructs a C<Net::Twitter> object
implementing the REST API and throws exceptions on API method errors.

    Net::Twitter->new(legacy => 0);

is a shortcut for:

    Net::Twitter->new(traits => ['API::REST']);

If set to 1, C<new> constructs a C<Net::Twitter> object with the C<Legacy> trait.

    Net::Twitter->new(legacy => 1);

is a shortcut for:

    Net::Twitter->new(traits => ['Legacy']);

=item username

This is the username for Basic Authentication. NOTE: as of 31-Aug-2010,
Twitter no longer supports Basic Authentication. Use OAuth instead.  Other
Twitter compatible services may, however, accept Basic Authentication, so
support for it remains in C<Net::Twitter>.

=item password

This is the password used for Basic Authentication.

=item clientname

The value for the C<X-Twitter-Client-Name> HTTP header. It defaults to "Perl
Net::Twitter".  Note: This option has nothing to do with the "via" application
byline.

=item clientver

The value for the C<X-Twitter-Client-Version> HTTP header. It defaults to
current version of the C<Net::Twitter> module.

=item clienturl

The value for the C<X-Twitter-Client-URL> HTTP header. It defaults to the
search.cpan.org page for the C<Net::Twitter> distribution.

=item useragent_class

The C<LWP::UserAgent> compatible class used internally by C<Net::Twitter>.  It
defaults to "LWP::UserAgent".  For L<POE> based applications, consider using
"LWP::UserAgent::POE".

=item useragent_args

An HASH ref of arguments to pass to constructor of the class specified with
C<useragent_class>, above.  It defaults to {} (an empty HASH ref).

=item useragent

The value for C<User-Agent> HTTP header.  It defaults to
"Net::Twitter/$VERSION (Perl)", where C<$VERSION> is the current version of
C<Net::Twitter>.

=item source

Twitter on longer uses the C<source> parameter. Support for it remains in
C<Net::Twitter> for any compatible services that may use it.  It was
originally used by Twitter to provide an "via" application byline.

=item apiurl

The URL for the Twitter API. This defaults to "http://api.twitter.com/1". This
option is available when the C<API::REST> trait is included.

=item apihost

DEPRECATED - Setting the C<apiurl> is sufficient.

=item apirealm

A string containing the Twitter API realm used for Basic Authentication. It
defaults to "Twitter API".  This option is available when the C<API::REST>
trait is included.

=item identica

If set to 1, C<Net::Twitter> overrides the defaults for C<apiurl>, C<apihost>,
and C<apirealm> to "http://identi.ca/api", "identi.ca:80", and "Laconica API"
respectively.  It defaults to 0.  This option is available when the
C<API::REST> trait is included.

=item consumer_key

A string containing the OAuth consumer key provided by Twitter when an application
is registered.  This option is available when the C<OAuth> trait is included.

=item consumer_secret

A string containing the OAuth consumer secret.  This option is available when
the C<OAuth> trait is included.

=item ssl

If set to 1, an SSL connection will be used for all API calls. Defaults to 0.

=item netrc

(Optional) Sets the I<machine> key to look up in C<.netrc> to obtain
credentials. If set to 1, Net::Twitter will use the value of the C<netrc_machine>
option (below).

   # in .netrc
   machine api.twitter.com
     login YOUR_TWITTER_USER_NAME
     password YOUR_TWITTER_PASSWORD
   machine semifor.twitter.com
     login semifor
     password SUPERSECRET

   # in your perl program
   $nt = Net::Twitter->new(netrc => 1);
   $nt = Net::Twitter->new(netrc => 'semifor.twitter.com');

=item netrc_machine

(Optional) Sets the C<machine> entry to look up in C<.netrc> when C<<netrc => 1>>
is used.  Defaults to C<api.twitter.com>.

=item decode_html_entities

Twitter encodes HTML entities in the C<text> field of statuses.  Set this
option to 1 to have them automatically decoded.  Default 0.

=back

=item credentials($username, $password)

Set the credentials for Basic Authentication.  This is helpful for managing
multiple accounts.

=item ua

Provides access to the constructed user agent object used internally by
C<Net::Twitter>.  Use it with caution.

=back

=head1 AUTHENTICATION

As of 31-Aug-2010, Twitter requires OAuth for authenticated requests.  Other
Twitter compatible services, like Identi.ca, accept Basic Authentication.  So,
C<Net::Twitter> provides support for both.

To set up OAuth, include the C<OAuth> trait and include the C<consumer_key> and
C<consumer_secret> options to L</new>.  See L<Net::Twitter::Role::OAuth> for
more information on using OAuth, including examples.

To set up Basic Authentication in C<Net::Twitter>, provide the C<username> and
C<password> options to L</new> or call the L</credentials> method.

In addition to the arguments specified for each API method described below, an
additional C<authenticate> parameter can be passed.  To request an
C<Authorization> header, pass C<< authenticated => 1 >>; to suppress an
authentication header, pass C<< authentication => 0 >>.  Even if requested, an
Authorization header will not be added if there are no user credentials
(username and password for Basic Authentication; access tokens for OAuth).

This is probably only useful for the L</rate_limit_status> method in the REST
API, since it returns different values for an authenticated and a
non-authenticated call.

=head1 API METHODS AND ARGUMENTS

Most Twitter API methods take parameters.  All Net::Twitter API methods will
accept a HASH ref of named parameters as specified in the Twitter API
documentation.  For convenience, many Net::Twitter methods accept simple
positional arguments.  The positional parameter passing style is optional; you
can always use the named parameters in a HASH reference if you prefer.

You may pass any number of required parameters as positional parameters.  You
must pass them in the order specified in the documentation for each method.
Optional parameters must be passed as named parameters in a HASH reference.  The
HASH reference containing the named parameters must be the final parameter to
the method call.  Any required parameters not passed as positional parameters,
must be included in the named parameter HASH reference.

For example, the REST API method C<update> has one required parameter,
C<status>.  You can call C<update> with a HASH ref argument:

    $nt->update({ status => 'Hello world!' });

Or, you can use the convenient, positional parameter form:

    $nt->update('Hello world!');

The C<update> method also has an optional parameter, C<in_reply_to_status_id>.
To use it, you B<must> use the HASH ref form:

    $nt->update({ status => 'Hello world!', in_reply_to_status_id => $reply_to });

You may use the convenient positional form for the required C<status> parameter
with the optional parameters specified in the named parameter HASH reference:

    $nt->update('Hello world!', { in_reply_to_status_id => $reply_to });

Convenience form is provided for the required parameters of all API methods.
So, these two calls are equivalent:

    $nt->friendship_exists({ user_a => $fred, user_b => $barney });
    $nt->friendship_exists($fred, $barney);

Many API methods have aliases.  You can use the API method name, or any of its
aliases, as you prefer.  For example, these calls are all equivalent:

    $nt->friendship_exists($fred, $barney);
    $nt->relationship_exists($fred, $barney);
    $nt->follows($fred, $barney);

Aliases support both the HASH ref and convenient forms:

    $nt->follows({ user_a => $fred, user_b => $barney });

=head2 Cursors and Paging

Some methods return partial results a page at a time.  Originally, methods that
returned partial results used a C<page> parameter.   A more recent addition to
the Twitter API for retrieving multiple pages uses the C<cursor> parameter.
Usually, a method uses either the C<page> parameter or the C<cursor> parameter,
but not both.  There have been exceptions to this rule when Twitter
deprecates the use of C<page> for a method in favor of C<cursor>.  In
that case, both methods may work during a transition period. So, if a
method supports both, you should always use the C<cursor> parameter.

=head3 Paging

For methods that support paging, the first page is returned by passing
C<< page => 1 >>, the second page by passing C<< page => 2 >>, etc.  If no
C<page> parameter is passed, the first page is returned.

Here's an example that demonstrates how to obtain all favorites in a loop:

    my @favs;
    for ( my $page = 1; ; ++$page ) {
        my $r = $nt->favorites({ page => $page });
        last unless @$r;

        push @favs, @$r;
    }

=head3 Cursors

Cursoring employs a different strategy.  To obtain the first page of results,
pass C<< cursor => -1 >>.  Twitter returns a reference to a hash that
includes entries C<next_cursor>, C<previous_cursor>, and an entry
with a reference to an array containing a page of the requested
items.  The key for the array reference will be named C<users>,
C<ids>, or something similar depending upon the type of returned
items. For example, when C<cursor> parameter is used with the
C<followers_ids> method, the returned in hash entry C<ids>.

The C<next_cursor> value can be used in a subsequent call to obtain the next
page of results.  When you have obtained the last page of results,
C<next_cursor> will be 0.  Likewise, you can use the value for
C<previous_cursor> to obtain the previous page of results.  When you have
obtained the first page, C<previous_cursor> will be 0.

Here's an example that demonstrates how to obtain all follower IDs in a loop
using the C<cursor> parameter:

    my @ids;
    for ( my $cursor = -1, my $r; $cursor; $cursor = $r->{next_cursor} ) {
        $r = $nt->followers_ids({ cursor => $cursor });
        push @ids, @{ $r->{ids} };
    }

=head2 Synthetic Arguments

In addition to the arguments described in the Twitter API Documentation for
each API method, Net::Twitter supports additional I<synthetic> arguments.

=over 4

=item authenticate

When set to 1, Net::Twitter will provide an Authorization header for the API
call; when set to 0, it will suppress the Authentication header.  This argument
overrides the defined authentication behavior for the API method.  It is
probably only useful for the C<rate_limit_satus> method which returns different
values for authenticated and unauthenticated calls.  See L</AUTHENTICATION> for
more details.

=item since

API methods that accept the C<since_id> argument will also accept the synthetic
C<since> argument, instead.  C<since> may be a C<Date::Time> object, an epoch
time (the number of seconds since the system epoch), or a string in the same
format returned by Twitter for the C<created_at> attribute.  Only statuses with a
C<created_at> time greater than C<since> will be returned by the API call.

=back

=head1 REST API Methods

These methods are provided when trait C<API::REST> is included in the C<traits>
option to C<new>.

=head2 Common Parameters

=over 4

=item id

Several of these methods accept a user ID as the C<id> parameter.  The user ID
can be either a screen name, or the users numeric ID.  To disambiguate, use
the C<screen_name> or C<user_id> parameters, instead.

For example, These calls are equivalent:

    $nt->create_friend('perl_api');    # screen name
    $nt->create_friend(1564061);       # numeric ID
    $nt->create_friend({ id => 'perl_api' });
    $nt->create_friend({ screen_name => 'perl_api' });
    $nt->create_friend({ user_id     => 1564061 });

However user_id 911 and screen_name 911 are separate Twitter accounts.  These
calls are NOT equivalent:

    $nt->create_friend(911); # interpreted as screen name
    $nt->create_friend({ user_id => 911 }); # screen name: richellis

Whenever the C<id> parameter is required and C<user_id> and C<screen_name> are
also parameters, using any one of them satisfies the requirement.

=item skip_user

The timeline methods all accept an optional C<skip_user> parameter.  When set
to a true value, the statuses returned in a timeline will not contain an entire
embedded user HASH. Instead, the user node will contain only an C<id> element
to indicate the numerical ID of the Twitter user that sent the status.

=back

=head2 Methods



=over 4

=item B<account_settings>



=over 4

=item Parameters: I<none>

=item Required: I<none>

=back

Returns the current trend, geo and sleep time information for the
authenticating user.


Returns: HashRef

=item B<account_totals>



=over 4

=item Parameters: I<none>

=item Required: I<none>

=back

Returns the current count of friends, followers, updates (statuses)
and favorites of the authenticating user.


Returns: HashRef

=item B<all_lists>

=item B<all_lists(id)>



=over 4

=item Parameters: id, user_id, screen_name

=item Required: id

=back

Returns all lists the authenticating or specified user subscribes to, including
their own. The user is specified using the C<user_id> or C<screen_name
parameters>. If no user is given, the authenticating user is used.  Requires
authentication unless requesting for another user.


Returns: ArrayRef[List]

=item B<block_exists>

=item B<block_exists(id)>



=over 4

=item Parameters: id, user_id, screen_name

=item Required: id

=back

Returns if the authenticating user is blocking a target user. Will return the blocked user's
object if a block exists, and error with HTTP 404 response code otherwise.


Returns: BasicUser

=item B<blocking>

=item B<blocking(page)>



=over 4

=item Parameters: page

=item Required: I<none>

=back

Returns an array of user objects that the authenticating user is blocking.


Returns: ArrayRef[BasicUser]

=item B<blocking_ids>



=over 4

=item Parameters: I<none>

=item Required: I<none>

=back

Returns an array of numeric user ids the authenticating user is blocking.


Returns: ArrayRef[Int]

=item B<create_block>

=item B<create_block(id)>



=over 4

=item Parameters: id

=item Required: id

=back

Blocks the user specified in the ID parameter as the authenticating user.
Returns the blocked user when successful.  You can find out more about
blocking in the Twitter Support Knowledge Base.


Returns: BasicUser

=item B<create_favorite>

=item B<create_favorite(id)>



=over 4

=item Parameters: id

=item Required: id

=back

Favorites the status specified in the ID parameter as the
authenticating user.  Returns the favorite status when successful.


Returns: Status

=item B<create_friend>

=item B<create_friend(id)>


=item alias: follow_new


=over 4

=item Parameters: id, user_id, screen_name, follow

=item Required: id

=back

Befriends the user specified in the ID parameter as the authenticating user.
Returns the befriended user when successful.  Returns a string describing the
failure condition when unsuccessful.


Returns: BasicUser

=item B<create_saved_search>

=item B<create_saved_search(query)>



=over 4

=item Parameters: query

=item Required: query

=back

Creates a saved search for the authenticated user.


Returns: SavedSearch

=item B<destroy_block>

=item B<destroy_block(id)>



=over 4

=item Parameters: id

=item Required: id

=back

Un-blocks the user specified in the ID parameter as the authenticating user.
Returns the un-blocked user when successful.


Returns: BasicUser

=item B<destroy_direct_message>

=item B<destroy_direct_message(id)>



=over 4

=item Parameters: id

=item Required: id

=back

Destroys the direct message specified in the required ID parameter.
The authenticating user must be the recipient of the specified direct
message.


Returns: DirectMessage

=item B<destroy_favorite>

=item B<destroy_favorite(id)>



=over 4

=item Parameters: id

=item Required: id

=back

Un-favorites the status specified in the ID parameter as the
authenticating user.  Returns the un-favorited status.


Returns: Status

=item B<destroy_friend>

=item B<destroy_friend(id)>


=item alias: unfollow


=over 4

=item Parameters: id, user_id, screen_name

=item Required: id

=back

Discontinues friendship with the user specified in the ID parameter as the
authenticating user.  Returns the un-friended user when successful.
Returns a string describing the failure condition when unsuccessful.


Returns: BasicUser

=item B<destroy_saved_search>

=item B<destroy_saved_search(id)>



=over 4

=item Parameters: id

=item Required: id

=back

Destroys a saved search. The search, specified by C<id>, must be owned
by the authenticating user.


Returns: SavedSearch

=item B<destroy_status>

=item B<destroy_status(id)>



=over 4

=item Parameters: id

=item Required: id

=back

Destroys the status specified by the required ID parameter.  The
authenticating user must be the author of the specified status.


Returns: Status

=item B<direct_messages>



=over 4

=item Parameters: since_id, max_id, count, page

=item Required: I<none>

=back

Returns a list of the 20 most recent direct messages sent to the authenticating
user including detailed information about the sending and recipient users.


Returns: ArrayRef[DirectMessage]

=item B<disable_notifications>

=item B<disable_notifications(id)>



=over 4

=item Parameters: id

=item Required: id

=back

Disables notifications for updates from the specified user to the
authenticating user.  Returns the specified user when successful.


Returns: BasicUser

=item B<enable_notifications>

=item B<enable_notifications(id)>



=over 4

=item Parameters: id

=item Required: id

=back

Enables notifications for updates from the specified user to the
authenticating user.  Returns the specified user when successful.


Returns: BasicUser

=item B<end_session>



=over 4

=item Parameters: I<none>

=item Required: I<none>

=back

Ends the session of the authenticating user, returning a null cookie.
Use this method to sign users out of client-facing applications like
widgets.


Returns: Error

=item B<favorites>



=over 4

=item Parameters: id, page

=item Required: I<none>

=back

Returns the 20 most recent favorite statuses for the authenticating
user or user specified by the ID parameter.


Returns: ArrayRef[Status]

=item B<followers>



=over 4

=item Parameters: id, user_id, screen_name, cursor

=item Required: I<none>

=back

Returns a reference to an array of the user's followers.  If C<id>, C<user_id>,
or C<screen_name> is not specified, the followers of the authenticating user are
returned.  The returned users are ordered from most recently followed to least
recently followed.

Use the optional C<cursor> parameter to retrieve users in pages of 100.  When
the C<cursor> parameter is used, the return value is a reference to a hash with
keys C<previous_cursor>, C<next_cursor>, and C<users>.  The value of C<users>
is a reference to an array of the user's friends. The result set isn't
guaranteed to be 100 every time as suspended users will be filtered out.  Set
the optional C<cursor> parameter to -1 to get the first page of users.  Set it
to the prior return's value of C<previous_cursor> or C<next_cursor> to page
forward or backwards.  When there are no prior pages, the value of
C<previous_cursor> will be 0.  When there are no subsequent pages, the value of
C<next_cursor> will be 0.


Returns: HashRef|ArrayRef[User]

=item B<followers_ids>

=item B<followers_ids(id)>



=over 4

=item Parameters: id, user_id, screen_name, cursor

=item Required: id

=back

Returns a reference to an array of numeric IDs for every user following the
specified user.

Use the optional C<cursor> parameter to retrieve IDs in pages of 5000.  When
the C<cursor> parameter is used, the return value is a reference to a hash with
keys C<previous_cursor>, C<next_cursor>, and C<ids>.  The value of C<ids> is a
reference to an array of IDS of the user's followers. Set the optional C<cursor>
parameter to -1 to get the first page of IDs.  Set it to the prior return's
value of C<previous_cursor> or C<next_cursor> to page forward or backwards.
When there are no prior pages, the value of C<previous_cursor> will be 0.  When
there are no subsequent pages, the value of C<next_cursor> will be 0.


Returns: HashRef|ArrayRef[Int]

=item B<friends>


=item alias: following


=over 4

=item Parameters: id, user_id, screen_name, cursor

=item Required: I<none>

=back

Returns a reference to an array of the user's friends.  If C<id>, C<user_id>,
or C<screen_name> is not specified, the friends of the authenticating user are
returned.  The returned users are ordered from most recently followed to least
recently followed.

Use the optional C<cursor> parameter to retrieve users in pages of 100.  When
the C<cursor> parameter is used, the return value is a reference to a hash with
keys C<previous_cursor>, C<next_cursor>, and C<users>.  The value of C<users>
is a reference to an array of the user's friends. The result set isn't
guaranteed to be 100 every time as suspended users will be filtered out.  Set
the optional C<cursor> parameter to -1 to get the first page of users.  Set it
to the prior return's value of C<previous_cursor> or C<next_cursor> to page
forward or backwards.  When there are no prior pages, the value of
C<previous_cursor> will be 0.  When there are no subsequent pages, the value of
C<next_cursor> will be 0.


Returns: Hashref|ArrayRef[User]

=item B<friends_ids>

=item B<friends_ids(id)>


=item alias: following_ids


=over 4

=item Parameters: id, user_id, screen_name, cursor

=item Required: id

=back

Returns a reference to an array of numeric IDs for every user followed the
specified user.

Use the optional C<cursor> parameter to retrieve IDs in pages of 5000.  When
the C<cursor> parameter is used, the return value is a reference to a hash with
keys C<previous_cursor>, C<next_cursor>, and C<ids>.  The value of C<ids> is a
reference to an array of IDS of the user's friends. Set the optional C<cursor>
parameter to -1 to get the first page of IDs.  Set it to the prior return's
value of C<previous_cursor> or C<next_cursor> to page forward or backwards.
When there are no prior pages, the value of C<previous_cursor> will be 0.  When
there are no subsequent pages, the value of C<next_cursor> will be 0.


Returns: HashRef|ArrayRef[Int]

=item B<friends_timeline>


=item alias: following_timeline


=over 4

=item Parameters: since_id, max_id, count, page, skip_user

=item Required: I<none>

=back

Returns the 20 most recent statuses posted by the authenticating user
and that user's friends. This is the equivalent of /home on the Web.


Returns: ArrayRef[Status]

=item B<friendship_exists>

=item B<friendship_exists(user_a, user_b)>


=item alias: relationship_exists

=item alias: follows


=over 4

=item Parameters: user_a, user_b

=item Required: user_a, user_b

=back

Tests for the existence of friendship between two users. Will return true if
user_a follows user_b, otherwise will return false.


Returns: Bool

=item B<friendships_incoming>

=item B<friendships_incoming(cursor)>



=over 4

=item Parameters: cursor

=item Required: cursor

=back

Returns an HASH ref with an array of numeric IDs in the C<ids> element for
every user who has a pending request to follow the authenticating user.


Returns: HashRef

=item B<friendships_outgoing>

=item B<friendships_outgoing(cursor)>



=over 4

=item Parameters: cursor

=item Required: cursor

=back

Returns an HASH ref with an array of numeric IDs in the C<ids> element for
every protected user for whom the authenticating user has a pending follow
request.


Returns: HashRef

=item B<geo_id>

=item B<geo_id(id)>



=over 4

=item Parameters: id

=item Required: id

=back

Returns details of a place returned from the C<reverse_geocode> method.


Returns: HashRef

=item B<home_timeline>



=over 4

=item Parameters: since_id, max_id, count, page, skip_user, exclude_replies, contributor_details, include_rts, include_entities, trim_user, include_my_retweet

=item Required: I<none>

=back

Returns the 20 most recent statuses, including retweets, posted by the
authenticating user and that user's friends. This is the equivalent of
/timeline/home on the Web.


Returns: ArrayRef[Status]

=item B<lookup_friendships>



=over 4

=item Parameters: user_id, screen_name

=item Required: I<none>

=back

Returns the relationship of the authenticating user to the comma separated list
or ARRAY ref of up to 100 screen_names or user_ids provided. Values for
connections can be: following, following_requested, followed_by, none.
Requires authentication.


Returns: ArrayRef

=item B<lookup_users>



=over 4

=item Parameters: user_id, screen_name

=item Required: I<none>

=back

Return up to 20 users worth of extended information, specified by either ID,
screen name, or combination of the two. The author's most recent status (if the
authenticating user has permission) will be returned inline.  This method is
rate limited to 1000 calls per hour.

This method will accept user IDs or screen names as either a comma delimited
string, or as an ARRAY ref.  It will also accept arguments in the normal
HASHREF form or as a simple list of named arguments.  I.e., any of the
following forms are acceptable:

    $nt->lookup_users({ user_id => '1234,6543,3333' });
    $nt->lookup_users(user_id => '1234,6543,3333');
    $nt->lookup_users({ user_id => [ 1234, 6543, 3333 ] });
    $nt->lookup_users({ screen_name => 'fred,barney,wilma' });
    $nt->lookup_users(screen_name => ['fred', 'barney', 'wilma']);

    $nt->lookup_users(
        screen_name => ['fred', 'barney' ],
        user_id     => '4321,6789',
    );



Returns: ArrayRef[User]

=item B<mentions>


=item alias: replies


=over 4

=item Parameters: since_id, max_id, count, page

=item Required: I<none>

=back

Returns the 20 most recent mentions (statuses containing @username) for the
authenticating user.


Returns: ArrayRef[Status]

=item B<new_direct_message>

=item B<new_direct_message(user, text)>



=over 4

=item Parameters: user, text, screen_name, user_id

=item Required: user, text

=back

Sends a new direct message to the specified user from the authenticating user.
Requires both the user and text parameters.  Returns the sent message when
successful.  In order to support numeric screen names, the C<screen_name> or
C<user_id> parameters may be used instead of C<user>.


Returns: DirectMessage

=item B<public_timeline>

=item B<public_timeline(skip_user)>



=over 4

=item Parameters: skip_user

=item Required: I<none>

=back

Returns the 20 most recent statuses from non-protected users who have
set a custom user icon.  Does not require authentication.  Note that
the public timeline is cached for 60 seconds so requesting it more
often than that is a waste of resources.

If user credentials are provided, C<public_timeline> calls are authenticated,
so they count against the authenticated user's rate limit.  Use C<<
->public_timeline({ authenticate => 0 }) >> to make an unauthenticated call
which will count against the calling IP address' rate limit, instead.


Returns: ArrayRef[Status]

=item B<rate_limit_status>



=over 4

=item Parameters: I<none>

=item Required: I<none>

=back

Returns the remaining number of API requests available to the
authenticated user before the API limit is reached for the current hour.

Use C<< ->rate_limit_status({ authenticate => 0 }) >> to force an
unauthenticated call, which will return the status for the IP address rather
than the authenticated user. (Note: for a web application, this is the server's
IP address.)


Returns: RateLimitStatus

=item B<related_results>

=item B<related_results(id)>



=over 4

=item Parameters: id

=item Required: id

=back

If available, returns an array of replies and mentions related to the specified
status. There is no guarantee there will be any replies or mentions in the
response. This method is only available to users who have access to
#newtwitter.  Requires authentication.


Returns: ArrayRef[Status]

=item B<report_spam>

=item B<report_spam(id)>



=over 4

=item Parameters: id, user_id, screen_name

=item Required: id

=back

The user specified in the id is blocked by the authenticated user and reported as a spammer.


Returns: User

=item B<retweet>

=item B<retweet(id)>



=over 4

=item Parameters: id

=item Required: id

=back

Retweets a tweet. Requires the id parameter of the tweet you are retweeting.
Returns the original tweet with retweet details embedded.


Returns: Status

=item B<retweeted_by>

=item B<retweeted_by(id)>



=over 4

=item Parameters: id, count, page

=item Required: id

=back

Returns up to 100 users who retweeted the status identified by C<id>.


Returns: ArrayRef[User]

=item B<retweeted_by_ids>

=item B<retweeted_by_ids(id)>



=over 4

=item Parameters: id, count, page

=item Required: id

=back

Returns the IDs of up to 100 users who retweeted the status identified by C<id>.


Returns: ArrayRef[User]

=item B<retweeted_by_me>



=over 4

=item Parameters: since_id, max_id, count, page

=item Required: I<none>

=back

Returns the 20 most recent retweets posted by the authenticating user.


Returns: ArrayRef[Status]

=item B<retweeted_by_user>

=item B<retweeted_by_user(id)>



=over 4

=item Parameters: id, user_id, screen_name

=item Required: id

=back

Returns the 20 most recent retweets posted by the specified user. The user is
specified using the user_id or screen_name parameters. This method is identical
to C<retweeted_by_me> except you can choose the user to view.  Does not require
authentication, unless the user is protected.


Returns: ArrayRef

=item B<retweeted_to_me>



=over 4

=item Parameters: since_id, max_id, count, page

=item Required: I<none>

=back

Returns the 20 most recent retweets posted by the authenticating user's friends.


Returns: ArrayRef[Status]

=item B<retweeted_to_user>

=item B<retweeted_to_user(id)>



=over 4

=item Parameters: id, user_id, screen_name

=item Required: id

=back

Returns the 20 most recent retweets posted by users the specified user
follows. The user is specified using the user_id or screen_name
parameters. This method is identical to C<retweeted_to_me>
except you can choose the user to view.
Does not require authentication, unless the user is protected.


Returns: ArrayRef

=item B<retweets>

=item B<retweets(id)>



=over 4

=item Parameters: id, count

=item Required: id

=back

Returns up to 100 of the first retweets of a given tweet.


Returns: Arrayref[Status]

=item B<retweets_of_me>


=item alias: retweeted_of_me


=over 4

=item Parameters: since_id, max_id, count, page

=item Required: I<none>

=back

Returns the 20 most recent tweets of the authenticated user that have been
retweeted by others.


Returns: ArrayRef[Status]

=item B<reverse_geocode>

=item B<reverse_geocode(lat, long)>



=over 4

=item Parameters: lat, long, accuracy, granularity, max_results

=item Required: lat, long

=back


Search for places (cities and neighborhoods) that can be attached to a
statuses/update.  Given a latitude and a longitude, return a list of all the
valid places that can be used as a place_id when updating a status.
Conceptually, a query can be made from the user's location, retrieve a list of
places, have the user validate the location he or she is at, and then send the
ID of this location up with a call to statuses/update.

There are multiple granularities of places that can be returned --
"neighborhoods", "cities", etc.  At this time, only United States data is
available through this method.

=over 4

=item lat

Required.  The latitude to query about.  Valid ranges are -90.0 to +90.0 (North
is positive) inclusive.

=item long

Required. The longitude to query about.  Valid ranges are -180.0 to +180.0
(East is positive) inclusive.

=item accuracy

Optional. A hint on the "region" in which to search.  If a number, then this is
a radius in meters, but it can also take a string that is suffixed with ft to
specify feet.  If this is not passed in, then it is assumed to be 0m.  If
coming from a device, in practice, this value is whatever accuracy the device
has measuring its location (whether it be coming from a GPS, WiFi
triangulation, etc.).

=item granularity

Optional.  The minimal granularity of data to return.  If this is not passed
in, then C<neighborhood> is assumed.  C<city> can also be passed.

=item max_results

Optional.  A hint as to the number of results to return.  This does not
guarantee that the number of results returned will equal max_results, but
instead informs how many "nearby" results to return.  Ideally, only pass in the
number of places you intend to display to the user here.

=back



Returns: HashRef

=item B<saved_searches>



=over 4

=item Parameters: I<none>

=item Required: I<none>

=back

Returns the authenticated user's saved search queries.


Returns: ArrayRef[SavedSearch]

=item B<sent_direct_messages>



=over 4

=item Parameters: since_id, max_id, page

=item Required: I<none>

=back

Returns a list of the 20 most recent direct messages sent by the authenticating
user including detailed information about the sending and recipient users.


Returns: ArrayRef[DirectMessage]

=item B<show_direct_message>

=item B<show_direct_message(id)>



=over 4

=item Parameters: id

=item Required: id

=back

Returns a single direct message, specified by an id parameter. Like
the C<direct_messages> request, this method will include the
user objects of the sender and recipient.  Requires authentication.


Returns: HashRef

=item B<show_friendship>

=item B<show_friendship(id)>


=item alias: show_relationship


=over 4

=item Parameters: source_id, source_screen_name, target_id, target_id_name

=item Required: id

=back

Returns detailed information about the relationship between two users.


Returns: Relationship

=item B<show_saved_search>

=item B<show_saved_search(id)>



=over 4

=item Parameters: id

=item Required: id

=back

Retrieve the data for a saved search, by ID, owned by the authenticating user.


Returns: SavedSearch

=item B<show_status>

=item B<show_status(id)>



=over 4

=item Parameters: id

=item Required: id

=back

Returns a single status, specified by the id parameter.  The
status's author will be returned inline.


Returns: Status

=item B<show_user>

=item B<show_user(id)>



=over 4

=item Parameters: id

=item Required: id

=back

Returns extended information of a given user, specified by ID or screen
name as per the required id parameter.  This information includes
design settings, so third party developers can theme their widgets
according to a given user's preferences. You must be properly
authenticated to request the page of a protected user.


Returns: ExtendedUser

=item B<suggestion_categories>



=over 4

=item Parameters: I<none>

=item Required: I<none>

=back

Returns the list of suggested user categories. The category slug can be used in
the C<user_suggestions> API method get the users in that category .  Does not
require authentication.


Returns: ArrayRef

=item B<test>



=over 4

=item Parameters: I<none>

=item Required: I<none>

=back

Returns the string "ok" status code.


Returns: Str

=item B<trends_available>



=over 4

=item Parameters: lat, long

=item Required: I<none>

=back

Returns the locations with trending topic information. The response is an
array of "locations" that encode the location's WOEID (a Yahoo!  Where On Earth
ID L<http://developer.yahoo.com/geo/geoplanet/>) and some other human-readable
information such as a the location's canonical name and country.

When the optional C<lat> and C<long> parameters are passed, the available trend
locations are sorted by distance from that location, nearest to farthest.

Use the WOEID returned in the location object to query trends for a specific
location.


Returns: ArrayRef[Location]

=item B<trends_location>

=item B<trends_location(woeid)>



=over 4

=item Parameters: woeid

=item Required: woeid

=back

Returns the top 10 trending topics for a specific location. The response is an
array of "trend" objects that encode the name of the trending topic, the query
parameter that can be used to search for the topic on Search, and the direct
URL that can be issued against Search.  This information is cached for five
minutes, and therefore users are discouraged from querying these endpoints
faster than once every five minutes.  Global trends information is also
available from this API by using a WOEID of 1.


Returns: ArrayRef[Trend]

=item B<update>

=item B<update(status)>



=over 4

=item Parameters: status, lat, long, place_id, display_coordinates, in_reply_to_status_id

=item Required: status

=back


Updates the authenticating user's status.  Requires the status parameter
specified.  A status update with text identical to the authenticating
user's current status will be ignored.

=over 4

=item status

Required.  The text of your status update. URL encode as necessary. Statuses
over 140 characters will cause a 403 error to be returned from the API.

=item in_reply_to_status_id

Optional. The ID of an existing status that the update is in reply to.  o Note:
This parameter will be ignored unless the author of the tweet this parameter
references is mentioned within the status text. Therefore, you must include
@username, where username is the author of the referenced tweet, within the
update.

=item lat

Optional. The location's latitude that this tweet refers to.  The valid ranges
for latitude is -90.0 to +90.0 (North is positive) inclusive.  This parameter
will be ignored if outside that range, if it is not a number, if geo_enabled is
disabled, or if there not a corresponding long parameter with this tweet.

=item long

Optional. The location's longitude that this tweet refers to.  The valid ranges
for longitude is -180.0 to +180.0 (East is positive) inclusive.  This parameter
will be ignored if outside that range, if it is not a number, if geo_enabled is
disabled, or if there not a corresponding lat parameter with this tweet.

=item place_id

Optional. The place to attach to this status update.  Valid place_ids can be
found by querying C<reverse_geocode>.

=item display_coordinates

Optional. By default, geo-tweets will have their coordinates exposed in the
status object (to remain backwards compatible with existing API applications).
To turn off the display of the precise latitude and longitude (but keep the
contextual location information), pass C<display_coordinates => 0> on the
status update.

=back



Returns: Status

=item B<update_delivery_device>

=item B<update_delivery_device(device)>



=over 4

=item Parameters: device

=item Required: device

=back

Sets which device Twitter delivers updates to for the authenticating
user.  Sending none as the device parameter will disable IM or SMS
updates.


Returns: BasicUser

=item B<update_friendship>

=item B<update_friendship(id)>



=over 4

=item Parameters: id, user_id, screen_name, device, retweets

=item Required: id

=back

Allows you enable or disable retweets and device notifications from the
specified user. All other values are assumed to be false.  Requires
authentication.


Returns: HashRef

=item B<update_profile>



=over 4

=item Parameters: name, email, url, location, description

=item Required: I<none>

=back

Sets values that users are able to set under the "Account" tab of their
settings page. Only the parameters specified will be updated; to only
update the "name" attribute, for example, only include that parameter
in your request.


Returns: ExtendedUser

=item B<update_profile_background_image>

=item B<update_profile_background_image(image)>



=over 4

=item Parameters: image, use

=item Required: image

=back

Updates the authenticating user's profile background image. The C<image>
parameter must be an arrayref with the same interpretation as the C<image>
parameter in the C<update_profile_image> method.  The C<use> parameter allows
you to specify whether to use the  uploaded profile background or not. See
that method's documentation for details.


Returns: ExtendedUser

=item B<update_profile_colors>



=over 4

=item Parameters: profile_background_color, profile_text_color, profile_link_color, profile_sidebar_fill_color, profile_sidebar_border_color

=item Required: I<none>

=back

Sets one or more hex values that control the color scheme of the
authenticating user's profile page on twitter.com.  These values are
also returned in the /users/show API method.


Returns: ExtendedUser

=item B<update_profile_image>

=item B<update_profile_image(image)>



=over 4

=item Parameters: image

=item Required: image

=back

Updates the authenticating user's profile image.  The C<image> parameter is an
arrayref with the following interpretation:

  [ $file ]
  [ $file, $filename ]
  [ $file, $filename, Content_Type => $mime_type ]
  [ undef, $filename, Content_Type => $mime_type, Content => $raw_image_data ]

The first value of the array (C<$file>) is the name of a file to open.  The
second value (C<$filename>) is the name given to Twitter for the file.  If
C<$filename> is not provided, the basename portion of C<$file> is used.  If
C<$mime_type> is not provided, it will be provided automatically using
L<LWP::MediaTypes::guess_media_type()>.

C<$raw_image_data> can be provided, rather than opening a file, by passing
C<undef> as the first array value.


Returns: ExtendedUser

=item B<user_suggestions>

=item B<user_suggestions(category)>


=item alias: follow_suggestions


=over 4

=item Parameters: category, lang

=item Required: category

=back

Access the users in a given category of the Twitter suggested user list and
return their most recent status if they are not a protected user. Currently
supported values for optional parameter C<lang> are C<en>, C<fr>, C<de>, C<es>,
C<it>.  Does not require authentication.


Returns: ArrayRef

=item B<user_timeline>



=over 4

=item Parameters: id, user_id, screen_name, since_id, max_id, count, page, skip_user

=item Required: I<none>

=back

Returns the 20 most recent statuses posted from the authenticating
user. It's also possible to request another user's timeline via the id
parameter. This is the equivalent of the Web /archive page for
your own user, or the profile page for a third party.


Returns: ArrayRef[Status]

=item B<users_search>

=item B<users_search(q)>


=item alias: find_people

=item alias: search_users


=over 4

=item Parameters: q, per_page, page

=item Required: q

=back

Run a search for users similar to Find People button on Twitter.com; the same
results returned by people search on Twitter.com will be returned by using this
API (about being listed in the People Search).  It is only possible to retrieve
the first 1000 matches from this API.


Returns: ArrayRef[Users]

=item B<verify_credentials>



=over 4

=item Parameters: I<none>

=item Required: I<none>

=back

Returns an HTTP 200 OK response code and a representation of the
requesting user if authentication was successful; returns a 401 status
code and an error message if not.  Use this method to test if supplied
user credentials are valid.


Returns: ExtendedUser


=back



=head1 Search API Methods

These methods are provided when trait C<API::Search> is included in the C<traits>
option to C<new>.



=over 4

=item B<search>

=item B<search(q)>



=over 4

=item Parameters: q, callback, lang, rpp, page, since_id, geocode, show_user

=item Required: q

=back

Returns a HASH reference with some meta-data about the query including the
C<next_page>, C<refresh_url>, and C<max_id>. The statuses are returned in
C<results>.  To iterate over the results, use something similar to:

    my $r = $nt->search($searh_term);
    for my $status ( @{$r->{results}} ) {
        print "$status->{text}\n";
    }


Returns: HashRef

=item B<trends>



=over 4

=item Parameters: I<none>

=item Required: I<none>

=back

Returns the top ten queries that are currently trending on Twitter.  The
response includes the time of the request, the name of each trending topic, and
the url to the Twitter Search results page for that topic.


Returns: ArrayRef[Query]

=item B<trends_current>

=item B<trends_current(exclude)>



=over 4

=item Parameters: exclude

=item Required: I<none>

=back

Returns the current top ten trending topics on Twitter.  The response includes
the time of the request, the name of each trending topic, and query used on
Twitter Search results page for that topic.


Returns: HashRef

=item B<trends_daily>



=over 4

=item Parameters: date, exclude

=item Required: I<none>

=back

Returns the top 20 trending topics for each hour in a given day.


Returns: HashRef

=item B<trends_weekly>



=over 4

=item Parameters: date, exclude

=item Required: I<none>

=back

Returns the top 30 trending topics for each day in a given week.


Returns: HashRef


=back



=head1 Lists API Methods

These methods are provided when trait C<API::Lists> is included in the C<traits>
option to C<new>. All Lists API methods require a C<user> parameter.  It is the
screen_name of the list owner.



=over 4

=item B<add_list_member>

=item B<add_list_member(user, list_id, id)>



=over 4

=item Parameters: user, list_id, id

=item Required: user, list_id, id

=back

Adds the user identified by C<id> to the list.

Returns a reference the added user as a hash reference.


Returns: User

=item B<create_list>

=item B<create_list(user, name)>



=over 4

=item Parameters: user, name, mode, description

=item Required: user, name

=back

Creates a new list for the authenticated user. The C<mode> parameter may be
either C<public> or C<private>.  If not specified, it defaults to C<public>.


Returns: HashRef

=item B<delete_list>

=item B<delete_list(user, list_id)>



=over 4

=item Parameters: user, list_id

=item Required: user, list_id

=back

Deletes a list owned by the authenticating user. Returns the list as a hash
reference.


Returns: 

=item B<delete_list_member>

=item B<delete_list_member(user, list_id, id)>


=item alias: remove_list_member


=over 4

=item Parameters: user, list_id, id

=item Required: user, list_id, id

=back

Deletes the user identified by C<id> from the specified list.

Returns the deleted user as a hash reference.


Returns: 

=item B<get_list>

=item B<get_list(user, list_id)>



=over 4

=item Parameters: user, list_id

=item Required: user, list_id

=back

Returns the specified list as a hash reference.


Returns: HashRef

=item B<get_lists>

=item B<get_lists(user)>


=item alias: list_lists


=over 4

=item Parameters: user, cursor

=item Required: user

=back

Returns a reference to an array of lists owned by the specified user.  If the
user is the authenticated user, it returns both public and private lists.
Otherwise, it only returns public lists.

When the C<cursor> parameter is used, a hash reference is returned; the lists
are returned in the C<lists> element of the hash.


Returns: ArrayRef[List]

=item B<is_list_member>

=item B<is_list_member(user, list_id, id)>



=over 4

=item Parameters: user, list_id, id

=item Required: user, list_id, id

=back

Returns the list member as a HASH reference if C<id> is a member of the list.
Otherwise, returns undef.


Returns: ArrayRef[User]

=item B<is_list_subscriber>

=item B<is_list_subscriber(user, list_id, id)>


=item alias: is_subscribed_list


=over 4

=item Parameters: user, list_id, id

=item Required: user, list_id, id

=back

Returns the subscriber as a HASH reference if C<id> is a subscriber to the list.
Otherwise, returns undef.


Returns: ArrayRef[User]

=item B<list_members>

=item B<list_members(user, list_id)>



=over 4

=item Parameters: user, list_id, id, cursor

=item Required: user, list_id

=back

Returns the list members as an array reference.

The optional C<id> parameter can be used to determine if the user specified by
C<id> is a member of the list.  If so, the user is returned as a hash
reference; if not, C<undef> is returned.

When the C<cursor> parameter is used, a hash reference is returned; the members
are returned in the C<users> element of the hash.


Returns: ArrayRef[User]

=item B<list_memberships>

=item B<list_memberships(user)>



=over 4

=item Parameters: user, cursor

=item Required: user

=back

Returns the lists the specified user is a member of as an array reference.

When the C<cursor> parameter is used, a hash reference is returned; the lists
are returned in the C<lists> element of the hash.


Returns: 

=item B<list_statuses>

=item B<list_statuses(user, list_id)>



=over 4

=item Parameters: user, list_id, since_id, max_id, per_page, page

=item Required: user, list_id

=back

Returns a timeline of list member statuses as an array reference.


Returns: ArrayRef[Status]

=item B<list_subscribers>

=item B<list_subscribers(user, list_id)>



=over 4

=item Parameters: user, list_id, id, cursor

=item Required: user, list_id

=back

Returns the subscribers to a list as an array reference.

When the C<cursor> parameter is used, a hash reference is returned; the subscribers
are returned in the C<users> element of the hash.


Returns: ArrayRef[User]

=item B<list_subscriptions>

=item B<list_subscriptions(user)>



=over 4

=item Parameters: user, cursor

=item Required: user

=back

Returns a lists to which the specified user is subscribed as an array reference.

When the C<cursor> parameter is used, a hash reference is returned; the lists
are returned in the C<lists> element of the hash.


Returns: 

=item B<subscribe_list>

=item B<subscribe_list(user, list_id)>



=over 4

=item Parameters: user, list_id

=item Required: user, list_id

=back

Subscribes the authenticated user to the specified list.


Returns: List

=item B<unsubscribe_list>

=item B<unsubscribe_list(user, list_id)>



=over 4

=item Parameters: user, list_id

=item Required: user, list_id

=back

Unsubscribes the authenticated user from the specified list.


Returns: List

=item B<update_list>

=item B<update_list(user, list_id)>



=over 4

=item Parameters: user, list_id, name, mode, description

=item Required: user, list_id

=back

Updates a list to change the name, mode, description, or any combination thereof.


Returns: HashRef


=back



=head1 TwitterVision API Methods

These methods are provided when trait C<API::TwitterVision> is included in the
C<traits> option to C<new>.



=over 4

=item B<current_status>

=item B<current_status(id)>



=over 4

=item Parameters: id, callback

=item Required: id

=back

Get the current location and status of a user.


Returns: HashRef

=item B<update_twittervision>

=item B<update_twittervision(location)>



=over 4

=item Parameters: location

=item Required: location

=back

Updates the location for the authenticated user.


Returns: HashRef


=back




=head1 LEGACY COMPATIBILITY

This version of C<Net::Twitter> automatically includes the C<Legacy> trait if
no C<traits> option is provided to C<new>.  Therefore, these 2 calls are
currently equivalent:

    $nt = Net::Twitter->new(username => $user, password => $passwd);
    $nt = Net::Twitter->new(
        username => $user,
        password => $passwd,
        traits   => ['Legacy'],
    );

Thus, existing applications written for a prior version of C<Net::Twitter>
should continue to run, without modification, with this version.

In a future release, the default traits may change.  Prior to that change,
however, a nearer future version will add a warning if no C<traits> option is
provided to C<new>.  To avoid this warning, add an appropriate C<traits>
option to your existing application code.

=head1 ERROR HANDLING

There are currently two strategies for handling errors: throwing exceptions and
wrapping errors.  Exception handling is the newer, recommended strategy.

=head2 Wrapping Errors

When trait C<WrapError> is specified (or C<Legacy>, which includes trait
C<WrapError>), C<Net::Twitter> returns undef on error.  To retrieve information
about the error, use methods C<http_code>, C<http_message>, and C<get_error>.
These methods are described in the L<Net::Twitter::Role::WrapError>.

    if ( my $followers = $nt->followers ) {
        for my $follower ( @$followers ) {
            #...
        }
    }
    else {
        warn "HTTP message: ", $nt->http_message, "\n";
    }

Since an error is stored in the object instance, this error handling strategy
is problematic when using a user agent like C<LWP::UserAgent::POE> that
provides concurrent requests.  The error for one request can be overwritten by
a concurrent request before you have an opportunity to access it.

=head2 Exception Handling

When C<Net::Twitter> encounters a Twitter API error or a network error, it
throws a C<Net::Twitter::Error> object.  You can catch and process these
exceptions by using C<eval> blocks and testing $@:

    eval {
        my $statuses = $nt->friends_timeline(); # this might die!

        for my $status ( @$statuses ) {
            #...
        }
    };
    if ( $@ ) {
        # friends_timeline encountered an error

        if ( blessed $@ && $@->isa('Net::Twitter::Error') ) {
            #... use the thrown error obj
            warn $@->error;
        }
        else {
            # something bad happened!
            die $@;
        }
    }

C<Net::Twitter::Error> stringifies to something reasonable, so if you don't need
detailed error information, you can simply treat $@ as a string:

    eval { $nt->update($status) };
    if ( $@ ) {
        warn "update failed because: $@\n";
    }

=head1 FAQ

=over 4

=item Why does C<< ->followers({ screen_name => $friend }) >> return I<my> followers instead of C<$friends>'s?

First, check carefully to make sure you've spelled "screen_name" correctly.
Twitter sometimes discards parameters it doesn't recognize.  In this case,
the result is a list of your own followers---the same thing that would happen
if you called C<followers> without the C<screen_name> parameter.

=item How do I use the C<geocode> parameter in the Search API?

The C<geocode> parameter value includes a latitude, longitude, and radius
separated with commas.

    $r = $nt->search({ geocode => "45.511795,-122.675629,25mi" });

=item How do I get Twitter to display something other than "from Perl Net::Twitter"?

If you set the source parameter to C<api>, twitter will display "from
API", and if you set it to the empty string, twitter will display, "from
web".

    $nt = Net::Twitter->new(netrc => 1,legacy => 0,ssl => 1,source => 'api');
    $nt->update('A post with the source parameter overridden.');
    # result: http://twitter.com/semifor_test/status/6541105458

    $nt = Net::Twitter->new(netrc => 1,legacy => 0,ssl => 1,source => '');
    $nt->update('A post with the source parameter overridden.');
    # result: http://twitter.com/semifor_test/status/6541257224

If you want something other than "Net::Twitter", "API", or "web", you need to
register an application and use OAuth authentication.  If you do that, you
can have any name you choose for the application printed as the source.
Since rolling out OAuth, Twitter has stopped issuing new registered source
parameters, only existing register source parameters are valid.

=back

=head1 SEE ALSO

=over 4

=item L<Net::Twitter::Error>

The C<Net::Twitter> exception object.

=item L<http://dev.twitter.com/doc>

This is the official Twitter API documentation. It describes the methods and their
parameters in more detail and may be more current than the documentation provided
with this module.

=item L<LWP::UserAgent::POE>

This LWP::UserAgent compatible class can be used in L<POE> based application
along with Net::Twitter to provide concurrent, non-blocking requests.

=item L<Catalyst::Authentication::Credential::Twitter>

This module, by Jesse Stay, provides Twitter OAuth authentication support for
the popular L<Catalyst> web application framework.

=back

=head1 SUPPORT

Please report bugs to C<bug-net-twitter@rt.cpan.org>, or through the web
interface at L<https://rt.cpan.org/Dist/Display.html?Queue=Net-Twitter>.

Join the Net::Twitter IRC channel at L<irc://irc.perl.org/net-twitter>.

Follow perl_api: L<http://twitter.com/perl_api>.

Track Net::Twitter development at L<http://github.com/semifor/Net-Twitter>.

=head1 ACKNOWLEDGEMENTS

Many thanks to Chris Thompson <cpan@cthompson.com>, the original author of
C<Net::Twitter> and all versions prior to 3.00.

Also, thanks to Chris Prather (perigrin) for answering many design and
implementation questions, especially with regards to Moose.

=head1 AUTHOR

Marc Mims <marc@questright.com> (@semifor on Twitter)

=head1 CONTRIBUTORS

Roberto Etcheverry <retcheverry@gmail.com> (@retcheverry on Twitter)

KATOU Akira

Francisco Pecorella

Doug Bell <doug@plainblack.com>

=head1 LICENSE

Copyright (c) 2009 Marc Mims

The Twitter API itself, and the description text used in this module is:

Copyright (c) 2009 Twitter

This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself.

=head1 DISCLAIMER OF WARRANTY

BECAUSE THIS SOFTWARE IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY
FOR THE SOFTWARE, TO THE EXTENT PERMITTED BY APPLICABLE LAW. EXCEPT WHEN
OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES
PROVIDE THE SOFTWARE "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER
EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE
ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE SOFTWARE IS WITH
YOU. SHOULD THE SOFTWARE PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL
NECESSARY SERVICING, REPAIR, OR CORRECTION.

IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR
REDISTRIBUTE THE SOFTWARE AS PERMITTED BY THE ABOVE LICENSE, BE
LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL,
OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE
THE SOFTWARE (INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA BEING
RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A
FAILURE OF THE SOFTWARE TO OPERATE WITH ANY OTHER SOFTWARE), EVEN IF
SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF
SUCH DAMAGES.


